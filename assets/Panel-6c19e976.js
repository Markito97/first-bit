var Zl=Object.defineProperty;var Ql=(e,t,n)=>t in e?Zl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var T=(e,t,n)=>(Ql(e,typeof t!="symbol"?t+"":t,n),n);import{u as tc,r as P,j as k,R as j,h as ns,a as ec,b as is,c as nc,d as ic,e as rc,f as sc,g as oc,i as ac}from"./index-385bf4ee.js";function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},E.apply(this,arguments)}function Gn(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,s;for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}const lc=5e3,cc=.5,dc=5,uc=()=>{const{data:e}=tc(void 0,{pollingInterval:lc}),[t,n]=P.useState(!1),[i,r]=P.useState(!1);return P.useEffect(()=>{if(!e)return;const{currentValue:s,minValue:o,maxValue:a}=e.value,l=s<o||s>a,c=dc-s;let d;c>cc&&(r(!0),d=setTimeout(()=>{r(!1)},1e3)),l&&n(!0);const u=setTimeout(()=>{n(!1)},1e3);return()=>{clearTimeout(d),clearTimeout(u)}},[e]),k.jsxs("div",{className:"control-value-wrapper",children:[k.jsxs("div",{className:"control-value-wrapper-half",style:{background:t?"#6db6fb":i?"yellow":"white"},children:[k.jsx("p",{className:"control-price",children:"Цена"}),k.jsxs("div",{className:"control-price-count",children:[e==null?void 0:e.value.currentValue,k.jsx("span",{className:"control-price-helper-text",children:"руб./кВт*ч"})]})]}),k.jsxs("div",{className:"second-half",children:["5 руб./кВт*ч ",k.jsx("span",{children:"План"})]})]})};function Ki(e,t){return Ki=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},Ki(e,t)}function Zo(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ki(e,t)}var Qo=j.createContext(null);function fc(e){e()}var ta=fc,hc=function(t){return ta=t},pc=function(){return ta};function gc(){var e=pc(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e(function(){for(var r=t;r;)r.callback(),r=r.next})},get:function(){for(var r=[],s=t;s;)r.push(s),s=s.next;return r},subscribe:function(r){var s=!0,o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){!s||t===null||(s=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var rs={notify:function(){},get:function(){return[]}};function ea(e,t){var n,i=rs;function r(u){return l(),i.subscribe(u)}function s(){i.notify()}function o(){d.onStateChange&&d.onStateChange()}function a(){return!!n}function l(){n||(n=t?t.addNestedSub(o):e.subscribe(o),i=gc())}function c(){n&&(n(),n=void 0,i.clear(),i=rs)}var d={addNestedSub:r,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:c,getListeners:function(){return i}};return d}var na=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?P.useLayoutEffect:P.useEffect;function mc(e){var t=e.store,n=e.context,i=e.children,r=P.useMemo(function(){var a=ea(t);return{store:t,subscription:a}},[t]),s=P.useMemo(function(){return t.getState()},[t]);na(function(){var a=r.subscription;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==t.getState()&&a.notifyNestedSubs(),function(){a.tryUnsubscribe(),a.onStateChange=null}},[r,s]);var o=n||Qo;return j.createElement(o.Provider,{value:r},i)}var ia={exports:{}},G={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var di=60103,ui=60106,rn=60107,sn=60108,on=60114,an=60109,ln=60110,cn=60112,dn=60113,pr=60120,un=60115,fn=60116,ra=60121,sa=60122,oa=60117,aa=60129,la=60131;if(typeof Symbol=="function"&&Symbol.for){var it=Symbol.for;di=it("react.element"),ui=it("react.portal"),rn=it("react.fragment"),sn=it("react.strict_mode"),on=it("react.profiler"),an=it("react.provider"),ln=it("react.context"),cn=it("react.forward_ref"),dn=it("react.suspense"),pr=it("react.suspense_list"),un=it("react.memo"),fn=it("react.lazy"),ra=it("react.block"),sa=it("react.server.block"),oa=it("react.fundamental"),aa=it("react.debug_trace_mode"),la=it("react.legacy_hidden")}function At(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case di:switch(e=e.type,e){case rn:case on:case sn:case dn:case pr:return e;default:switch(e=e&&e.$$typeof,e){case ln:case cn:case fn:case un:case an:return e;default:return t}}case ui:return t}}}var vc=an,bc=di,xc=cn,yc=rn,wc=fn,Dc=un,Sc=ui,Cc=on,_c=sn,Ic=dn;G.ContextConsumer=ln;G.ContextProvider=vc;G.Element=bc;G.ForwardRef=xc;G.Fragment=yc;G.Lazy=wc;G.Memo=Dc;G.Portal=Sc;G.Profiler=Cc;G.StrictMode=_c;G.Suspense=Ic;G.isAsyncMode=function(){return!1};G.isConcurrentMode=function(){return!1};G.isContextConsumer=function(e){return At(e)===ln};G.isContextProvider=function(e){return At(e)===an};G.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===di};G.isForwardRef=function(e){return At(e)===cn};G.isFragment=function(e){return At(e)===rn};G.isLazy=function(e){return At(e)===fn};G.isMemo=function(e){return At(e)===un};G.isPortal=function(e){return At(e)===ui};G.isProfiler=function(e){return At(e)===on};G.isStrictMode=function(e){return At(e)===sn};G.isSuspense=function(e){return At(e)===dn};G.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===rn||e===on||e===aa||e===sn||e===dn||e===pr||e===la||typeof e=="object"&&e!==null&&(e.$$typeof===fn||e.$$typeof===un||e.$$typeof===an||e.$$typeof===ln||e.$$typeof===cn||e.$$typeof===oa||e.$$typeof===ra||e[0]===sa)};G.typeOf=At;ia.exports=G;var Pc=ia.exports,Mc=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Ac=["reactReduxForwardedRef"],Oc=[],Ec=[null,null];function Tc(e,t){var n=e[1];return[t.payload,n+1]}function ss(e,t,n){na(function(){return e.apply(void 0,t)},n)}function kc(e,t,n,i,r,s,o){e.current=i,t.current=r,n.current=!1,s.current&&(s.current=null,o())}function Rc(e,t,n,i,r,s,o,a,l,c){if(e){var d=!1,u=null,f=function(){if(!d){var g=t.getState(),m,v;try{m=i(g,r.current)}catch(b){v=b,u=b}v||(u=null),m===s.current?o.current||l():(s.current=m,a.current=m,o.current=!0,c({type:"STORE_UPDATED",payload:{error:v}}))}};n.onStateChange=f,n.trySubscribe(),f();var h=function(){if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,u)throw u};return h}}var Lc=function(){return[null,0]};function Bc(e,t){t===void 0&&(t={});var n=t,i=n.getDisplayName,r=i===void 0?function(y){return"ConnectAdvanced("+y+")"}:i,s=n.methodName,o=s===void 0?"connectAdvanced":s,a=n.renderCountProp,l=a===void 0?void 0:a,c=n.shouldHandleStateChanges,d=c===void 0?!0:c,u=n.storeKey,f=u===void 0?"store":u;n.withRef;var h=n.forwardRef,p=h===void 0?!1:h,g=n.context,m=g===void 0?Qo:g,v=Gn(n,Mc),b=m;return function(x){var w=x.displayName||x.name||"Component",D=r(w),S=E({},v,{getDisplayName:r,methodName:o,renderCountProp:l,shouldHandleStateChanges:d,storeKey:f,displayName:D,wrappedComponentName:w,WrappedComponent:x}),C=v.pure;function I(N){return e(N.dispatch,S)}var O=C?P.useMemo:function(N){return N()};function M(N){var B=P.useMemo(function(){var Ie=N.reactReduxForwardedRef,Mi=Gn(N,Ac);return[N.context,Ie,Mi]},[N]),H=B[0],K=B[1],ft=B[2],_t=P.useMemo(function(){return H&&H.Consumer&&Pc.isContextConsumer(j.createElement(H.Consumer,null))?H:b},[H,b]),Q=P.useContext(_t),vt=!!N.store&&!!N.store.getState&&!!N.store.dispatch;Q&&Q.store;var X=vt?N.store:Q.store,It=P.useMemo(function(){return I(X)},[X]),Ot=P.useMemo(function(){if(!d)return Ec;var Ie=ea(X,vt?null:Q.subscription),Mi=Ie.notifyNestedSubs.bind(Ie);return[Ie,Mi]},[X,vt,Q]),lt=Ot[0],Et=Ot[1],vn=P.useMemo(function(){return vt?Q:E({},Q,{subscription:lt})},[vt,Q,lt]),bn=P.useReducer(Tc,Oc,Lc),Si=bn[0],fe=Si[0],Ci=bn[1];if(fe&&fe.error)throw fe.error;var ts=P.useRef(),_i=P.useRef(ft),xn=P.useRef(),es=P.useRef(!1),Ii=O(function(){return xn.current&&ft===_i.current?xn.current:It(X.getState(),ft)},[X,fe,ft]);ss(kc,[_i,ts,es,ft,Ii,xn,Et]),ss(Rc,[d,X,lt,It,_i,ts,es,xn,Et,Ci],[X,lt,It]);var Pi=P.useMemo(function(){return j.createElement(x,E({},Ii,{ref:K}))},[K,x,Ii]),Jl=P.useMemo(function(){return d?j.createElement(_t.Provider,{value:vn},Pi):Pi},[_t,Pi,vn]);return Jl}var R=C?j.memo(M):M;if(R.WrappedComponent=x,R.displayName=M.displayName=D,p){var V=j.forwardRef(function(B,H){return j.createElement(R,E({},B,{reactReduxForwardedRef:H}))});return V.displayName=D,V.WrappedComponent=x,ns(V,x)}return ns(R,x)}}function os(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Ai(e,t){if(os(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!os(e[n[r]],t[n[r]]))return!1;return!0}function Fc(e,t){var n={},i=function(o){var a=e[o];typeof a=="function"&&(n[o]=function(){return t(a.apply(void 0,arguments))})};for(var r in e)i(r);return n}function gr(e){return function(n,i){var r=e(n,i);function s(){return r}return s.dependsOnOwnProps=!1,s}}function as(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function ca(e,t){return function(i,r){r.displayName;var s=function(a,l){return s.dependsOnOwnProps?s.mapToProps(a,l):s.mapToProps(a)};return s.dependsOnOwnProps=!0,s.mapToProps=function(a,l){s.mapToProps=e,s.dependsOnOwnProps=as(e);var c=s(a,l);return typeof c=="function"&&(s.mapToProps=c,s.dependsOnOwnProps=as(c),c=s(a,l)),c},s}}function Nc(e){return typeof e=="function"?ca(e):void 0}function Wc(e){return e?void 0:gr(function(t){return{dispatch:t}})}function Hc(e){return e&&typeof e=="object"?gr(function(t){return Fc(e,t)}):void 0}const zc=[Nc,Wc,Hc];function Vc(e){return typeof e=="function"?ca(e):void 0}function jc(e){return e?void 0:gr(function(){return{}})}const Gc=[Vc,jc];function Uc(e,t,n){return E({},n,e,t)}function $c(e){return function(n,i){i.displayName;var r=i.pure,s=i.areMergedPropsEqual,o=!1,a;return function(c,d,u){var f=e(c,d,u);return o?(!r||!s(f,a))&&(a=f):(o=!0,a=f),a}}}function qc(e){return typeof e=="function"?$c(e):void 0}function Yc(e){return e?void 0:function(){return Uc}}const Xc=[qc,Yc];var Kc=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Jc(e,t,n,i){return function(s,o){return n(e(s,o),t(i,o),o)}}function Zc(e,t,n,i,r){var s=r.areStatesEqual,o=r.areOwnPropsEqual,a=r.areStatePropsEqual,l=!1,c,d,u,f,h;function p(y,x){return c=y,d=x,u=e(c,d),f=t(i,d),h=n(u,f,d),l=!0,h}function g(){return u=e(c,d),t.dependsOnOwnProps&&(f=t(i,d)),h=n(u,f,d),h}function m(){return e.dependsOnOwnProps&&(u=e(c,d)),t.dependsOnOwnProps&&(f=t(i,d)),h=n(u,f,d),h}function v(){var y=e(c,d),x=!a(y,u);return u=y,x&&(h=n(u,f,d)),h}function b(y,x){var w=!o(x,d),D=!s(y,c,x,d);return c=y,d=x,w&&D?g():w?m():D?v():h}return function(x,w){return l?b(x,w):p(x,w)}}function Qc(e,t){var n=t.initMapStateToProps,i=t.initMapDispatchToProps,r=t.initMergeProps,s=Gn(t,Kc),o=n(e,s),a=i(e,s),l=r(e,s),c=s.pure?Zc:Jc;return c(o,a,l,e,s)}var td=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Oi(e,t,n){for(var i=t.length-1;i>=0;i--){var r=t[i](e);if(r)return r}return function(s,o){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+o.wrappedComponentName+".")}}function ed(e,t){return e===t}function nd(e){var t=e===void 0?{}:e,n=t.connectHOC,i=n===void 0?Bc:n,r=t.mapStateToPropsFactories,s=r===void 0?Gc:r,o=t.mapDispatchToPropsFactories,a=o===void 0?zc:o,l=t.mergePropsFactories,c=l===void 0?Xc:l,d=t.selectorFactory,u=d===void 0?Qc:d;return function(h,p,g,m){m===void 0&&(m={});var v=m,b=v.pure,y=b===void 0?!0:b,x=v.areStatesEqual,w=x===void 0?ed:x,D=v.areOwnPropsEqual,S=D===void 0?Ai:D,C=v.areStatePropsEqual,I=C===void 0?Ai:C,O=v.areMergedPropsEqual,M=O===void 0?Ai:O,R=Gn(v,td),V=Oi(h,s,"mapStateToProps"),N=Oi(p,a,"mapDispatchToProps"),B=Oi(g,c,"mergeProps");return i(u,E({methodName:"connect",getDisplayName:function(K){return"Connect("+K+")"},shouldHandleStateChanges:!!h,initMapStateToProps:V,initMapDispatchToProps:N,initMergeProps:B,pure:y,areStatesEqual:w,areOwnPropsEqual:S,areStatePropsEqual:I,areMergedPropsEqual:M},R))}}const da=nd();hc(ec.unstable_batchedUpdates);function id(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function ua(e,t){var n=P.useState(function(){return{inputs:t,result:e()}})[0],i=P.useRef(!0),r=P.useRef(n),s=i.current||!!(t&&r.current.inputs&&id(t,r.current.inputs)),o=s?r.current:{inputs:t,result:e()};return P.useEffect(function(){i.current=!1,r.current=o},[o]),o.result}function rd(e,t){return ua(function(){return e},t)}var F=ua,A=rd,sd=!0,Ei="Invariant failed";function od(e,t){if(!e){if(sd)throw new Error(Ei);var n=typeof t=="function"?t():t,i=n?"".concat(Ei,": ").concat(n):Ei;throw new Error(i)}}var Mt=function(t){var n=t.top,i=t.right,r=t.bottom,s=t.left,o=i-s,a=r-n,l={top:n,right:i,bottom:r,left:s,width:o,height:a,x:s,y:n,center:{x:(i+s)/2,y:(r+n)/2}};return l},mr=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},ls=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},ad=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},Ti={top:0,right:0,bottom:0,left:0},vr=function(t){var n=t.borderBox,i=t.margin,r=i===void 0?Ti:i,s=t.border,o=s===void 0?Ti:s,a=t.padding,l=a===void 0?Ti:a,c=Mt(mr(n,r)),d=Mt(ls(n,o)),u=Mt(ls(d,l));return{marginBox:c,borderBox:Mt(n),paddingBox:d,contentBox:u,margin:r,border:o,padding:l}},bt=function(t){var n=t.slice(0,-2),i=t.slice(-2);if(i!=="px")return 0;var r=Number(n);return isNaN(r)&&od(!1),r},ld=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Un=function(t,n){var i=t.borderBox,r=t.border,s=t.margin,o=t.padding,a=ad(i,n);return vr({borderBox:a,border:r,margin:s,padding:o})},$n=function(t,n){return n===void 0&&(n=ld()),Un(t,n)},fa=function(t,n){var i={top:bt(n.marginTop),right:bt(n.marginRight),bottom:bt(n.marginBottom),left:bt(n.marginLeft)},r={top:bt(n.paddingTop),right:bt(n.paddingRight),bottom:bt(n.paddingBottom),left:bt(n.paddingLeft)},s={top:bt(n.borderTopWidth),right:bt(n.borderRightWidth),bottom:bt(n.borderBottomWidth),left:bt(n.borderLeftWidth)};return vr({borderBox:t,margin:i,padding:r,border:s})},ha=function(t){var n=t.getBoundingClientRect(),i=window.getComputedStyle(t);return fa(n,i)},cs=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function cd(e,t){return!!(e===t||cs(e)&&cs(t))}function dd(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!cd(e[n],t[n]))return!1;return!0}function et(e,t){t===void 0&&(t=dd);var n,i=[],r,s=!1;function o(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return s&&n===this&&t(a,i)||(r=e.apply(this,a),s=!0,n=this,i=a),r}return o}var ud=function(t){var n=[],i=null,r=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];n=a,!i&&(i=requestAnimationFrame(function(){i=null,t.apply(void 0,n)}))};return r.cancel=function(){i&&(cancelAnimationFrame(i),i=null)},r};const qe=ud;function pa(e,t){}pa.bind(null,"warn");pa.bind(null,"error");function jt(){}function fd(e,t){return E({},e,{},t)}function yt(e,t,n){var i=t.map(function(r){var s=fd(n,r.options);return e.addEventListener(r.eventName,r.fn,s),function(){e.removeEventListener(r.eventName,r.fn,s)}});return function(){i.forEach(function(s){s()})}}var hd="Invariant failed";function qn(e){this.message=e}qn.prototype.toString=function(){return this.message};function _(e,t){if(!e)throw new qn(hd)}var pd=function(e){Zo(t,e);function t(){for(var i,r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=e.call.apply(e,[this].concat(s))||this,i.callbacks=null,i.unbind=jt,i.onWindowError=function(a){var l=i.getCallbacks();l.isDragging()&&l.tryAbort();var c=a.error;c instanceof qn&&a.preventDefault()},i.getCallbacks=function(){if(!i.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return i.callbacks},i.setCallbacks=function(a){i.callbacks=a},i}var n=t.prototype;return n.componentDidMount=function(){this.unbind=yt(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(r){if(r instanceof qn){this.setState({});return}throw r},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(j.Component),gd=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Yn=function(t){return t+1},md=function(t){return`
  You have lifted an item in position `+Yn(t.source.index)+`
`},ga=function(t,n){var i=t.droppableId===n.droppableId,r=Yn(t.index),s=Yn(n.index);return i?`
      You have moved the item from position `+r+`
      to position `+s+`
    `:`
    You have moved the item from position `+r+`
    in list `+t.droppableId+`
    to list `+n.droppableId+`
    in position `+s+`
  `},ma=function(t,n,i){var r=n.droppableId===i.droppableId;return r?`
      The item `+t+`
      has been combined with `+i.draggableId:`
      The item `+t+`
      in list `+n.droppableId+`
      has been combined with `+i.draggableId+`
      in list `+i.droppableId+`
    `},vd=function(t){var n=t.destination;if(n)return ga(t.source,n);var i=t.combine;return i?ma(t.draggableId,t.source,i):"You are over an area that cannot be dropped on"},ds=function(t){return`
  The item has returned to its starting position
  of `+Yn(t.index)+`
`},bd=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+ds(t.source)+`
    `;var n=t.destination,i=t.combine;return n?`
      You have dropped the item.
      `+ga(t.source,n)+`
    `:i?`
      You have dropped the item.
      `+ma(t.draggableId,t.source,i)+`
    `:`
    The item has been dropped while not over a drop area.
    `+ds(t.source)+`
  `},Wn={dragHandleUsageInstructions:gd,onDragStart:md,onDragUpdate:vd,onDragEnd:bd},nt={x:0,y:0},rt=function(t,n){return{x:t.x+n.x,y:t.y+n.y}},pt=function(t,n){return{x:t.x-n.x,y:t.y-n.y}},Gt=function(t,n){return t.x===n.x&&t.y===n.y},Se=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},ae=function(t,n,i){var r;return i===void 0&&(i=0),r={},r[t]=n,r[t==="x"?"y":"x"]=i,r},Ye=function(t,n){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))},us=function(t,n){return Math.min.apply(Math,n.map(function(i){return Ye(t,i)}))},va=function(t){return function(n){return{x:t(n.x),y:t(n.y)}}},xd=function(e,t){var n=Mt({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n},hn=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},fs=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},yd={top:0,right:0,bottom:0,left:0},wd=function(t,n){return n?hn(t,n.scroll.diff.displacement):t},Dd=function(t,n,i){if(i&&i.increasedBy){var r;return E({},t,(r={},r[n.end]=t[n.end]+i.increasedBy[n.line],r))}return t},Sd=function(t,n){return n&&n.shouldClipSubject?xd(n.pageMarginBox,t):Mt(t)},ve=function(e){var t=e.page,n=e.withPlaceholder,i=e.axis,r=e.frame,s=wd(t.marginBox,r),o=Dd(s,i,n),a=Sd(o,r);return{page:t,withPlaceholder:n,active:a}},br=function(e,t){e.frame||_(!1);var n=e.frame,i=pt(t,n.scroll.initial),r=Se(i),s=E({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:i,displacement:r},max:n.scroll.max}}),o=ve({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:s}),a=E({},e,{frame:s,subject:o});return a};function Xn(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function xr(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function Xt(e,t){if(e.find)return e.find(t);var n=xr(e,t);if(n!==-1)return e[n]}function ba(e){return Array.prototype.slice.call(e)}var xa=et(function(e){return e.reduce(function(t,n){return t[n.descriptor.id]=n,t},{})}),ya=et(function(e){return e.reduce(function(t,n){return t[n.descriptor.id]=n,t},{})}),fi=et(function(e){return Xn(e)}),Cd=et(function(e){return Xn(e)}),Ce=et(function(e,t){var n=Cd(t).filter(function(i){return e===i.descriptor.droppableId}).sort(function(i,r){return i.descriptor.index-r.descriptor.index});return n});function yr(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function hi(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var pi=et(function(e,t){return t.filter(function(n){return n.descriptor.id!==e.descriptor.id})}),_d=function(e){var t=e.isMovingForward,n=e.draggable,i=e.destination,r=e.insideDestination,s=e.previousImpact;if(!i.isCombineEnabled)return null;var o=yr(s);if(!o)return null;function a(g){var m={type:"COMBINE",combine:{draggableId:g,droppableId:i.descriptor.id}};return E({},s,{at:m})}var l=s.displaced.all,c=l.length?l[0]:null;if(t)return c?a(c):null;var d=pi(n,r);if(!c){if(!d.length)return null;var u=d[d.length-1];return a(u.descriptor.id)}var f=xr(d,function(g){return g.descriptor.id===c});f===-1&&_(!1);var h=f-1;if(h<0)return null;var p=d[h];return a(p.descriptor.id)},_e=function(e,t){return e.descriptor.droppableId===t.descriptor.id},wa={point:nt,value:0},Xe={invisible:{},visible:{},all:[]},Id={displaced:Xe,displacedBy:wa,at:null},St=function(e,t){return function(n){return e<=n&&n<=t}},Da=function(e){var t=St(e.top,e.bottom),n=St(e.left,e.right);return function(i){var r=t(i.top)&&t(i.bottom)&&n(i.left)&&n(i.right);if(r)return!0;var s=t(i.top)||t(i.bottom),o=n(i.left)||n(i.right),a=s&&o;if(a)return!0;var l=i.top<e.top&&i.bottom>e.bottom,c=i.left<e.left&&i.right>e.right,d=l&&c;if(d)return!0;var u=l&&o||c&&s;return u}},Pd=function(e){var t=St(e.top,e.bottom),n=St(e.left,e.right);return function(i){var r=t(i.top)&&t(i.bottom)&&n(i.left)&&n(i.right);return r}},wr={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Sa={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Md=function(e){return function(t){var n=St(t.top,t.bottom),i=St(t.left,t.right);return function(r){return e===wr?n(r.top)&&n(r.bottom):i(r.left)&&i(r.right)}}},Ad=function(t,n){var i=n.frame?n.frame.scroll.diff.displacement:nt;return hn(t,i)},Od=function(t,n,i){return n.subject.active?i(n.subject.active)(t):!1},Ed=function(t,n,i){return i(n)(t)},Dr=function(t){var n=t.target,i=t.destination,r=t.viewport,s=t.withDroppableDisplacement,o=t.isVisibleThroughFrameFn,a=s?Ad(n,i):n;return Od(a,i,o)&&Ed(a,r,o)},Td=function(t){return Dr(E({},t,{isVisibleThroughFrameFn:Da}))},Ca=function(t){return Dr(E({},t,{isVisibleThroughFrameFn:Pd}))},kd=function(t){return Dr(E({},t,{isVisibleThroughFrameFn:Md(t.destination.axis)}))},Rd=function(t,n,i){if(typeof i=="boolean")return i;if(!n)return!0;var r=n.invisible,s=n.visible;if(r[t])return!1;var o=s[t];return o?o.shouldAnimate:!0};function Ld(e,t){var n=e.page.marginBox,i={top:t.point.y,right:0,bottom:0,left:t.point.x};return Mt(mr(n,i))}function Ke(e){var t=e.afterDragging,n=e.destination,i=e.displacedBy,r=e.viewport,s=e.forceShouldAnimate,o=e.last;return t.reduce(function(l,c){var d=Ld(c,i),u=c.descriptor.id;l.all.push(u);var f=Td({target:d,destination:n,viewport:r,withDroppableDisplacement:!0});if(!f)return l.invisible[c.descriptor.id]=!0,l;var h=Rd(u,o,s),p={draggableId:u,shouldAnimate:h};return l.visible[u]=p,l},{all:[],visible:{},invisible:{}})}function Bd(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function hs(e){var t=e.insideDestination,n=e.inHomeList,i=e.displacedBy,r=e.destination,s=Bd(t,{inHomeList:n});return{displaced:Xe,displacedBy:i,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function Kn(e){var t=e.draggable,n=e.insideDestination,i=e.destination,r=e.viewport,s=e.displacedBy,o=e.last,a=e.index,l=e.forceShouldAnimate,c=_e(t,i);if(a==null)return hs({insideDestination:n,inHomeList:c,displacedBy:s,destination:i});var d=Xt(n,function(g){return g.descriptor.index===a});if(!d)return hs({insideDestination:n,inHomeList:c,displacedBy:s,destination:i});var u=pi(t,n),f=n.indexOf(d),h=u.slice(f),p=Ke({afterDragging:h,destination:i,displacedBy:s,last:o,viewport:r.frame,forceShouldAnimate:l});return{displaced:p,displacedBy:s,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:a}}}}function qt(e,t){return!!t.effected[e]}var Fd=function(e){var t=e.isMovingForward,n=e.destination,i=e.draggables,r=e.combine,s=e.afterCritical;if(!n.isCombineEnabled)return null;var o=r.draggableId,a=i[o],l=a.descriptor.index,c=qt(o,s);return c?t?l:l-1:t?l+1:l},Nd=function(e){var t=e.isMovingForward,n=e.isInHomeList,i=e.insideDestination,r=e.location;if(!i.length)return null;var s=r.index,o=t?s+1:s-1,a=i[0].descriptor.index,l=i[i.length-1].descriptor.index,c=n?l:l+1;return o<a||o>c?null:o},Wd=function(e){var t=e.isMovingForward,n=e.isInHomeList,i=e.draggable,r=e.draggables,s=e.destination,o=e.insideDestination,a=e.previousImpact,l=e.viewport,c=e.afterCritical,d=a.at;if(d||_(!1),d.type==="REORDER"){var u=Nd({isMovingForward:t,isInHomeList:n,location:d.destination,insideDestination:o});return u==null?null:Kn({draggable:i,insideDestination:o,destination:s,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:u})}var f=Fd({isMovingForward:t,destination:s,displaced:a.displaced,draggables:r,combine:d.combine,afterCritical:c});return f==null?null:Kn({draggable:i,insideDestination:o,destination:s,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:f})},Hd=function(e){var t=e.displaced,n=e.afterCritical,i=e.combineWith,r=e.displacedBy,s=!!(t.visible[i]||t.invisible[i]);return qt(i,n)?s?nt:Se(r.point):s?r.point:nt},zd=function(e){var t=e.afterCritical,n=e.impact,i=e.draggables,r=hi(n);r||_(!1);var s=r.draggableId,o=i[s].page.borderBox.center,a=Hd({displaced:n.displaced,afterCritical:t,combineWith:s,displacedBy:n.displacedBy});return rt(o,a)},_a=function(t,n){return n.margin[t.start]+n.borderBox[t.size]/2},Vd=function(t,n){return n.margin[t.end]+n.borderBox[t.size]/2},Sr=function(t,n,i){return n[t.crossAxisStart]+i.margin[t.crossAxisStart]+i.borderBox[t.crossAxisSize]/2},ps=function(t){var n=t.axis,i=t.moveRelativeTo,r=t.isMoving;return ae(n.line,i.marginBox[n.end]+_a(n,r),Sr(n,i.marginBox,r))},gs=function(t){var n=t.axis,i=t.moveRelativeTo,r=t.isMoving;return ae(n.line,i.marginBox[n.start]-Vd(n,r),Sr(n,i.marginBox,r))},jd=function(t){var n=t.axis,i=t.moveInto,r=t.isMoving;return ae(n.line,i.contentBox[n.start]+_a(n,r),Sr(n,i.contentBox,r))},Gd=function(e){var t=e.impact,n=e.draggable,i=e.draggables,r=e.droppable,s=e.afterCritical,o=Ce(r.descriptor.id,i),a=n.page,l=r.axis;if(!o.length)return jd({axis:l,moveInto:r.page,isMoving:a});var c=t.displaced,d=t.displacedBy,u=c.all[0];if(u){var f=i[u];if(qt(u,s))return gs({axis:l,moveRelativeTo:f.page,isMoving:a});var h=Un(f.page,d.point);return gs({axis:l,moveRelativeTo:h,isMoving:a})}var p=o[o.length-1];if(p.descriptor.id===n.descriptor.id)return a.borderBox.center;if(qt(p.descriptor.id,s)){var g=Un(p.page,Se(s.displacedBy.point));return ps({axis:l,moveRelativeTo:g,isMoving:a})}return ps({axis:l,moveRelativeTo:p.page,isMoving:a})},Ji=function(e,t){var n=e.frame;return n?rt(t,n.scroll.diff.displacement):t},Ud=function(t){var n=t.impact,i=t.draggable,r=t.droppable,s=t.draggables,o=t.afterCritical,a=i.page.borderBox.center,l=n.at;return!r||!l?a:l.type==="REORDER"?Gd({impact:n,draggable:i,draggables:s,droppable:r,afterCritical:o}):zd({impact:n,draggables:s,afterCritical:o})},gi=function(e){var t=Ud(e),n=e.droppable,i=n?Ji(n,t):t;return i},Ia=function(e,t){var n=pt(t,e.scroll.initial),i=Se(n),r=Mt({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),s={frame:r,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:i}}};return s};function ms(e,t){return e.map(function(n){return t[n]})}function $d(e,t){for(var n=0;n<t.length;n++){var i=t[n].visible[e];if(i)return i}return null}var qd=function(e){var t=e.impact,n=e.viewport,i=e.destination,r=e.draggables,s=e.maxScrollChange,o=Ia(n,rt(n.scroll.current,s)),a=i.frame?br(i,rt(i.frame.scroll.current,s)):i,l=t.displaced,c=Ke({afterDragging:ms(l.all,r),destination:i,displacedBy:t.displacedBy,viewport:o.frame,last:l,forceShouldAnimate:!1}),d=Ke({afterDragging:ms(l.all,r),destination:a,displacedBy:t.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),u={},f={},h=[l,c,d];l.all.forEach(function(g){var m=$d(g,h);if(m){f[g]=m;return}u[g]=!0});var p=E({},t,{displaced:{all:l.all,invisible:u,visible:f}});return p},Yd=function(e,t){return rt(e.scroll.diff.displacement,t)},Cr=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,i=e.viewport,r=Yd(i,t),s=pt(r,n.page.borderBox.center);return rt(n.client.borderBox.center,s)},Pa=function(e){var t=e.draggable,n=e.destination,i=e.newPageBorderBoxCenter,r=e.viewport,s=e.withDroppableDisplacement,o=e.onlyOnMainAxis,a=o===void 0?!1:o,l=pt(i,t.page.borderBox.center),c=hn(t.page.borderBox,l),d={target:c,destination:n,withDroppableDisplacement:s,viewport:r};return a?kd(d):Ca(d)},Xd=function(e){var t=e.isMovingForward,n=e.draggable,i=e.destination,r=e.draggables,s=e.previousImpact,o=e.viewport,a=e.previousPageBorderBoxCenter,l=e.previousClientSelection,c=e.afterCritical;if(!i.isEnabled)return null;var d=Ce(i.descriptor.id,r),u=_e(n,i),f=_d({isMovingForward:t,draggable:n,destination:i,insideDestination:d,previousImpact:s})||Wd({isMovingForward:t,isInHomeList:u,draggable:n,draggables:r,destination:i,insideDestination:d,previousImpact:s,viewport:o,afterCritical:c});if(!f)return null;var h=gi({impact:f,draggable:n,droppable:i,draggables:r,afterCritical:c}),p=Pa({draggable:n,destination:i,newPageBorderBoxCenter:h,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(p){var g=Cr({pageBorderBoxCenter:h,draggable:n,viewport:o});return{clientSelection:g,impact:f,scrollJumpRequest:null}}var m=pt(h,a),v=qd({impact:f,viewport:o,destination:i,draggables:r,maxScrollChange:m});return{clientSelection:l,impact:v,scrollJumpRequest:m}},at=function(t){var n=t.subject.active;return n||_(!1),n},Kd=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,i=e.source,r=e.droppables,s=e.viewport,o=i.subject.active;if(!o)return null;var a=i.axis,l=St(o[a.start],o[a.end]),c=fi(r).filter(function(u){return u!==i}).filter(function(u){return u.isEnabled}).filter(function(u){return!!u.subject.active}).filter(function(u){return Da(s.frame)(at(u))}).filter(function(u){var f=at(u);return t?o[a.crossAxisEnd]<f[a.crossAxisEnd]:f[a.crossAxisStart]<o[a.crossAxisStart]}).filter(function(u){var f=at(u),h=St(f[a.start],f[a.end]);return l(f[a.start])||l(f[a.end])||h(o[a.start])||h(o[a.end])}).sort(function(u,f){var h=at(u)[a.crossAxisStart],p=at(f)[a.crossAxisStart];return t?h-p:p-h}).filter(function(u,f,h){return at(u)[a.crossAxisStart]===at(h[0])[a.crossAxisStart]});if(!c.length)return null;if(c.length===1)return c[0];var d=c.filter(function(u){var f=St(at(u)[a.start],at(u)[a.end]);return f(n[a.line])});return d.length===1?d[0]:d.length>1?d.sort(function(u,f){return at(u)[a.start]-at(f)[a.start]})[0]:c.sort(function(u,f){var h=us(n,fs(at(u))),p=us(n,fs(at(f)));return h!==p?h-p:at(u)[a.start]-at(f)[a.start]})[0]},vs=function(t,n){var i=t.page.borderBox.center;return qt(t.descriptor.id,n)?pt(i,n.displacedBy.point):i},Jd=function(t,n){var i=t.page.borderBox;return qt(t.descriptor.id,n)?hn(i,Se(n.displacedBy.point)):i},Zd=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,i=e.destination,r=e.insideDestination,s=e.afterCritical,o=r.filter(function(a){return Ca({target:Jd(a,s),destination:i,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(a,l){var c=Ye(t,Ji(i,vs(a,s))),d=Ye(t,Ji(i,vs(l,s)));return c<d?-1:d<c?1:a.descriptor.index-l.descriptor.index});return o[0]||null},pn=et(function(t,n){var i=n[t.line];return{value:i,point:ae(t.line,i)}}),Qd=function(t,n,i){var r=t.axis;if(t.descriptor.mode==="virtual")return ae(r.line,n[r.line]);var s=t.subject.page.contentBox[r.size],o=Ce(t.descriptor.id,i),a=o.reduce(function(d,u){return d+u.client.marginBox[r.size]},0),l=a+n[r.line],c=l-s;return c<=0?null:ae(r.line,c)},Ma=function(t,n){return E({},t,{scroll:E({},t.scroll,{max:n})})},Aa=function(t,n,i){var r=t.frame;_e(n,t)&&_(!1),t.subject.withPlaceholder&&_(!1);var s=pn(t.axis,n.displaceBy).point,o=Qd(t,s,i),a={placeholderSize:s,increasedBy:o,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!r){var l=ve({page:t.subject.page,withPlaceholder:a,axis:t.axis,frame:t.frame});return E({},t,{subject:l})}var c=o?rt(r.scroll.max,o):r.scroll.max,d=Ma(r,c),u=ve({page:t.subject.page,withPlaceholder:a,axis:t.axis,frame:d});return E({},t,{subject:u,frame:d})},tu=function(t){var n=t.subject.withPlaceholder;n||_(!1);var i=t.frame;if(!i){var r=ve({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return E({},t,{subject:r})}var s=n.oldFrameMaxScroll;s||_(!1);var o=Ma(i,s),a=ve({page:t.subject.page,axis:t.axis,frame:o,withPlaceholder:null});return E({},t,{subject:a,frame:o})},eu=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,i=e.insideDestination,r=e.draggable,s=e.draggables,o=e.destination,a=e.viewport,l=e.afterCritical;if(!n){if(i.length)return null;var c={displaced:Xe,displacedBy:wa,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},d=gi({impact:c,draggable:r,droppable:o,draggables:s,afterCritical:l}),u=_e(r,o)?o:Aa(o,r,s),f=Pa({draggable:r,destination:u,newPageBorderBoxCenter:d,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return f?c:null}var h=t[o.axis.line]<=n.page.borderBox.center[o.axis.line],p=function(){var m=n.descriptor.index;return n.descriptor.id===r.descriptor.id||h?m:m+1}(),g=pn(o.axis,r.displaceBy);return Kn({draggable:r,insideDestination:i,destination:o,viewport:a,displacedBy:g,last:Xe,index:p})},nu=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,i=e.draggable,r=e.isOver,s=e.draggables,o=e.droppables,a=e.viewport,l=e.afterCritical,c=Kd({isMovingForward:t,pageBorderBoxCenter:n,source:r,droppables:o,viewport:a});if(!c)return null;var d=Ce(c.descriptor.id,s),u=Zd({pageBorderBoxCenter:n,viewport:a,destination:c,insideDestination:d,afterCritical:l}),f=eu({previousPageBorderBoxCenter:n,destination:c,draggable:i,draggables:s,moveRelativeTo:u,insideDestination:d,viewport:a,afterCritical:l});if(!f)return null;var h=gi({impact:f,draggable:i,droppable:c,draggables:s,afterCritical:l}),p=Cr({pageBorderBoxCenter:h,draggable:i,viewport:a});return{clientSelection:p,impact:f,scrollJumpRequest:null}},gt=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},iu=function(t,n){var i=gt(t);return i?n[i]:null},ru=function(e){var t=e.state,n=e.type,i=iu(t.impact,t.dimensions.droppables),r=!!i,s=t.dimensions.droppables[t.critical.droppable.id],o=i||s,a=o.axis.direction,l=a==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||a==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(l&&!r)return null;var c=n==="MOVE_DOWN"||n==="MOVE_RIGHT",d=t.dimensions.draggables[t.critical.draggable.id],u=t.current.page.borderBoxCenter,f=t.dimensions,h=f.draggables,p=f.droppables;return l?Xd({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:d,destination:o,draggables:h,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):nu({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:d,isOver:o,draggables:h,droppables:p,viewport:t.viewport,afterCritical:t.afterCritical})};function ne(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function Oa(e){var t=St(e.top,e.bottom),n=St(e.left,e.right);return function(r){return t(r.y)&&n(r.x)}}function su(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function ou(e){var t=e.pageBorderBox,n=e.draggable,i=e.candidates,r=n.page.borderBox.center,s=i.map(function(o){var a=o.axis,l=ae(o.axis.line,t.center[a.line],o.page.borderBox.center[a.crossAxisLine]);return{id:o.descriptor.id,distance:Ye(r,l)}}).sort(function(o,a){return a.distance-o.distance});return s[0]?s[0].id:null}function au(e){var t=e.pageBorderBox,n=e.draggable,i=e.droppables,r=fi(i).filter(function(s){if(!s.isEnabled)return!1;var o=s.subject.active;if(!o||!su(t,o))return!1;if(Oa(o)(t.center))return!0;var a=s.axis,l=o.center[a.crossAxisLine],c=t[a.crossAxisStart],d=t[a.crossAxisEnd],u=St(o[a.crossAxisStart],o[a.crossAxisEnd]),f=u(c),h=u(d);return!f&&!h?!0:f?c<l:d>l});return r.length?r.length===1?r[0].descriptor.id:ou({pageBorderBox:t,draggable:n,candidates:r}):null}var Ea=function(t,n){return Mt(hn(t,n))},lu=function(e,t){var n=e.frame;return n?Ea(t,n.scroll.diff.value):t};function Ta(e){var t=e.displaced,n=e.id;return!!(t.visible[n]||t.invisible[n])}function cu(e){var t=e.draggable,n=e.closest,i=e.inHomeList;return n?i&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var du=function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,i=e.destination,r=e.insideDestination,s=e.last,o=e.viewport,a=e.afterCritical,l=i.axis,c=pn(i.axis,n.displaceBy),d=c.value,u=t[l.start],f=t[l.end],h=pi(n,r),p=Xt(h,function(m){var v=m.descriptor.id,b=m.page.borderBox.center[l.line],y=qt(v,a),x=Ta({displaced:s,id:v});return y?x?f<=b:u<b-d:x?f<=b+d:u<b}),g=cu({draggable:n,closest:p,inHomeList:_e(n,i)});return Kn({draggable:n,insideDestination:r,destination:i,viewport:o,last:s,displacedBy:c,index:g})},uu=4,fu=function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,i=e.previousImpact,r=e.destination,s=e.insideDestination,o=e.afterCritical;if(!r.isCombineEnabled)return null;var a=r.axis,l=pn(r.axis,t.displaceBy),c=l.value,d=n[a.start],u=n[a.end],f=pi(t,s),h=Xt(f,function(g){var m=g.descriptor.id,v=g.page.borderBox,b=v[a.size],y=b/uu,x=qt(m,o),w=Ta({displaced:i.displaced,id:m});return x?w?u>v[a.start]+y&&u<v[a.end]-y:d>v[a.start]-c+y&&d<v[a.end]-c-y:w?u>v[a.start]+c+y&&u<v[a.end]+c-y:d>v[a.start]+y&&d<v[a.end]-y});if(!h)return null;var p={displacedBy:l,displaced:i.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:r.descriptor.id}}};return p},ka=function(e){var t=e.pageOffset,n=e.draggable,i=e.draggables,r=e.droppables,s=e.previousImpact,o=e.viewport,a=e.afterCritical,l=Ea(n.page.borderBox,t),c=au({pageBorderBox:l,draggable:n,droppables:r});if(!c)return Id;var d=r[c],u=Ce(d.descriptor.id,i),f=lu(d,l);return fu({pageBorderBoxWithDroppableScroll:f,draggable:n,previousImpact:s,destination:d,insideDestination:u,afterCritical:a})||du({pageBorderBoxWithDroppableScroll:f,draggable:n,destination:d,insideDestination:u,last:s.displaced,viewport:o,afterCritical:a})},_r=function(e,t){var n;return E({},e,(n={},n[t.descriptor.id]=t,n))},hu=function(t){var n=t.previousImpact,i=t.impact,r=t.droppables,s=gt(n),o=gt(i);if(!s||s===o)return r;var a=r[s];if(!a.subject.withPlaceholder)return r;var l=tu(a);return _r(r,l)},pu=function(e){var t=e.draggable,n=e.draggables,i=e.droppables,r=e.previousImpact,s=e.impact,o=hu({previousImpact:r,impact:s,droppables:i}),a=gt(s);if(!a)return o;var l=i[a];if(_e(t,l)||l.subject.withPlaceholder)return o;var c=Aa(l,t,n);return _r(o,c)},He=function(e){var t=e.state,n=e.clientSelection,i=e.dimensions,r=e.viewport,s=e.impact,o=e.scrollJumpRequest,a=r||t.viewport,l=i||t.dimensions,c=n||t.current.client.selection,d=pt(c,t.initial.client.selection),u={offset:d,selection:c,borderBoxCenter:rt(t.initial.client.borderBoxCenter,d)},f={selection:rt(u.selection,a.scroll.current),borderBoxCenter:rt(u.borderBoxCenter,a.scroll.current),offset:rt(u.offset,a.scroll.diff.value)},h={client:u,page:f};if(t.phase==="COLLECTING")return E({phase:"COLLECTING"},t,{dimensions:l,viewport:a,current:h});var p=l.draggables[t.critical.draggable.id],g=s||ka({pageOffset:f.offset,draggable:p,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:a,afterCritical:t.afterCritical}),m=pu({draggable:p,impact:g,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables}),v=E({},t,{current:h,dimensions:{draggables:l.draggables,droppables:m},impact:g,viewport:a,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null});return v};function gu(e,t){return e.map(function(n){return t[n]})}var Ra=function(e){var t=e.impact,n=e.viewport,i=e.draggables,r=e.destination,s=e.forceShouldAnimate,o=t.displaced,a=gu(o.all,i),l=Ke({afterDragging:a,destination:r,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:s,last:o});return E({},t,{displaced:l})},La=function(e){var t=e.impact,n=e.draggable,i=e.droppable,r=e.draggables,s=e.viewport,o=e.afterCritical,a=gi({impact:t,draggable:n,draggables:r,droppable:i,afterCritical:o});return Cr({pageBorderBoxCenter:a,draggable:n,viewport:s})},Ba=function(e){var t=e.state,n=e.dimensions,i=e.viewport;t.movementMode!=="SNAP"&&_(!1);var r=t.impact,s=i||t.viewport,o=n||t.dimensions,a=o.draggables,l=o.droppables,c=a[t.critical.draggable.id],d=gt(r);d||_(!1);var u=l[d],f=Ra({impact:r,viewport:s,destination:u,draggables:a}),h=La({impact:f,draggable:c,droppable:u,draggables:a,viewport:s,afterCritical:t.afterCritical});return He({impact:f,clientSelection:h,state:t,dimensions:o,viewport:s})},mu=function(e){return{index:e.index,droppableId:e.droppableId}},Fa=function(e){var t=e.draggable,n=e.home,i=e.draggables,r=e.viewport,s=pn(n.axis,t.displaceBy),o=Ce(n.descriptor.id,i),a=o.indexOf(t);a===-1&&_(!1);var l=o.slice(a+1),c=l.reduce(function(h,p){return h[p.descriptor.id]=!0,h},{}),d={inVirtualList:n.descriptor.mode==="virtual",displacedBy:s,effected:c},u=Ke({afterDragging:l,destination:n,displacedBy:s,last:null,viewport:r.frame,forceShouldAnimate:!1}),f={displaced:u,displacedBy:s,at:{type:"REORDER",destination:mu(t.descriptor)}};return{impact:f,afterCritical:d}},vu=function(e,t){return{draggables:e.draggables,droppables:_r(e.droppables,t)}},bu=function(e){var t=e.draggable,n=e.offset,i=e.initialWindowScroll,r=Un(t.client,n),s=$n(r,i),o=E({},t,{placeholder:E({},t.placeholder,{client:r}),client:r,page:s});return o},xu=function(e){var t=e.frame;return t||_(!1),t},yu=function(e){var t=e.additions,n=e.updatedDroppables,i=e.viewport,r=i.scroll.diff.value;return t.map(function(s){var o=s.descriptor.droppableId,a=n[o],l=xu(a),c=l.scroll.diff.value,d=rt(r,c),u=bu({draggable:s,offset:d,initialWindowScroll:i.scroll.initial});return u})},wu=function(e){var t=e.state,n=e.published,i=n.modified.map(function(y){var x=t.dimensions.droppables[y.droppableId],w=br(x,y.scroll);return w}),r=E({},t.dimensions.droppables,{},xa(i)),s=ya(yu({additions:n.additions,updatedDroppables:r,viewport:t.viewport})),o=E({},t.dimensions.draggables,{},s);n.removals.forEach(function(y){delete o[y]});var a={droppables:r,draggables:o},l=gt(t.impact),c=l?a.droppables[l]:null,d=a.draggables[t.critical.draggable.id],u=a.droppables[t.critical.droppable.id],f=Fa({draggable:d,home:u,draggables:o,viewport:t.viewport}),h=f.impact,p=f.afterCritical,g=c&&c.isCombineEnabled?t.impact:h,m=ka({pageOffset:t.current.page.offset,draggable:a.draggables[t.critical.draggable.id],draggables:a.draggables,droppables:a.droppables,previousImpact:g,viewport:t.viewport,afterCritical:p}),v=E({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:m,onLiftImpact:h,dimensions:a,afterCritical:p,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return v;var b=E({phase:"DROP_PENDING"},v,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return b},Zi=function(t){return t.movementMode==="SNAP"},ki=function(t,n,i){var r=vu(t.dimensions,n);return!Zi(t)||i?He({state:t,dimensions:r}):Ba({state:t,dimensions:r})};function Ri(e){return e.isDragging&&e.movementMode==="SNAP"?E({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var bs={phase:"IDLE",completed:null,shouldFlush:!1},Du=function(e,t){if(e===void 0&&(e=bs),t.type==="FLUSH")return E({},bs,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&_(!1);var n=t.payload,i=n.critical,r=n.clientSelection,s=n.viewport,o=n.dimensions,a=n.movementMode,l=o.draggables[i.draggable.id],c=o.droppables[i.droppable.id],d={selection:r,borderBoxCenter:l.client.borderBox.center,offset:nt},u={client:d,page:{selection:rt(d.selection,s.scroll.initial),borderBoxCenter:rt(d.selection,s.scroll.initial),offset:rt(d.selection,s.scroll.diff.value)}},f=fi(o.droppables).every(function(Ci){return!Ci.isFixedOnPage}),h=Fa({draggable:l,home:c,draggables:o.draggables,viewport:s}),p=h.impact,g=h.afterCritical,m={phase:"DRAGGING",isDragging:!0,critical:i,movementMode:a,dimensions:o,initial:u,current:u,isWindowScrollAllowed:f,impact:p,afterCritical:g,onLiftImpact:p,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null};return m}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&_(!1);var v=E({phase:"COLLECTING"},e,{phase:"COLLECTING"});return v}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||_(!1),wu({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;ne(e)||_(!1);var b=t.payload.client;return Gt(b,e.current.client.selection)?e:He({state:e,clientSelection:b,impact:Zi(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Ri(e);ne(e)||_(!1);var y=t.payload,x=y.id,w=y.newScroll,D=e.dimensions.droppables[x];if(!D)return e;var S=br(D,w);return ki(e,S,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;ne(e)||_(!1);var C=t.payload,I=C.id,O=C.isEnabled,M=e.dimensions.droppables[I];M||_(!1),M.isEnabled===O&&_(!1);var R=E({},M,{isEnabled:O});return ki(e,R,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;ne(e)||_(!1);var V=t.payload,N=V.id,B=V.isCombineEnabled,H=e.dimensions.droppables[N];H||_(!1),H.isCombineEnabled===B&&_(!1);var K=E({},H,{isCombineEnabled:B});return ki(e,K,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;ne(e)||_(!1),e.isWindowScrollAllowed||_(!1);var ft=t.payload.newScroll;if(Gt(e.viewport.scroll.current,ft))return Ri(e);var _t=Ia(e.viewport,ft);return Zi(e)?Ba({state:e,viewport:_t}):He({state:e,viewport:_t})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!ne(e))return e;var Q=t.payload.maxScroll;if(Gt(Q,e.viewport.scroll.max))return e;var vt=E({},e.viewport,{scroll:E({},e.viewport.scroll,{max:Q})});return E({phase:"DRAGGING"},e,{viewport:vt})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&_(!1);var X=ru({state:e,type:t.type});return X?He({state:e,impact:X.impact,clientSelection:X.clientSelection,scrollJumpRequest:X.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var It=t.payload.reason;e.phase!=="COLLECTING"&&_(!1);var Ot=E({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:It});return Ot}if(t.type==="DROP_ANIMATE"){var lt=t.payload,Et=lt.completed,vn=lt.dropDuration,bn=lt.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||_(!1);var Si={phase:"DROP_ANIMATING",completed:Et,dropDuration:vn,newHomeClientOffset:bn,dimensions:e.dimensions};return Si}if(t.type==="DROP_COMPLETE"){var fe=t.payload.completed;return{phase:"IDLE",completed:fe,shouldFlush:!1}}return e},Su=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},Cu=function(t){return{type:"LIFT",payload:t}},_u=function(t){return{type:"INITIAL_PUBLISH",payload:t}},Iu=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},Pu=function(){return{type:"COLLECTION_STARTING",payload:null}},Mu=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},Au=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},Ou=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},Na=function(t){return{type:"MOVE",payload:t}},Eu=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},Tu=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},ku=function(){return{type:"MOVE_UP",payload:null}},Ru=function(){return{type:"MOVE_DOWN",payload:null}},Lu=function(){return{type:"MOVE_RIGHT",payload:null}},Bu=function(){return{type:"MOVE_LEFT",payload:null}},Ir=function(){return{type:"FLUSH",payload:null}},Fu=function(t){return{type:"DROP_ANIMATE",payload:t}},Pr=function(t){return{type:"DROP_COMPLETE",payload:t}},Wa=function(t){return{type:"DROP",payload:t}},Nu=function(t){return{type:"DROP_PENDING",payload:t}},Ha=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},Wu=function(e){return function(t){var n=t.getState,i=t.dispatch;return function(r){return function(s){if(s.type!=="LIFT"){r(s);return}var o=s.payload,a=o.id,l=o.clientSelection,c=o.movementMode,d=n();d.phase==="DROP_ANIMATING"&&i(Pr({completed:d.completed})),n().phase!=="IDLE"&&_(!1),i(Ir()),i(Su({draggableId:a,movementMode:c}));var u={shouldPublishImmediately:c==="SNAP"},f={draggableId:a,scrollOptions:u},h=e.startPublishing(f),p=h.critical,g=h.dimensions,m=h.viewport;i(_u({critical:p,dimensions:g,clientSelection:l,movementMode:c,viewport:m}))}}}},Hu=function(e){return function(){return function(t){return function(n){n.type==="INITIAL_PUBLISH"&&e.dragging(),n.type==="DROP_ANIMATE"&&e.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&e.resting(),t(n)}}}},Mr={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Je={opacity:{drop:0,combining:.7},scale:{drop:.75}},Ar={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Jt=Ar.outOfTheWay+"s "+Mr.outOfTheWay,ze={fluid:"opacity "+Jt,snap:"transform "+Jt+", opacity "+Jt,drop:function(t){var n=t+"s "+Mr.drop;return"transform "+n+", opacity "+n},outOfTheWay:"transform "+Jt,placeholder:"height "+Jt+", width "+Jt+", margin "+Jt},xs=function(t){return Gt(t,nt)?null:"translate("+t.x+"px, "+t.y+"px)"},Qi={moveTo:xs,drop:function(t,n){var i=xs(t);return i?n?i+" scale("+Je.scale.drop+")":i:null}},tr=Ar.minDropTime,za=Ar.maxDropTime,zu=za-tr,ys=1500,Vu=.6,ju=function(e){var t=e.current,n=e.destination,i=e.reason,r=Ye(t,n);if(r<=0)return tr;if(r>=ys)return za;var s=r/ys,o=tr+zu*s,a=i==="CANCEL"?o*Vu:o;return Number(a.toFixed(2))},Gu=function(e){var t=e.impact,n=e.draggable,i=e.dimensions,r=e.viewport,s=e.afterCritical,o=i.draggables,a=i.droppables,l=gt(t),c=l?a[l]:null,d=a[n.descriptor.droppableId],u=La({impact:t,draggable:n,draggables:o,afterCritical:s,droppable:c||d,viewport:r}),f=pt(u,n.client.borderBox.center);return f},Uu=function(e){var t=e.draggables,n=e.reason,i=e.lastImpact,r=e.home,s=e.viewport,o=e.onLiftImpact;if(!i.at||n!=="DROP"){var a=Ra({draggables:t,impact:o,destination:r,viewport:s,forceShouldAnimate:!0});return{impact:a,didDropInsideDroppable:!1}}if(i.at.type==="REORDER")return{impact:i,didDropInsideDroppable:!0};var l=E({},i,{displaced:Xe});return{impact:l,didDropInsideDroppable:!0}},$u=function(e){var t=e.getState,n=e.dispatch;return function(i){return function(r){if(r.type!=="DROP"){i(r);return}var s=t(),o=r.payload.reason;if(s.phase==="COLLECTING"){n(Nu({reason:o}));return}if(s.phase!=="IDLE"){var a=s.phase==="DROP_PENDING"&&s.isWaiting;a&&_(!1),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||_(!1);var l=s.critical,c=s.dimensions,d=c.draggables[s.critical.draggable.id],u=Uu({reason:o,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),f=u.impact,h=u.didDropInsideDroppable,p=h?yr(f):null,g=h?hi(f):null,m={index:l.draggable.index,droppableId:l.droppable.id},v={draggableId:d.descriptor.id,type:d.descriptor.type,source:m,reason:o,mode:s.movementMode,destination:p,combine:g},b=Gu({impact:f,draggable:d,dimensions:c,viewport:s.viewport,afterCritical:s.afterCritical}),y={critical:s.critical,afterCritical:s.afterCritical,result:v,impact:f},x=!Gt(s.current.client.offset,b)||!!v.combine;if(!x){n(Pr({completed:y}));return}var w=ju({current:s.current.client.offset,destination:b,reason:o}),D={newHomeClientOffset:b,dropDuration:w,completed:y};n(Fu(D))}}}},Va=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function qu(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(n){n.target!==window&&n.target!==window.document||e()}}}function Yu(e){var t=e.onWindowScroll;function n(){t(Va())}var i=qe(n),r=qu(i),s=jt;function o(){return s!==jt}function a(){o()&&_(!1),s=yt(window,[r])}function l(){o()||_(!1),i.cancel(),s(),s=jt}return{start:a,stop:l,isActive:o}}var Xu=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},Ku=function(e){var t=Yu({onWindowScroll:function(i){e.dispatch(Eu({newScroll:i}))}});return function(n){return function(i){!t.isActive()&&i.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&Xu(i)&&t.stop(),n(i)}}},Ju=function(e){var t=!1,n=!1,i=setTimeout(function(){n=!0}),r=function(o){t||n||(t=!0,e(o),clearTimeout(i))};return r.wasCalled=function(){return t},r},Zu=function(){var e=[],t=function(s){var o=xr(e,function(c){return c.timerId===s});o===-1&&_(!1);var a=e.splice(o,1),l=a[0];l.callback()},n=function(s){var o=setTimeout(function(){return t(o)}),a={timerId:o,callback:s};e.push(a)},i=function(){if(e.length){var s=[].concat(e);e.length=0,s.forEach(function(o){clearTimeout(o.timerId),o.callback()})}};return{add:n,flush:i}},Qu=function(t,n){return t==null&&n==null?!0:t==null||n==null?!1:t.droppableId===n.droppableId&&t.index===n.index},tf=function(t,n){return t==null&&n==null?!0:t==null||n==null?!1:t.draggableId===n.draggableId&&t.droppableId===n.droppableId},ef=function(t,n){if(t===n)return!0;var i=t.draggable.id===n.draggable.id&&t.draggable.droppableId===n.draggable.droppableId&&t.draggable.type===n.draggable.type&&t.draggable.index===n.draggable.index,r=t.droppable.id===n.droppable.id&&t.droppable.type===n.droppable.type;return i&&r},Pe=function(t,n){n()},yn=function(t,n){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:n}},Li=function(t,n,i,r){if(!t){i(r(n));return}var s=Ju(i),o={announce:s};t(n,o),s.wasCalled()||i(r(n))},nf=function(e,t){var n=Zu(),i=null,r=function(f,h){i&&_(!1),Pe("onBeforeCapture",function(){var p=e().onBeforeCapture;if(p){var g={draggableId:f,mode:h};p(g)}})},s=function(f,h){i&&_(!1),Pe("onBeforeDragStart",function(){var p=e().onBeforeDragStart;p&&p(yn(f,h))})},o=function(f,h){i&&_(!1);var p=yn(f,h);i={mode:h,lastCritical:f,lastLocation:p.source,lastCombine:null},n.add(function(){Pe("onDragStart",function(){return Li(e().onDragStart,p,t,Wn.onDragStart)})})},a=function(f,h){var p=yr(h),g=hi(h);i||_(!1);var m=!ef(f,i.lastCritical);m&&(i.lastCritical=f);var v=!Qu(i.lastLocation,p);v&&(i.lastLocation=p);var b=!tf(i.lastCombine,g);if(b&&(i.lastCombine=g),!(!m&&!v&&!b)){var y=E({},yn(f,i.mode),{combine:g,destination:p});n.add(function(){Pe("onDragUpdate",function(){return Li(e().onDragUpdate,y,t,Wn.onDragUpdate)})})}},l=function(){i||_(!1),n.flush()},c=function(f){i||_(!1),i=null,Pe("onDragEnd",function(){return Li(e().onDragEnd,f,t,Wn.onDragEnd)})},d=function(){if(i){var f=E({},yn(i.lastCritical,i.mode),{combine:null,destination:null,reason:"CANCEL"});c(f)}};return{beforeCapture:r,beforeStart:s,start:o,update:a,flush:l,drop:c,abort:d}},rf=function(e,t){var n=nf(e,t);return function(i){return function(r){return function(s){if(s.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(s.type==="INITIAL_PUBLISH"){var o=s.payload.critical;n.beforeStart(o,s.payload.movementMode),r(s),n.start(o,s.payload.movementMode);return}if(s.type==="DROP_COMPLETE"){var a=s.payload.completed.result;n.flush(),r(s),n.drop(a);return}if(r(s),s.type==="FLUSH"){n.abort();return}var l=i.getState();l.phase==="DRAGGING"&&n.update(l.critical,l.impact)}}}},sf=function(e){return function(t){return function(n){if(n.type!=="DROP_ANIMATION_FINISHED"){t(n);return}var i=e.getState();i.phase!=="DROP_ANIMATING"&&_(!1),e.dispatch(Pr({completed:i.completed}))}}},of=function(e){var t=null,n=null;function i(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return function(r){return function(s){if((s.type==="FLUSH"||s.type==="DROP_COMPLETE"||s.type==="DROP_ANIMATION_FINISHED")&&i(),r(s),s.type==="DROP_ANIMATE"){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var l=e.getState();l.phase==="DROP_ANIMATING"&&e.dispatch(Ha())}};n=requestAnimationFrame(function(){n=null,t=yt(window,[o])})}}}},af=function(e){return function(){return function(t){return function(n){(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&e.stopPublishing(),t(n)}}}},lf=function(e){var t=!1;return function(){return function(n){return function(i){if(i.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(i.payload.critical.draggable.id),n(i),e.tryRestoreFocusRecorded();return}if(n(i),!!t){if(i.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(i.type==="DROP_COMPLETE"){t=!1;var r=i.payload.completed.result;r.combine&&e.tryShiftRecord(r.draggableId,r.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},cf=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},df=function(e){return function(t){return function(n){return function(i){if(cf(i)){e.stop(),n(i);return}if(i.type==="INITIAL_PUBLISH"){n(i);var r=t.getState();r.phase!=="DRAGGING"&&_(!1),e.start(r);return}n(i),e.scroll(t.getState())}}}},uf=function(e){return function(t){return function(n){if(t(n),n.type==="PUBLISH_WHILE_DRAGGING"){var i=e.getState();i.phase==="DROP_PENDING"&&(i.isWaiting||e.dispatch(Wa({reason:i.reason})))}}}},ff=sc,hf=function(e){var t=e.dimensionMarshal,n=e.focusMarshal,i=e.styleMarshal,r=e.getResponders,s=e.announce,o=e.autoScroller;return ic(Du,ff(rc(Hu(i),af(t),Wu(t),$u,sf,of,uf,df(o),Ku,lf(n),rf(r,s))))},Bi=function(){return{additions:{},removals:{},modified:{}}};function pf(e){var t=e.registry,n=e.callbacks,i=Bi(),r=null,s=function(){r||(n.collectionStarting(),r=requestAnimationFrame(function(){r=null;var d=i,u=d.additions,f=d.removals,h=d.modified,p=Object.keys(u).map(function(v){return t.draggable.getById(v).getDimension(nt)}).sort(function(v,b){return v.descriptor.index-b.descriptor.index}),g=Object.keys(h).map(function(v){var b=t.droppable.getById(v),y=b.callbacks.getScrollWhileDragging();return{droppableId:v,scroll:y}}),m={additions:p,removals:Object.keys(f),modified:g};i=Bi(),n.publish(m)}))},o=function(d){var u=d.descriptor.id;i.additions[u]=d,i.modified[d.descriptor.droppableId]=!0,i.removals[u]&&delete i.removals[u],s()},a=function(d){var u=d.descriptor;i.removals[u.id]=!0,i.modified[u.droppableId]=!0,i.additions[u.id]&&delete i.additions[u.id],s()},l=function(){r&&(cancelAnimationFrame(r),r=null,i=Bi())};return{add:o,remove:a,stop:l}}var ja=function(e){var t=e.scrollHeight,n=e.scrollWidth,i=e.height,r=e.width,s=pt({x:n,y:t},{x:r,y:i}),o={x:Math.max(0,s.x),y:Math.max(0,s.y)};return o},Ga=function(){var e=document.documentElement;return e||_(!1),e},Ua=function(){var e=Ga(),t=ja({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},gf=function(){var e=Va(),t=Ua(),n=e.y,i=e.x,r=Ga(),s=r.clientWidth,o=r.clientHeight,a=i+s,l=n+o,c=Mt({top:n,left:i,right:a,bottom:l}),d={frame:c,scroll:{initial:e,current:e,max:t,diff:{value:nt,displacement:nt}}};return d},mf=function(e){var t=e.critical,n=e.scrollOptions,i=e.registry,r=gf(),s=r.scroll.current,o=t.droppable,a=i.droppable.getAllByType(o.type).map(function(u){return u.callbacks.getDimensionAndWatchScroll(s,n)}),l=i.draggable.getAllByType(t.draggable.type).map(function(u){return u.getDimension(s)}),c={draggables:ya(l),droppables:xa(a)},d={dimensions:c,critical:t,viewport:r};return d};function ws(e,t,n){if(n.descriptor.id===t.id||n.descriptor.type!==t.type)return!1;var i=e.droppable.getById(n.descriptor.droppableId);return i.descriptor.mode==="virtual"}var vf=function(e,t){var n=null,i=pf({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),r=function(h,p){e.droppable.exists(h)||_(!1),n&&t.updateDroppableIsEnabled({id:h,isEnabled:p})},s=function(h,p){n&&(e.droppable.exists(h)||_(!1),t.updateDroppableIsCombineEnabled({id:h,isCombineEnabled:p}))},o=function(h,p){n&&(e.droppable.exists(h)||_(!1),t.updateDroppableScroll({id:h,newScroll:p}))},a=function(h,p){n&&e.droppable.getById(h).callbacks.scroll(p)},l=function(){if(n){i.stop();var h=n.critical.droppable;e.droppable.getAllByType(h.type).forEach(function(p){return p.callbacks.dragStopped()}),n.unsubscribe(),n=null}},c=function(h){n||_(!1);var p=n.critical.draggable;h.type==="ADDITION"&&ws(e,p,h.value)&&i.add(h.value),h.type==="REMOVAL"&&ws(e,p,h.value)&&i.remove(h.value)},d=function(h){n&&_(!1);var p=e.draggable.getById(h.draggableId),g=e.droppable.getById(p.descriptor.droppableId),m={draggable:p.descriptor,droppable:g.descriptor},v=e.subscribe(c);return n={critical:m,unsubscribe:v},mf({critical:m,registry:e,scrollOptions:h.scrollOptions})},u={updateDroppableIsEnabled:r,updateDroppableIsCombineEnabled:s,scrollDroppable:a,updateDroppableScroll:o,startPublishing:d,stopPublishing:l};return u},$a=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},bf=function(e){window.scrollBy(e.x,e.y)},xf=et(function(e){return fi(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),yf=function(t,n){var i=Xt(xf(n),function(r){return r.frame||_(!1),Oa(r.frame.pageMarginBox)(t)});return i},wf=function(e){var t=e.center,n=e.destination,i=e.droppables;if(n){var r=i[n];return r.frame?r:null}var s=yf(t,i);return s},Ut={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},Df=function(e,t){var n=e[t.size]*Ut.startFromPercentage,i=e[t.size]*Ut.maxScrollAtPercentage,r={startScrollingFrom:n,maxScrollValueAt:i};return r},qa=function(e){var t=e.startOfRange,n=e.endOfRange,i=e.current,r=n-t;if(r===0)return 0;var s=i-t,o=s/r;return o},Or=1,Sf=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return Ut.maxPixelScroll;if(e===t.startScrollingFrom)return Or;var n=qa({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),i=1-n,r=Ut.maxPixelScroll*Ut.ease(i);return Math.ceil(r)},Ds=Ut.durationDampening.accelerateAt,Ss=Ut.durationDampening.stopDampeningAt,Cf=function(e,t){var n=t,i=Ss,r=Date.now(),s=r-n;if(s>=Ss)return e;if(s<Ds)return Or;var o=qa({startOfRange:Ds,endOfRange:i,current:s}),a=e*Ut.ease(o);return Math.ceil(a)},Cs=function(e){var t=e.distanceToEdge,n=e.thresholds,i=e.dragStartTime,r=e.shouldUseTimeDampening,s=Sf(t,n);return s===0?0:r?Math.max(Cf(s,i),Or):s},_s=function(e){var t=e.container,n=e.distanceToEdges,i=e.dragStartTime,r=e.axis,s=e.shouldUseTimeDampening,o=Df(t,r),a=n[r.end]<n[r.start];return a?Cs({distanceToEdge:n[r.end],thresholds:o,dragStartTime:i,shouldUseTimeDampening:s}):-1*Cs({distanceToEdge:n[r.start],thresholds:o,dragStartTime:i,shouldUseTimeDampening:s})},_f=function(e){var t=e.container,n=e.subject,i=e.proposedScroll,r=n.height>t.height,s=n.width>t.width;return!s&&!r?i:s&&r?null:{x:s?0:i.x,y:r?0:i.y}},If=va(function(e){return e===0?0:e}),Ya=function(e){var t=e.dragStartTime,n=e.container,i=e.subject,r=e.center,s=e.shouldUseTimeDampening,o={top:r.y-n.top,right:n.right-r.x,bottom:n.bottom-r.y,left:r.x-n.left},a=_s({container:n,distanceToEdges:o,dragStartTime:t,axis:wr,shouldUseTimeDampening:s}),l=_s({container:n,distanceToEdges:o,dragStartTime:t,axis:Sa,shouldUseTimeDampening:s}),c=If({x:l,y:a});if(Gt(c,nt))return null;var d=_f({container:n,subject:i,proposedScroll:c});return d?Gt(d,nt)?null:d:null},Pf=va(function(e){return e===0?0:e>0?1:-1}),Er=function(){var e=function(n,i){return n<0?n:n>i?n-i:0};return function(t){var n=t.current,i=t.max,r=t.change,s=rt(n,r),o={x:e(s.x,i.x),y:e(s.y,i.y)};return Gt(o,nt)?null:o}}(),Xa=function(t){var n=t.max,i=t.current,r=t.change,s={x:Math.max(i.x,n.x),y:Math.max(i.y,n.y)},o=Pf(r),a=Er({max:s,current:i,change:o});return!a||o.x!==0&&a.x===0||o.y!==0&&a.y===0},Tr=function(t,n){return Xa({current:t.scroll.current,max:t.scroll.max,change:n})},Mf=function(t,n){if(!Tr(t,n))return null;var i=t.scroll.max,r=t.scroll.current;return Er({current:r,max:i,change:n})},kr=function(t,n){var i=t.frame;return i?Xa({current:i.scroll.current,max:i.scroll.max,change:n}):!1},Af=function(t,n){var i=t.frame;return!i||!kr(t,n)?null:Er({current:i.scroll.current,max:i.scroll.max,change:n})},Of=function(e){var t=e.viewport,n=e.subject,i=e.center,r=e.dragStartTime,s=e.shouldUseTimeDampening,o=Ya({dragStartTime:r,container:t.frame,subject:n,center:i,shouldUseTimeDampening:s});return o&&Tr(t,o)?o:null},Ef=function(e){var t=e.droppable,n=e.subject,i=e.center,r=e.dragStartTime,s=e.shouldUseTimeDampening,o=t.frame;if(!o)return null;var a=Ya({dragStartTime:r,container:o.pageMarginBox,subject:n,center:i,shouldUseTimeDampening:s});return a&&kr(t,a)?a:null},Is=function(e){var t=e.state,n=e.dragStartTime,i=e.shouldUseTimeDampening,r=e.scrollWindow,s=e.scrollDroppable,o=t.current.page.borderBoxCenter,a=t.dimensions.draggables[t.critical.draggable.id],l=a.page.marginBox;if(t.isWindowScrollAllowed){var c=t.viewport,d=Of({dragStartTime:n,viewport:c,subject:l,center:o,shouldUseTimeDampening:i});if(d){r(d);return}}var u=wf({center:o,destination:gt(t.impact),droppables:t.dimensions.droppables});if(u){var f=Ef({dragStartTime:n,droppable:u,subject:l,center:o,shouldUseTimeDampening:i});f&&s(u.descriptor.id,f)}},Tf=function(e){var t=e.scrollWindow,n=e.scrollDroppable,i=qe(t),r=qe(n),s=null,o=function(d){s||_(!1);var u=s,f=u.shouldUseTimeDampening,h=u.dragStartTime;Is({state:d,scrollWindow:i,scrollDroppable:r,dragStartTime:h,shouldUseTimeDampening:f})},a=function(d){s&&_(!1);var u=Date.now(),f=!1,h=function(){f=!0};Is({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:h,scrollDroppable:h}),s={dragStartTime:u,shouldUseTimeDampening:f},f&&o(d)},l=function(){s&&(i.cancel(),r.cancel(),s=null)};return{start:a,stop:l,scroll:o}},kf=function(e){var t=e.move,n=e.scrollDroppable,i=e.scrollWindow,r=function(c,d){var u=rt(c.current.client.selection,d);t({client:u})},s=function(c,d){if(!kr(c,d))return d;var u=Af(c,d);if(!u)return n(c.descriptor.id,d),null;var f=pt(d,u);n(c.descriptor.id,f);var h=pt(d,f);return h},o=function(c,d,u){if(!c||!Tr(d,u))return u;var f=Mf(d,u);if(!f)return i(u),null;var h=pt(u,f);i(h);var p=pt(u,h);return p},a=function(c){var d=c.scrollJumpRequest;if(d){var u=gt(c.impact);u||_(!1);var f=s(c.dimensions.droppables[u],d);if(f){var h=c.viewport,p=o(c.isWindowScrollAllowed,h,f);p&&r(c,p)}}};return a},Rf=function(e){var t=e.scrollDroppable,n=e.scrollWindow,i=e.move,r=Tf({scrollWindow:n,scrollDroppable:t}),s=kf({move:i,scrollWindow:n,scrollDroppable:t}),o=function(c){if(c.phase==="DRAGGING"){if(c.movementMode==="FLUID"){r.scroll(c);return}c.scrollJumpRequest&&s(c)}},a={scroll:o,start:r.start,stop:r.stop};return a},be="data-rbd",xe=function(){var e=be+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),er=function(){var e=be+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Lf=function(){var e=be+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Ps={contextId:be+"-scroll-container-context-id"},Bf=function(t){return function(n){return"["+n+'="'+t+'"]'}},Me=function(t,n){return t.map(function(i){var r=i.styles[n];return r?i.selector+" { "+r+" }":""}).join(" ")},Ff="pointer-events: none;",Nf=function(e){var t=Bf(e),n=function(){var a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(xe.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:Ff,dropAnimating:a}}}(),i=function(){var a=`
      transition: `+ze.outOfTheWay+`;
    `;return{selector:t(er.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}}(),r={selector:t(Lf.contextId),styles:{always:"overflow-anchor: none;"}},s={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},o=[i,n,r,s];return{always:Me(o,"always"),resting:Me(o,"resting"),dragging:Me(o,"dragging"),dropAnimating:Me(o,"dropAnimating"),userCancel:Me(o,"userCancel")}},mt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?P.useLayoutEffect:P.useEffect,Fi=function(){var t=document.querySelector("head");return t||_(!1),t},Ms=function(t){var n=document.createElement("style");return t&&n.setAttribute("nonce",t),n.type="text/css",n};function Wf(e,t){var n=F(function(){return Nf(e)},[e]),i=P.useRef(null),r=P.useRef(null),s=A(et(function(u){var f=r.current;f||_(!1),f.textContent=u}),[]),o=A(function(u){var f=i.current;f||_(!1),f.textContent=u},[]);mt(function(){!i.current&&!r.current||_(!1);var u=Ms(t),f=Ms(t);return i.current=u,r.current=f,u.setAttribute(be+"-always",e),f.setAttribute(be+"-dynamic",e),Fi().appendChild(u),Fi().appendChild(f),o(n.always),s(n.resting),function(){var h=function(g){var m=g.current;m||_(!1),Fi().removeChild(m),g.current=null};h(i),h(r)}},[t,o,s,n.always,n.resting,e]);var a=A(function(){return s(n.dragging)},[s,n.dragging]),l=A(function(u){if(u==="DROP"){s(n.dropAnimating);return}s(n.userCancel)},[s,n.dropAnimating,n.userCancel]),c=A(function(){r.current&&s(n.resting)},[s,n.resting]),d=F(function(){return{dragging:a,dropping:l,resting:c}},[a,l,c]);return d}var Ka=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function mi(e){return e instanceof Ka(e).HTMLElement}function Hf(e,t){var n="["+xe.contextId+'="'+e+'"]',i=ba(document.querySelectorAll(n));if(!i.length)return null;var r=Xt(i,function(s){return s.getAttribute(xe.draggableId)===t});return!r||!mi(r)?null:r}function zf(e){var t=P.useRef({}),n=P.useRef(null),i=P.useRef(null),r=P.useRef(!1),s=A(function(f,h){var p={id:f,focus:h};return t.current[f]=p,function(){var m=t.current,v=m[f];v!==p&&delete m[f]}},[]),o=A(function(f){var h=Hf(e,f);h&&h!==document.activeElement&&h.focus()},[e]),a=A(function(f,h){n.current===f&&(n.current=h)},[]),l=A(function(){i.current||r.current&&(i.current=requestAnimationFrame(function(){i.current=null;var f=n.current;f&&o(f)}))},[o]),c=A(function(f){n.current=null;var h=document.activeElement;h&&h.getAttribute(xe.draggableId)===f&&(n.current=f)},[]);mt(function(){return r.current=!0,function(){r.current=!1;var f=i.current;f&&cancelAnimationFrame(f)}},[]);var d=F(function(){return{register:s,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:a}},[s,c,l,a]);return d}function Vf(){var e={draggables:{},droppables:{}},t=[];function n(u){return t.push(u),function(){var h=t.indexOf(u);h!==-1&&t.splice(h,1)}}function i(u){t.length&&t.forEach(function(f){return f(u)})}function r(u){return e.draggables[u]||null}function s(u){var f=r(u);return f||_(!1),f}var o={register:function(f){e.draggables[f.descriptor.id]=f,i({type:"ADDITION",value:f})},update:function(f,h){var p=e.draggables[h.descriptor.id];p&&p.uniqueId===f.uniqueId&&(delete e.draggables[h.descriptor.id],e.draggables[f.descriptor.id]=f)},unregister:function(f){var h=f.descriptor.id,p=r(h);p&&f.uniqueId===p.uniqueId&&(delete e.draggables[h],i({type:"REMOVAL",value:f}))},getById:s,findById:r,exists:function(f){return!!r(f)},getAllByType:function(f){return Xn(e.draggables).filter(function(h){return h.descriptor.type===f})}};function a(u){return e.droppables[u]||null}function l(u){var f=a(u);return f||_(!1),f}var c={register:function(f){e.droppables[f.descriptor.id]=f},unregister:function(f){var h=a(f.descriptor.id);h&&f.uniqueId===h.uniqueId&&delete e.droppables[f.descriptor.id]},getById:l,findById:a,exists:function(f){return!!a(f)},getAllByType:function(f){return Xn(e.droppables).filter(function(h){return h.descriptor.type===f})}};function d(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:c,subscribe:n,clean:d}}function jf(){var e=F(Vf,[]);return P.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var Rr=j.createContext(null),Jn=function(){var e=document.body;return e||_(!1),e},Gf={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Uf=function(t){return"rbd-announcement-"+t};function $f(e){var t=F(function(){return Uf(e)},[e]),n=P.useRef(null);P.useEffect(function(){var s=document.createElement("div");return n.current=s,s.id=t,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),E(s.style,Gf),Jn().appendChild(s),function(){setTimeout(function(){var l=Jn();l.contains(s)&&l.removeChild(s),s===n.current&&(n.current=null)})}},[t]);var i=A(function(r){var s=n.current;if(s){s.textContent=r;return}},[]);return i}var qf=0,Yf={separator:"::"};function Lr(e,t){return t===void 0&&(t=Yf),F(function(){return""+e+t.separator+qf++},[t.separator,e])}function Xf(e){var t=e.contextId,n=e.uniqueId;return"rbd-hidden-text-"+t+"-"+n}function Kf(e){var t=e.contextId,n=e.text,i=Lr("hidden-text",{separator:"-"}),r=F(function(){return Xf({contextId:t,uniqueId:i})},[i,t]);return P.useEffect(function(){var o=document.createElement("div");return o.id=r,o.textContent=n,o.style.display="none",Jn().appendChild(o),function(){var l=Jn();l.contains(o)&&l.removeChild(o)}},[r,n]),r}var vi=j.createContext(null);function Ja(e){var t=P.useRef(e);return P.useEffect(function(){t.current=e}),t}function Jf(){var e=null;function t(){return!!e}function n(o){return o===e}function i(o){e&&_(!1);var a={abandon:o};return e=a,a}function r(){e||_(!1),e=null}function s(){e&&(e.abandon(),r())}return{isClaimed:t,isActive:n,claim:i,release:r,tryAbandon:s}}var Zf=9,Qf=13,Br=27,Za=32,th=33,eh=34,nh=35,ih=36,rh=37,sh=38,oh=39,ah=40,wn,lh=(wn={},wn[Qf]=!0,wn[Zf]=!0,wn),Qa=function(e){lh[e.keyCode]&&e.preventDefault()},bi=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],n=Xt(t,function(i){return"on"+i in document});return n||e}(),tl=0,As=5;function ch(e,t){return Math.abs(t.x-e.x)>=As||Math.abs(t.y-e.y)>=As}var Os={type:"IDLE"};function dh(e){var t=e.cancel,n=e.completed,i=e.getPhase,r=e.setPhase;return[{eventName:"mousemove",fn:function(o){var a=o.button,l=o.clientX,c=o.clientY;if(a===tl){var d={x:l,y:c},u=i();if(u.type==="DRAGGING"){o.preventDefault(),u.actions.move(d);return}u.type!=="PENDING"&&_(!1);var f=u.point;if(ch(f,d)){o.preventDefault();var h=u.actions.fluidLift(d);r({type:"DRAGGING",actions:h})}}}},{eventName:"mouseup",fn:function(o){var a=i();if(a.type!=="DRAGGING"){t();return}o.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:function(o){i().type==="DRAGGING"&&o.preventDefault(),t()}},{eventName:"keydown",fn:function(o){var a=i();if(a.type==="PENDING"){t();return}if(o.keyCode===Br){o.preventDefault(),t();return}Qa(o)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){i().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(o){var a=i();if(a.type==="IDLE"&&_(!1),a.actions.shouldRespectForcePress()){t();return}o.preventDefault()}},{eventName:bi,fn:t}]}function uh(e){var t=P.useRef(Os),n=P.useRef(jt),i=F(function(){return{eventName:"mousedown",fn:function(u){if(!u.defaultPrevented&&u.button===tl&&!(u.ctrlKey||u.metaKey||u.shiftKey||u.altKey)){var f=e.findClosestDraggableId(u);if(f){var h=e.tryGetLock(f,o,{sourceEvent:u});if(h){u.preventDefault();var p={x:u.clientX,y:u.clientY};n.current(),c(h,p)}}}}}},[e]),r=F(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(u){if(!u.defaultPrevented){var f=e.findClosestDraggableId(u);if(f){var h=e.findOptionsForDraggable(f);h&&(h.shouldRespectForcePress||e.canGetLock(f)&&u.preventDefault())}}}}},[e]),s=A(function(){var u={passive:!1,capture:!0};n.current=yt(window,[r,i],u)},[r,i]),o=A(function(){var d=t.current;d.type!=="IDLE"&&(t.current=Os,n.current(),s())},[s]),a=A(function(){var d=t.current;o(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[o]),l=A(function(){var u={capture:!0,passive:!1},f=dh({cancel:a,completed:o,getPhase:function(){return t.current},setPhase:function(p){t.current=p}});n.current=yt(window,f,u)},[a,o]),c=A(function(u,f){t.current.type!=="IDLE"&&_(!1),t.current={type:"PENDING",point:f,actions:u},l()},[l]);mt(function(){return s(),function(){n.current()}},[s])}var he;function fh(){}var hh=(he={},he[eh]=!0,he[th]=!0,he[ih]=!0,he[nh]=!0,he);function ph(e,t){function n(){t(),e.cancel()}function i(){t(),e.drop()}return[{eventName:"keydown",fn:function(s){if(s.keyCode===Br){s.preventDefault(),n();return}if(s.keyCode===Za){s.preventDefault(),i();return}if(s.keyCode===ah){s.preventDefault(),e.moveDown();return}if(s.keyCode===sh){s.preventDefault(),e.moveUp();return}if(s.keyCode===oh){s.preventDefault(),e.moveRight();return}if(s.keyCode===rh){s.preventDefault(),e.moveLeft();return}if(hh[s.keyCode]){s.preventDefault();return}Qa(s)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:bi,fn:n}]}function gh(e){var t=P.useRef(fh),n=F(function(){return{eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==Za)return;var o=e.findClosestDraggableId(s);if(!o)return;var a=e.tryGetLock(o,d,{sourceEvent:s});if(!a)return;s.preventDefault();var l=!0,c=a.snapLift();t.current();function d(){l||_(!1),l=!1,t.current(),i()}t.current=yt(window,ph(c,d),{capture:!0,passive:!1})}}},[e]),i=A(function(){var s={passive:!1,capture:!0};t.current=yt(window,[n],s)},[n]);mt(function(){return i(),function(){t.current()}},[i])}var Ni={type:"IDLE"},mh=120,vh=.15;function bh(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(r){r.preventDefault()}},{eventName:"keydown",fn:function(r){if(n().type!=="DRAGGING"){t();return}r.keyCode===Br&&r.preventDefault(),t()}},{eventName:bi,fn:t}]}function xh(e){var t=e.cancel,n=e.completed,i=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(s){var o=i();if(o.type!=="DRAGGING"){t();return}o.hasMoved=!0;var a=s.touches[0],l=a.clientX,c=a.clientY,d={x:l,y:c};s.preventDefault(),o.actions.move(d)}},{eventName:"touchend",fn:function(s){var o=i();if(o.type!=="DRAGGING"){t();return}s.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:function(s){if(i().type!=="DRAGGING"){t();return}s.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(s){var o=i();o.type==="IDLE"&&_(!1);var a=s.touches[0];if(a){var l=a.force>=vh;if(l){var c=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){c&&t();return}if(c){if(o.hasMoved){s.preventDefault();return}t();return}s.preventDefault()}}}},{eventName:bi,fn:t}]}function yh(e){var t=P.useRef(Ni),n=P.useRef(jt),i=A(function(){return t.current},[]),r=A(function(h){t.current=h},[]),s=F(function(){return{eventName:"touchstart",fn:function(h){if(!h.defaultPrevented){var p=e.findClosestDraggableId(h);if(p){var g=e.tryGetLock(p,a,{sourceEvent:h});if(g){var m=h.touches[0],v=m.clientX,b=m.clientY,y={x:v,y:b};n.current(),u(g,y)}}}}}},[e]),o=A(function(){var h={capture:!0,passive:!1};n.current=yt(window,[s],h)},[s]),a=A(function(){var f=t.current;f.type!=="IDLE"&&(f.type==="PENDING"&&clearTimeout(f.longPressTimerId),r(Ni),n.current(),o())},[o,r]),l=A(function(){var f=t.current;a(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[a]),c=A(function(){var h={capture:!0,passive:!1},p={cancel:l,completed:a,getPhase:i},g=yt(window,xh(p),h),m=yt(window,bh(p),h);n.current=function(){g(),m()}},[l,i,a]),d=A(function(){var h=i();h.type!=="PENDING"&&_(!1);var p=h.actions.fluidLift(h.point);r({type:"DRAGGING",actions:p,hasMoved:!1})},[i,r]),u=A(function(h,p){i().type!=="IDLE"&&_(!1);var g=setTimeout(d,mh);r({type:"PENDING",point:p,actions:h,longPressTimerId:g}),c()},[c,i,r,d]);mt(function(){return o(),function(){n.current();var p=i();p.type==="PENDING"&&(clearTimeout(p.longPressTimerId),r(Ni))}},[i,o,r]),mt(function(){var h=yt(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return h},[])}var wh={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function el(e,t){if(t==null)return!1;var n=!!wh[t.tagName.toLowerCase()];if(n)return!0;var i=t.getAttribute("contenteditable");return i==="true"||i===""?!0:t===e?!1:el(e,t.parentElement)}function Dh(e,t){var n=t.target;return mi(n)?el(e,n):!1}var Sh=function(e){return Mt(e.getBoundingClientRect()).center};function Ch(e){return e instanceof Ka(e).Element}var _h=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],n=Xt(t,function(i){return i in Element.prototype});return n||e}();function nl(e,t){return e==null?null:e[_h](t)?e:nl(e.parentElement,t)}function Ih(e,t){return e.closest?e.closest(t):nl(e,t)}function Ph(e){return"["+xe.contextId+'="'+e+'"]'}function Mh(e,t){var n=t.target;if(!Ch(n))return null;var i=Ph(e),r=Ih(n,i);return!r||!mi(r)?null:r}function Ah(e,t){var n=Mh(e,t);return n?n.getAttribute(xe.draggableId):null}function Oh(e,t){var n="["+er.contextId+'="'+e+'"]',i=ba(document.querySelectorAll(n)),r=Xt(i,function(s){return s.getAttribute(er.id)===t});return!r||!mi(r)?null:r}function Eh(e){e.preventDefault()}function Dn(e){var t=e.expected,n=e.phase,i=e.isLockActive;return e.shouldWarn,!(!i()||t!==n)}function il(e){var t=e.lockAPI,n=e.store,i=e.registry,r=e.draggableId;if(t.isClaimed())return!1;var s=i.draggable.findById(r);return!(!s||!s.options.isEnabled||!$a(n.getState(),r))}function Th(e){var t=e.lockAPI,n=e.contextId,i=e.store,r=e.registry,s=e.draggableId,o=e.forceSensorStop,a=e.sourceEvent,l=il({lockAPI:t,store:i,registry:r,draggableId:s});if(!l)return null;var c=r.draggable.getById(s),d=Oh(n,c.descriptor.id);if(!d||a&&!c.options.canDragInteractiveElements&&Dh(d,a))return null;var u=t.claim(o||jt),f="PRE_DRAG";function h(){return c.options.shouldRespectForcePress}function p(){return t.isActive(u)}function g(D,S){Dn({expected:D,phase:f,isLockActive:p,shouldWarn:!0})&&i.dispatch(S())}var m=g.bind(null,"DRAGGING");function v(D){function S(){t.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(S(),f!=="PRE_DRAG"&&_(!1)),i.dispatch(Cu(D.liftActionArgs)),f="DRAGGING";function C(I,O){if(O===void 0&&(O={shouldBlockNextClick:!1}),D.cleanup(),O.shouldBlockNextClick){var M=yt(window,[{eventName:"click",fn:Eh,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(M)}S(),i.dispatch(Wa({reason:I}))}return E({isActive:function(){return Dn({expected:"DRAGGING",phase:f,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:h,drop:function(O){return C("DROP",O)},cancel:function(O){return C("CANCEL",O)}},D.actions)}function b(D){var S=qe(function(I){m(function(){return Na({client:I})})}),C=v({liftActionArgs:{id:s,clientSelection:D,movementMode:"FLUID"},cleanup:function(){return S.cancel()},actions:{move:S}});return E({},C,{move:S})}function y(){var D={moveUp:function(){return m(ku)},moveRight:function(){return m(Lu)},moveDown:function(){return m(Ru)},moveLeft:function(){return m(Bu)}};return v({liftActionArgs:{id:s,clientSelection:Sh(d),movementMode:"SNAP"},cleanup:jt,actions:D})}function x(){var D=Dn({expected:"PRE_DRAG",phase:f,isLockActive:p,shouldWarn:!0});D&&t.release()}var w={isActive:function(){return Dn({expected:"PRE_DRAG",phase:f,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:h,fluidLift:b,snapLift:y,abort:x};return w}var kh=[uh,gh,yh];function Rh(e){var t=e.contextId,n=e.store,i=e.registry,r=e.customSensors,s=e.enableDefaultSensors,o=[].concat(s?kh:[],r||[]),a=P.useState(function(){return Jf()})[0],l=A(function(b,y){b.isDragging&&!y.isDragging&&a.tryAbandon()},[a]);mt(function(){var b=n.getState(),y=n.subscribe(function(){var x=n.getState();l(b,x),b=x});return y},[a,n,l]),mt(function(){return a.tryAbandon},[a.tryAbandon]);for(var c=A(function(v){return il({lockAPI:a,registry:i,store:n,draggableId:v})},[a,i,n]),d=A(function(v,b,y){return Th({lockAPI:a,registry:i,contextId:t,store:n,draggableId:v,forceSensorStop:b,sourceEvent:y&&y.sourceEvent?y.sourceEvent:null})},[t,a,i,n]),u=A(function(v){return Ah(t,v)},[t]),f=A(function(v){var b=i.draggable.findById(v);return b?b.options:null},[i.draggable]),h=A(function(){a.isClaimed()&&(a.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(Ir()))},[a,n]),p=A(a.isClaimed,[a]),g=F(function(){return{canGetLock:c,tryGetLock:d,findClosestDraggableId:u,findOptionsForDraggable:f,tryReleaseLock:h,isLockClaimed:p}},[c,d,u,f,h,p]),m=0;m<o.length;m++)o[m](g)}var Lh=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function Ae(e){return e.current||_(!1),e.current}function Bh(e){var t=e.contextId,n=e.setCallbacks,i=e.sensors,r=e.nonce,s=e.dragHandleUsageInstructions,o=P.useRef(null),a=Ja(e),l=A(function(){return Lh(a.current)},[a]),c=$f(t),d=Kf({contextId:t,text:s}),u=Wf(t,r),f=A(function(I){Ae(o).dispatch(I)},[]),h=F(function(){return is({publishWhileDragging:Iu,updateDroppableScroll:Mu,updateDroppableIsEnabled:Au,updateDroppableIsCombineEnabled:Ou,collectionStarting:Pu},f)},[f]),p=jf(),g=F(function(){return vf(p,h)},[p,h]),m=F(function(){return Rf(E({scrollWindow:bf,scrollDroppable:g.scrollDroppable},is({move:Na},f)))},[g.scrollDroppable,f]),v=zf(t),b=F(function(){return hf({announce:c,autoScroller:m,dimensionMarshal:g,focusMarshal:v,getResponders:l,styleMarshal:u})},[c,m,g,v,l,u]);o.current=b;var y=A(function(){var I=Ae(o),O=I.getState();O.phase!=="IDLE"&&I.dispatch(Ir())},[]),x=A(function(){var I=Ae(o).getState();return I.isDragging||I.phase==="DROP_ANIMATING"},[]),w=F(function(){return{isDragging:x,tryAbort:y}},[x,y]);n(w);var D=A(function(I){return $a(Ae(o).getState(),I)},[]),S=A(function(){return ne(Ae(o).getState())},[]),C=F(function(){return{marshal:g,focus:v,contextId:t,canLift:D,isMovementAllowed:S,dragHandleUsageInstructionsId:d,registry:p}},[t,g,d,v,D,S,p]);return Rh({contextId:t,store:b,registry:p,customSensors:i,enableDefaultSensors:e.enableDefaultSensors!==!1}),P.useEffect(function(){return y},[y]),j.createElement(vi.Provider,{value:C},j.createElement(mc,{context:Rr,store:b},e.children))}var Fh=0;function Nh(){return F(function(){return""+Fh++},[])}function Wh(e){var t=Nh(),n=e.dragHandleUsageInstructions||Wn.dragHandleUsageInstructions;return j.createElement(pd,null,function(i){return j.createElement(Bh,{nonce:e.nonce,contextId:t,setCallbacks:i,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var rl=function(t){return function(n){return t===n}},Hh=rl("scroll"),zh=rl("auto"),Es=function(t,n){return n(t.overflowX)||n(t.overflowY)},Vh=function(t){var n=window.getComputedStyle(t),i={overflowX:n.overflowX,overflowY:n.overflowY};return Es(i,Hh)||Es(i,zh)},jh=function(){return!1},Gh=function e(t){return t==null?null:t===document.body?jh()?t:null:t===document.documentElement?null:Vh(t)?t:e(t.parentElement)},nr=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Uh=function e(t){if(!t)return!1;var n=window.getComputedStyle(t);return n.position==="fixed"?!0:e(t.parentElement)},$h=function(e){var t=Gh(e),n=Uh(e);return{closestScrollable:t,isFixedOnPage:n}},qh=function(e){var t=e.descriptor,n=e.isEnabled,i=e.isCombineEnabled,r=e.isFixedOnPage,s=e.direction,o=e.client,a=e.page,l=e.closest,c=function(){if(!l)return null;var h=l.scrollSize,p=l.client,g=ja({scrollHeight:h.scrollHeight,scrollWidth:h.scrollWidth,height:p.paddingBox.height,width:p.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:p,scrollSize:h,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:g,diff:{value:nt,displacement:nt}}}}(),d=s==="vertical"?wr:Sa,u=ve({page:a,withPlaceholder:null,axis:d,frame:c}),f={descriptor:t,isCombineEnabled:i,isFixedOnPage:r,axis:d,isEnabled:n,client:o,page:a,frame:c,subject:u};return f},Yh=function(t,n){var i=ha(t);if(!n||t!==n)return i;var r=i.paddingBox.top-n.scrollTop,s=i.paddingBox.left-n.scrollLeft,o=r+n.scrollHeight,a=s+n.scrollWidth,l={top:r,right:a,bottom:o,left:s},c=mr(l,i.border),d=vr({borderBox:c,margin:i.margin,border:i.border,padding:i.padding});return d},Xh=function(e){var t=e.ref,n=e.descriptor,i=e.env,r=e.windowScroll,s=e.direction,o=e.isDropDisabled,a=e.isCombineEnabled,l=e.shouldClipSubject,c=i.closestScrollable,d=Yh(t,c),u=$n(d,r),f=function(){if(!c)return null;var p=ha(c),g={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:p,page:$n(p,r),scroll:nr(c),scrollSize:g,shouldClipSubject:l}}(),h=qh({descriptor:n,isEnabled:!o,isCombineEnabled:a,isFixedOnPage:i.isFixedOnPage,direction:s,client:d,page:u,closest:f});return h},Kh={passive:!1},Jh={passive:!0},Ts=function(e){return e.shouldPublishImmediately?Kh:Jh};function Zn(e){var t=P.useContext(e);return t||_(!1),t}var Sn=function(t){return t&&t.env.closestScrollable||null};function Zh(e){var t=P.useRef(null),n=Zn(vi),i=Lr("droppable"),r=n.registry,s=n.marshal,o=Ja(e),a=F(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),l=P.useRef(a),c=F(function(){return et(function(x,w){t.current||_(!1);var D={x,y:w};s.updateDroppableScroll(a.id,D)})},[a.id,s]),d=A(function(){var x=t.current;return!x||!x.env.closestScrollable?nt:nr(x.env.closestScrollable)},[]),u=A(function(){var x=d();c(x.x,x.y)},[d,c]),f=F(function(){return qe(u)},[u]),h=A(function(){var x=t.current,w=Sn(x);x&&w||_(!1);var D=x.scrollOptions;if(D.shouldPublishImmediately){u();return}f()},[f,u]),p=A(function(x,w){t.current&&_(!1);var D=o.current,S=D.getDroppableRef();S||_(!1);var C=$h(S),I={ref:S,descriptor:a,env:C,scrollOptions:w};t.current=I;var O=Xh({ref:S,descriptor:a,env:C,windowScroll:x,direction:D.direction,isDropDisabled:D.isDropDisabled,isCombineEnabled:D.isCombineEnabled,shouldClipSubject:!D.ignoreContainerClipping}),M=C.closestScrollable;return M&&(M.setAttribute(Ps.contextId,n.contextId),M.addEventListener("scroll",h,Ts(I.scrollOptions))),O},[n.contextId,a,h,o]),g=A(function(){var x=t.current,w=Sn(x);return x&&w||_(!1),nr(w)},[]),m=A(function(){var x=t.current;x||_(!1);var w=Sn(x);t.current=null,w&&(f.cancel(),w.removeAttribute(Ps.contextId),w.removeEventListener("scroll",h,Ts(x.scrollOptions)))},[h,f]),v=A(function(x){var w=t.current;w||_(!1);var D=Sn(w);D||_(!1),D.scrollTop+=x.y,D.scrollLeft+=x.x},[]),b=F(function(){return{getDimensionAndWatchScroll:p,getScrollWhileDragging:g,dragStopped:m,scroll:v}},[m,p,g,v]),y=F(function(){return{uniqueId:i,descriptor:a,callbacks:b}},[b,a,i]);mt(function(){return l.current=y.descriptor,r.droppable.register(y),function(){t.current&&m(),r.droppable.unregister(y)}},[b,a,m,y,s,r.droppable]),mt(function(){t.current&&s.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)},[e.isDropDisabled,s]),mt(function(){t.current&&s.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)},[e.isCombineEnabled,s])}function Wi(){}var ks={width:0,height:0,margin:yd},Qh=function(t){var n=t.isAnimatingOpenOnMount,i=t.placeholder,r=t.animate;return n||r==="close"?ks:{height:i.client.borderBox.height,width:i.client.borderBox.width,margin:i.client.margin}},tp=function(t){var n=t.isAnimatingOpenOnMount,i=t.placeholder,r=t.animate,s=Qh({isAnimatingOpenOnMount:n,placeholder:i,animate:r});return{display:i.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:r!=="none"?ze.placeholder:null}};function ep(e){var t=P.useRef(null),n=A(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),i=e.animate,r=e.onTransitionEnd,s=e.onClose,o=e.contextId,a=P.useState(e.animate==="open"),l=a[0],c=a[1];P.useEffect(function(){return l?i!=="open"?(n(),c(!1),Wi):t.current?Wi:(t.current=setTimeout(function(){t.current=null,c(!1)}),n):Wi},[i,l,n]);var d=A(function(f){f.propertyName==="height"&&(r(),i==="close"&&s())},[i,s,r]),u=tp({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return j.createElement(e.placeholder.tagName,{style:u,"data-rbd-placeholder-context-id":o,onTransitionEnd:d,ref:e.innerRef})}var np=j.memo(ep),Fr=j.createContext(null),ip=function(e){Zo(t,e);function t(){for(var i,r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=e.call.apply(e,[this].concat(s))||this,i.state={isVisible:!!i.props.on,data:i.props.on,animate:i.props.shouldAnimate&&i.props.on?"open":"none"},i.onClose=function(){i.state.animate==="close"&&i.setState({isVisible:!1})},i}t.getDerivedStateFromProps=function(r,s){return r.shouldAnimate?r.on?{isVisible:!0,data:r.on,animate:"open"}:s.isVisible?{isVisible:!0,data:s.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!r.on,data:r.on,animate:"none"}};var n=t.prototype;return n.render=function(){if(!this.state.isVisible)return null;var r={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(r)},t}(j.PureComponent),Rs={dragging:5e3,dropAnimating:4500},rp=function(t,n){return n?ze.drop(n.duration):t?ze.snap:ze.fluid},sp=function(t,n){return t?n?Je.opacity.drop:Je.opacity.combining:null},op=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function ap(e){var t=e.dimension,n=t.client,i=e.offset,r=e.combineWith,s=e.dropping,o=!!r,a=op(e),l=!!s,c=l?Qi.drop(i,o):Qi.moveTo(i),d={position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:rp(a,s),transform:c,opacity:sp(o,l),zIndex:l?Rs.dropAnimating:Rs.dragging,pointerEvents:"none"};return d}function lp(e){return{transform:Qi.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function cp(e){return e.type==="DRAGGING"?ap(e):lp(e)}function dp(e,t,n){n===void 0&&(n=nt);var i=window.getComputedStyle(t),r=t.getBoundingClientRect(),s=fa(r,i),o=$n(s,n),a={client:s,tagName:t.tagName.toLowerCase(),display:i.display},l={x:s.marginBox.width,y:s.marginBox.height},c={descriptor:e,placeholder:a,displaceBy:l,client:s,page:o};return c}function up(e){var t=Lr("draggable"),n=e.descriptor,i=e.registry,r=e.getDraggableRef,s=e.canDragInteractiveElements,o=e.shouldRespectForcePress,a=e.isEnabled,l=F(function(){return{canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:a}},[s,a,o]),c=A(function(h){var p=r();return p||_(!1),dp(n,p,h)},[n,r]),d=F(function(){return{uniqueId:t,descriptor:n,options:l,getDimension:c}},[n,c,l,t]),u=P.useRef(d),f=P.useRef(!0);mt(function(){return i.draggable.register(u.current),function(){return i.draggable.unregister(u.current)}},[i.draggable]),mt(function(){if(f.current){f.current=!1;return}var h=u.current;u.current=d,i.draggable.update(d,h)},[d,i.draggable])}function fp(e){e.preventDefault()}function hp(e){var t=P.useRef(null),n=A(function(I){t.current=I},[]),i=A(function(){return t.current},[]),r=Zn(vi),s=r.contextId,o=r.dragHandleUsageInstructionsId,a=r.registry,l=Zn(Fr),c=l.type,d=l.droppableId,u=F(function(){return{id:e.draggableId,index:e.index,type:c,droppableId:d}},[e.draggableId,e.index,c,d]),f=e.children,h=e.draggableId,p=e.isEnabled,g=e.shouldRespectForcePress,m=e.canDragInteractiveElements,v=e.isClone,b=e.mapped,y=e.dropAnimationFinished;if(!v){var x=F(function(){return{descriptor:u,registry:a,getDraggableRef:i,canDragInteractiveElements:m,shouldRespectForcePress:g,isEnabled:p}},[u,a,i,m,g,p]);up(x)}var w=F(function(){return p?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":h,"data-rbd-drag-handle-context-id":s,draggable:!1,onDragStart:fp}:null},[s,o,h,p]),D=A(function(I){b.type==="DRAGGING"&&b.dropping&&I.propertyName==="transform"&&y()},[y,b]),S=F(function(){var I=cp(b),O=b.type==="DRAGGING"&&b.dropping?D:null,M={innerRef:n,draggableProps:{"data-rbd-draggable-context-id":s,"data-rbd-draggable-id":h,style:I,onTransitionEnd:O},dragHandleProps:w};return M},[s,w,h,b,D,n]),C=F(function(){return{draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}},[u.droppableId,u.id,u.index,u.type]);return f(S,b.snapshot,C)}var sl=function(e,t){return e===t},ol=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null},pp=function(t){return t.combine?t.combine.draggableId:null},gp=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function mp(){var e=et(function(r,s){return{x:r,y:s}}),t=et(function(r,s,o,a,l){return{isDragging:!0,isClone:s,isDropAnimating:!!l,dropAnimation:l,mode:r,draggingOver:o,combineWith:a,combineTargetFor:null}}),n=et(function(r,s,o,a,l,c,d){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:c,mode:s,offset:r,dimension:o,forceShouldAnimate:d,snapshot:t(s,a,l,c,null)}}}),i=function(s,o){if(s.isDragging){if(s.critical.draggable.id!==o.draggableId)return null;var a=s.current.client.offset,l=s.dimensions.draggables[o.draggableId],c=gt(s.impact),d=gp(s.impact),u=s.forceShouldAnimate;return n(e(a.x,a.y),s.movementMode,l,o.isClone,c,d,u)}if(s.phase==="DROP_ANIMATING"){var f=s.completed;if(f.result.draggableId!==o.draggableId)return null;var h=o.isClone,p=s.dimensions.draggables[o.draggableId],g=f.result,m=g.mode,v=ol(g),b=pp(g),y=s.dropDuration,x={duration:y,curve:Mr.drop,moveTo:s.newHomeClientOffset,opacity:b?Je.opacity.drop:null,scale:b?Je.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:p,dropping:x,draggingOver:v,combineWith:b,mode:m,forceShouldAnimate:null,snapshot:t(m,h,v,b,x)}}}return null};return i}function al(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var vp={mapped:{type:"SECONDARY",offset:nt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:al(null)}};function bp(){var e=et(function(o,a){return{x:o,y:a}}),t=et(al),n=et(function(o,a,l){return a===void 0&&(a=null),{mapped:{type:"SECONDARY",offset:o,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:t(a)}}}),i=function(a){return a?n(nt,a,!0):null},r=function(a,l,c,d){var u=c.displaced.visible[a],f=!!(d.inVirtualList&&d.effected[a]),h=hi(c),p=h&&h.draggableId===a?l:null;if(!u){if(!f)return i(p);if(c.displaced.invisible[a])return null;var g=Se(d.displacedBy.point),m=e(g.x,g.y);return n(m,p,!0)}if(f)return i(p);var v=c.displacedBy.point,b=e(v.x,v.y);return n(b,p,u.shouldAnimate)},s=function(a,l){if(a.isDragging)return a.critical.draggable.id===l.draggableId?null:r(l.draggableId,a.critical.draggable.id,a.impact,a.afterCritical);if(a.phase==="DROP_ANIMATING"){var c=a.completed;return c.result.draggableId===l.draggableId?null:r(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null};return s}var xp=function(){var t=mp(),n=bp(),i=function(s,o){return t(s,o)||n(s,o)||vp};return i},yp={dropAnimationFinished:Ha},wp=da(xp,yp,null,{context:Rr,pure:!0,areStatePropsEqual:sl})(hp);function ll(e){var t=Zn(Fr),n=t.isUsingCloneFor;return n===e.draggableId&&!e.isClone?null:j.createElement(wp,e)}function Dp(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,i=!!e.shouldRespectForcePress;return j.createElement(ll,E({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:i}))}function Sp(e){var t=P.useContext(vi);t||_(!1);var n=t.contextId,i=t.isMovementAllowed,r=P.useRef(null),s=P.useRef(null),o=e.children,a=e.droppableId,l=e.type,c=e.mode,d=e.direction,u=e.ignoreContainerClipping,f=e.isDropDisabled,h=e.isCombineEnabled,p=e.snapshot,g=e.useClone,m=e.updateViewportMaxScroll,v=e.getContainerForClone,b=A(function(){return r.current},[]),y=A(function(M){r.current=M},[]);A(function(){return s.current},[]);var x=A(function(M){s.current=M},[]),w=A(function(){i()&&m({maxScroll:Ua()})},[i,m]);Zh({droppableId:a,type:l,mode:c,direction:d,isDropDisabled:f,isCombineEnabled:h,ignoreContainerClipping:u,getDroppableRef:b});var D=j.createElement(ip,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(M){var R=M.onClose,V=M.data,N=M.animate;return j.createElement(np,{placeholder:V,onClose:R,innerRef:x,animate:N,contextId:n,onTransitionEnd:w})}),S=F(function(){return{innerRef:y,placeholder:D,droppableProps:{"data-rbd-droppable-id":a,"data-rbd-droppable-context-id":n}}},[n,a,D,y]),C=g?g.dragging.draggableId:null,I=F(function(){return{droppableId:a,type:l,isUsingCloneFor:C}},[a,C,l]);function O(){if(!g)return null;var M=g.dragging,R=g.render,V=j.createElement(ll,{draggableId:M.draggableId,index:M.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(N,B){return R(N,B,M)});return nc.createPortal(V,v())}return j.createElement(Fr.Provider,{value:I},o(S,p),O())}var Hi=function(t,n){return t===n.droppable.type},Ls=function(t,n){return n.draggables[t.draggable.id]},Cp=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n=E({},t,{shouldAnimatePlaceholder:!1}),i=et(function(o){return{draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}}}),r=et(function(o,a,l,c,d,u){var f=d.descriptor.id,h=d.descriptor.droppableId===o;if(h){var p=u?{render:u,dragging:i(d.descriptor)}:null,g={isDraggingOver:l,draggingOverWith:l?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:g,useClone:p}}if(!a)return n;if(!c)return t;var m={isDraggingOver:l,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}}),s=function(a,l){var c=l.droppableId,d=l.type,u=!l.isDropDisabled,f=l.renderClone;if(a.isDragging){var h=a.critical;if(!Hi(d,h))return n;var p=Ls(h,a.dimensions),g=gt(a.impact)===c;return r(c,u,g,g,p,f)}if(a.phase==="DROP_ANIMATING"){var m=a.completed;if(!Hi(d,m.critical))return n;var v=Ls(m.critical,a.dimensions);return r(c,u,ol(m.result)===c,gt(m.impact)===c,v,f)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){var b=a.completed;if(!Hi(d,b.critical))return n;var y=gt(b.impact)===c,x=!!(b.impact.at&&b.impact.at.type==="COMBINE"),w=b.critical.droppable.id===c;return y?x?t:n:w?t:n}return n};return s},_p={updateViewportMaxScroll:Tu};function Ip(){return document.body||_(!1),document.body}var Pp={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Ip},cl=da(Cp,_p,null,{context:Rr,pure:!0,areStatePropsEqual:sl})(Sp);cl.defaultProps=Pp;/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function gn(e){return e+.5|0}const Ht=(e,t,n)=>Math.max(Math.min(e,n),t);function Le(e){return Ht(gn(e*2.55),0,255)}function $t(e){return Ht(gn(e*255),0,255)}function Ft(e){return Ht(gn(e/2.55)/100,0,1)}function Bs(e){return Ht(gn(e*100),0,100)}const xt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ir=[..."0123456789ABCDEF"],Mp=e=>ir[e&15],Ap=e=>ir[(e&240)>>4]+ir[e&15],Cn=e=>(e&240)>>4===(e&15),Op=e=>Cn(e.r)&&Cn(e.g)&&Cn(e.b)&&Cn(e.a);function Ep(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&xt[e[1]]*17,g:255&xt[e[2]]*17,b:255&xt[e[3]]*17,a:t===5?xt[e[4]]*17:255}:(t===7||t===9)&&(n={r:xt[e[1]]<<4|xt[e[2]],g:xt[e[3]]<<4|xt[e[4]],b:xt[e[5]]<<4|xt[e[6]],a:t===9?xt[e[7]]<<4|xt[e[8]]:255})),n}const Tp=(e,t)=>e<255?t(e):"";function kp(e){var t=Op(e)?Mp:Ap;return e?"#"+t(e.r)+t(e.g)+t(e.b)+Tp(e.a,t):void 0}const Rp=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function dl(e,t,n){const i=t*Math.min(n,1-n),r=(s,o=(s+e/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function Lp(e,t,n){const i=(r,s=(r+e/60)%6)=>n-n*t*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function Bp(e,t,n){const i=dl(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)i[r]*=1-t-n,i[r]+=t;return i}function Fp(e,t,n,i,r){return e===r?(t-n)/i+(t<n?6:0):t===r?(n-e)/i+2:(e-t)/i+4}function Nr(e){const n=e.r/255,i=e.g/255,r=e.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),a=(s+o)/2;let l,c,d;return s!==o&&(d=s-o,c=a>.5?d/(2-s-o):d/(s+o),l=Fp(n,i,r,d,s),l=l*60+.5),[l|0,c||0,a]}function Wr(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map($t)}function Hr(e,t,n){return Wr(dl,e,t,n)}function Np(e,t,n){return Wr(Bp,e,t,n)}function Wp(e,t,n){return Wr(Lp,e,t,n)}function ul(e){return(e%360+360)%360}function Hp(e){const t=Rp.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?Le(+t[5]):$t(+t[5]));const r=ul(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=Np(r,s,o):t[1]==="hsv"?i=Wp(r,s,o):i=Hr(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function zp(e,t){var n=Nr(e);n[0]=ul(n[0]+t),n=Hr(n),e.r=n[0],e.g=n[1],e.b=n[2]}function Vp(e){if(!e)return;const t=Nr(e),n=t[0],i=Bs(t[1]),r=Bs(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${r}%, ${Ft(e.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const Fs={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ns={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function jp(){const e={},t=Object.keys(Ns),n=Object.keys(Fs);let i,r,s,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,Fs[s]);s=parseInt(Ns[o],16),e[a]=[s>>16&255,s>>8&255,s&255]}return e}let _n;function Gp(e){_n||(_n=jp(),_n.transparent=[0,0,0,0]);const t=_n[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Up=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function $p(e){const t=Up.exec(e);let n=255,i,r,s;if(t){if(t[7]!==i){const o=+t[7];n=t[8]?Le(o):Ht(o*255,0,255)}return i=+t[1],r=+t[3],s=+t[5],i=255&(t[2]?Le(i):Ht(i,0,255)),r=255&(t[4]?Le(r):Ht(r,0,255)),s=255&(t[6]?Le(s):Ht(s,0,255)),{r:i,g:r,b:s,a:n}}}function qp(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Ft(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const zi=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,pe=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Yp(e,t,n){const i=pe(Ft(e.r)),r=pe(Ft(e.g)),s=pe(Ft(e.b));return{r:$t(zi(i+n*(pe(Ft(t.r))-i))),g:$t(zi(r+n*(pe(Ft(t.g))-r))),b:$t(zi(s+n*(pe(Ft(t.b))-s))),a:e.a+n*(t.a-e.a)}}function In(e,t,n){if(e){let i=Nr(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=Hr(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function fl(e,t){return e&&Object.assign(t||{},e)}function Ws(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=$t(e[3]))):(t=fl(e,{r:0,g:0,b:0,a:1}),t.a=$t(t.a)),t}function Xp(e){return e.charAt(0)==="r"?$p(e):Hp(e)}class Ze{constructor(t){if(t instanceof Ze)return t;const n=typeof t;let i;n==="object"?i=Ws(t):n==="string"&&(i=Ep(t)||Gp(t)||Xp(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=fl(this._rgb);return t&&(t.a=Ft(t.a)),t}set rgb(t){this._rgb=Ws(t)}rgbString(){return this._valid?qp(this._rgb):void 0}hexString(){return this._valid?kp(this._rgb):void 0}hslString(){return this._valid?Vp(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,r=t.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=i.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,i.r=255&c*i.r+s*r.r+.5,i.g=255&c*i.g+s*r.g+.5,i.b=255&c*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=Yp(this._rgb,t._rgb,n)),this}clone(){return new Ze(this.rgb)}alpha(t){return this._rgb.a=$t(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=gn(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return In(this._rgb,2,t),this}darken(t){return In(this._rgb,2,-t),this}saturate(t){return In(this._rgb,1,t),this}desaturate(t){return In(this._rgb,1,-t),this}rotate(t){return zp(this._rgb,t),this}}/*!
 * Chart.js v4.3.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function Rt(){}const Kp=(()=>{let e=0;return()=>e++})();function $(e){return e===null||typeof e>"u"}function q(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function W(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function tt(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function ht(e,t){return tt(e)?e:t}function L(e,t){return typeof e>"u"?t:e}const Jp=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function U(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function z(e,t,n,i){let r,s,o;if(q(e))if(s=e.length,i)for(r=s-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;r<s;r++)t.call(n,e[r],r);else if(W(e))for(o=Object.keys(e),s=o.length,r=0;r<s;r++)t.call(n,e[o[r]],o[r])}function Qn(e,t){let n,i,r,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(r=e[n],s=t[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function ti(e){if(q(e))return e.map(ti);if(W(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let r=0;for(;r<i;++r)t[n[r]]=ti(e[n[r]]);return t}return e}function hl(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function Zp(e,t,n,i){if(!hl(e))return;const r=t[e],s=n[e];W(r)&&W(s)?Qe(r,s,i):t[e]=ti(s)}function Qe(e,t,n){const i=q(t)?t:[t],r=i.length;if(!W(e))return e;n=n||{};const s=n.merger||Zp;let o;for(let a=0;a<r;++a){if(o=i[a],!W(o))continue;const l=Object.keys(o);for(let c=0,d=l.length;c<d;++c)s(l[c],e,o,n)}return e}function Ve(e,t){return Qe(e,t,{merger:Qp})}function Qp(e,t,n){if(!hl(e))return;const i=t[e],r=n[e];W(i)&&W(r)?Ve(i,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=ti(r))}const Hs={"":e=>e,x:e=>e.x,y:e=>e.y};function tg(e){const t=e.split("."),n=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function eg(e){const t=tg(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function ei(e,t){return(Hs[t]||(Hs[t]=eg(t)))(e)}function zr(e){return e.charAt(0).toUpperCase()+e.slice(1)}const ni=e=>typeof e<"u",Yt=e=>typeof e=="function",zs=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function ng(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Z=Math.PI,Ct=2*Z,ig=Ct+Z,ii=Number.POSITIVE_INFINITY,rg=Z/180,ut=Z/2,Zt=Z/4,Vs=Z*2/3,zt=Math.log10,ye=Math.sign;function je(e,t,n){return Math.abs(e-t)<n}function js(e){const t=Math.round(e);e=je(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(zt(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function sg(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((r,s)=>r-s).pop(),t}function tn(e){return!isNaN(parseFloat(e))&&isFinite(e)}function og(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function pl(e,t,n){let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Vt(e){return e*(Z/180)}function Vr(e){return e*(180/Z)}function Gs(e){if(!tt(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function ag(e,t){const n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*Z&&(s+=Ct),{angle:s,distance:r}}function rr(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function lg(e,t){return(e-t+ig)%Ct-Z}function Pt(e){return(e%Ct+Ct)%Ct}function gl(e,t,n,i){const r=Pt(e),s=Pt(t),o=Pt(n),a=Pt(s-r),l=Pt(o-r),c=Pt(r-s),d=Pt(r-o);return r===s||r===o||i&&s===o||a>l&&c<d}function wt(e,t,n){return Math.max(t,Math.min(n,e))}function cg(e){return wt(e,-32768,32767)}function Be(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function jr(e,t,n){n=n||(o=>e[o]<t);let i=e.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const se=(e,t,n,i)=>jr(e,n,i?r=>{const s=e[r][t];return s<n||s===n&&e[r+1][t]===n}:r=>e[r][t]<n),dg=(e,t,n)=>jr(e,n,i=>e[i][t]>=n);function ug(e,t,n){let i=0,r=e.length;for(;i<r&&e[i]<t;)i++;for(;r>i&&e[r-1]>n;)r--;return i>0||r<e.length?e.slice(i,r):e}const ml=["push","pop","shift","splice","unshift"];function fg(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),ml.forEach(n=>{const i="_onData"+zr(n),r=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return e._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function Us(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(ml.forEach(s=>{delete e[s]}),delete e._chartjs)}function hg(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const vl=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function bl(e,t){let n=[],i=!1;return function(...r){n=r,i||(i=!0,vl.call(window,()=>{i=!1,e.apply(t,n)}))}}function pg(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const Gr=e=>e==="start"?"left":e==="end"?"right":"center",st=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,gg=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function mg(e,t,n){const i=t.length;let r=0,s=i;if(e._sorted){const{iScale:o,_parsed:a}=e,l=o.axis,{min:c,max:d,minDefined:u,maxDefined:f}=o.getUserBounds();u&&(r=wt(Math.min(se(a,o.axis,c).lo,n?i:se(t,l,o.getPixelForValue(c)).lo),0,i-1)),f?s=wt(Math.max(se(a,o.axis,d,!0).hi+1,n?0:se(t,l,o.getPixelForValue(d),!0).hi+1),r,i)-r:s=i-r}return{start:r,count:s}}function vg(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,r={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=r,!0;const s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const Pn=e=>e===0||e===1,$s=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Ct/n)),qs=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Ct/n)+1,Ge={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*ut)+1,easeOutSine:e=>Math.sin(e*ut),easeInOutSine:e=>-.5*(Math.cos(Z*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Pn(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Pn(e)?e:$s(e,.075,.3),easeOutElastic:e=>Pn(e)?e:qs(e,.075,.3),easeInOutElastic(e){return Pn(e)?e:e<.5?.5*$s(e*2,.1125,.45):.5+.5*qs(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Ge.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Ge.easeInBounce(e*2)*.5:Ge.easeOutBounce(e*2-1)*.5+.5};function Ur(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Ys(e){return Ur(e)?e:new Ze(e)}function Vi(e){return Ur(e)?e:new Ze(e).saturate(.5).darken(.1).hexString()}const bg=["x","y","borderWidth","radius","tension"],xg=["color","borderColor","backgroundColor"];function yg(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:xg},numbers:{type:"number",properties:bg}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function wg(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Xs=new Map;function Dg(e,t){t=t||{};const n=e+JSON.stringify(t);let i=Xs.get(n);return i||(i=new Intl.NumberFormat(e,t),Xs.set(n,i)),i}function $r(e,t,n){return Dg(t,n).format(e)}const xl={values(e){return q(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let r,s=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),s=Sg(e,n)}const o=zt(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),$r(e,i,l)},logarithmic(e,t,n){if(e===0)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(zt(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?xl.numeric.call(this,e,t,n):""}};function Sg(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var xi={formatters:xl};function Cg(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:xi.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const le=Object.create(null),sr=Object.create(null);function Ue(e,t){if(!t)return e;const n=t.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];e=e[s]||(e[s]=Object.create(null))}return e}function ji(e,t,n){return typeof t=="string"?Qe(Ue(e,t),n):Qe(Ue(e,""),t)}class _g{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Vi(r.backgroundColor),this.hoverBorderColor=(i,r)=>Vi(r.borderColor),this.hoverColor=(i,r)=>Vi(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return ji(this,t,n)}get(t){return Ue(this,t)}describe(t,n){return ji(sr,t,n)}override(t,n){return ji(le,t,n)}route(t,n,i,r){const s=Ue(this,t),o=Ue(this,i),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[r];return W(l)?Object.assign({},c,l):L(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(n=>n(this))}}var Y=new _g({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[yg,wg,Cg]);function Ig(e){return!e||$(e.size)||$(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function ri(e,t,n,i,r){let s=t[r];return s||(s=t[r]=e.measureText(r).width,n.push(r)),s>i&&(i=s),i}function Pg(e,t,n,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},s=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let o=0;const a=n.length;let l,c,d,u,f;for(l=0;l<a;l++)if(u=n[l],u!=null&&!q(u))o=ri(e,r,s,o,u);else if(q(u))for(c=0,d=u.length;c<d;c++)f=u[c],f!=null&&!q(f)&&(o=ri(e,r,s,o,f));e.restore();const h=s.length/2;if(h>n.length){for(l=0;l<h;l++)delete r[s[l]];s.splice(0,h)}return o}function Qt(e,t,n){const i=e.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((t-r)*i)/i+r}function Ks(e,t){t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function or(e,t,n,i){yl(e,t,n,i,null)}function yl(e,t,n,i,r){let s,o,a,l,c,d,u,f;const h=t.pointStyle,p=t.rotation,g=t.radius;let m=(p||0)*rg;if(h&&typeof h=="object"&&(s=h.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(m),e.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),h){default:r?e.ellipse(n,i,r/2,g,0,0,Ct):e.arc(n,i,g,0,Ct),e.closePath();break;case"triangle":d=r?r/2:g,e.moveTo(n+Math.sin(m)*d,i-Math.cos(m)*g),m+=Vs,e.lineTo(n+Math.sin(m)*d,i-Math.cos(m)*g),m+=Vs,e.lineTo(n+Math.sin(m)*d,i-Math.cos(m)*g),e.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(m+Zt)*l,u=Math.cos(m+Zt)*(r?r/2-c:l),a=Math.sin(m+Zt)*l,f=Math.sin(m+Zt)*(r?r/2-c:l),e.arc(n-u,i-a,c,m-Z,m-ut),e.arc(n+f,i-o,c,m-ut,m),e.arc(n+u,i+a,c,m,m+ut),e.arc(n-f,i+o,c,m+ut,m+Z),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,d=r?r/2:l,e.rect(n-d,i-l,2*d,2*l);break}m+=Zt;case"rectRot":u=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(r?r/2:g),e.moveTo(n-u,i-a),e.lineTo(n+f,i-o),e.lineTo(n+u,i+a),e.lineTo(n-f,i+o),e.closePath();break;case"crossRot":m+=Zt;case"cross":u=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(r?r/2:g),e.moveTo(n-u,i-a),e.lineTo(n+u,i+a),e.moveTo(n+f,i-o),e.lineTo(n-f,i+o);break;case"star":u=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(r?r/2:g),e.moveTo(n-u,i-a),e.lineTo(n+u,i+a),e.moveTo(n+f,i-o),e.lineTo(n-f,i+o),m+=Zt,u=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(r?r/2:g),e.moveTo(n-u,i-a),e.lineTo(n+u,i+a),e.moveTo(n+f,i-o),e.lineTo(n-f,i+o);break;case"line":o=r?r/2:Math.cos(m)*g,a=Math.sin(m)*g,e.moveTo(n-o,i-a),e.lineTo(n+o,i+a);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(m)*(r?r/2:g),i+Math.sin(m)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Nt(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function qr(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Yr(e){e.restore()}function Mg(e,t,n,i,r){if(!t)return e.lineTo(n.x,n.y);if(r==="middle"){const s=(t.x+n.x)/2;e.lineTo(s,t.y),e.lineTo(s,n.y)}else r==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function Ag(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function Og(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),$(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function Eg(e,t,n,i,r){if(r.strikethrough||r.underline){const s=e.measureText(i),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,d=r.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(o,d),e.lineTo(a,d),e.stroke()}}function Tg(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function ce(e,t,n,i,r,s={}){const o=q(t)?t:[t],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(e.save(),e.font=r.string,Og(e,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&Tg(e,s.backdrop),a&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),$(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(c,n,i,s.maxWidth)),e.fillText(c,n,i,s.maxWidth),Eg(e,n,i,c,s),i+=Number(r.lineHeight);e.restore()}function si(e,t){const{x:n,y:i,w:r,h:s,radius:o}=t;e.arc(n+o.topLeft,i+o.topLeft,o.topLeft,-ut,Z,!0),e.lineTo(n,i+s-o.bottomLeft),e.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,Z,ut,!0),e.lineTo(n+r-o.bottomRight,i+s),e.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,ut,0,!0),e.lineTo(n+r,i+o.topRight),e.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-ut,!0),e.lineTo(n+o.topLeft,i)}const kg=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Rg=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Lg(e,t){const n=(""+e).match(kg);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const Bg=e=>+e||0;function wl(e,t){const n={},i=W(t),r=i?Object.keys(t):t,s=W(e)?i?o=>L(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of r)n[o]=Bg(s(o));return n}function Fg(e){return wl(e,{top:"y",right:"x",bottom:"y",left:"x"})}function ge(e){return wl(e,["topLeft","topRight","bottomLeft","bottomRight"])}function ot(e){const t=Fg(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function J(e,t){e=e||{},t=t||Y.font;let n=L(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=L(e.style,t.style);i&&!(""+i).match(Rg)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:L(e.family,t.family),lineHeight:Lg(L(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:L(e.weight,t.weight),string:""};return r.string=Ig(r),r}function Mn(e,t,n,i){let r=!0,s,o,a;for(s=0,o=e.length;s<o;++s)if(a=e[s],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),r=!1),n!==void 0&&q(a)&&(a=a[n%a.length],r=!1),a!==void 0))return i&&!r&&(i.cacheable=!1),a}function Ng(e,t,n){const{min:i,max:r}=e,s=Jp(t,(r-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function Kt(e,t){return Object.assign(Object.create(e),t)}function Xr(e,t=[""],n,i,r=()=>e[0]){const s=n||e;typeof i>"u"&&(i=_l("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:i,_getTarget:r,override:a=>Xr([a,...e],t,s,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return Sl(a,l,()=>$g(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return Zs(a).includes(l)},ownKeys(a){return Zs(a)},set(a,l,c){const d=a._storage||(a._storage=r());return a[l]=d[l]=c,delete a._keys,!0}})}function we(e,t,n,i){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Dl(e,i),setContext:s=>we(e,s,n,i),override:s=>we(e.override(s),t,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete e[o],!0},get(s,o,a){return Sl(s,o,()=>Hg(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(s,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(s,o,a){return e[o]=a,delete s[o],!0}})}function Dl(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Yt(n)?n:()=>n,isIndexable:Yt(i)?i:()=>i}}const Wg=(e,t)=>e?e+zr(t):t,Kr=(e,t)=>W(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Sl(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const i=n();return e[t]=i,i}function Hg(e,t,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=e;let a=i[t];return Yt(a)&&o.isScriptable(t)&&(a=zg(t,a,e,n)),q(a)&&a.length&&(a=Vg(t,a,e,o.isIndexable)),Kr(t,a)&&(a=we(a,r,s&&s[t],o)),a}function zg(e,t,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(s,o||i);return a.delete(e),Kr(e,l)&&(l=Jr(r._scopes,r,e,l)),l}function Vg(e,t,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&i(e))return t[s.index%t.length];if(W(t[0])){const l=t,c=r._scopes.filter(d=>d!==l);t=[];for(const d of l){const u=Jr(c,r,e,d);t.push(we(u,s,o&&o[e],a))}}return t}function Cl(e,t,n){return Yt(e)?e(t,n):e}const jg=(e,t)=>e===!0?t:typeof e=="string"?ei(t,e):void 0;function Gg(e,t,n,i,r){for(const s of t){const o=jg(n,s);if(o){e.add(o);const a=Cl(o._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function Jr(e,t,n,i){const r=t._rootScopes,s=Cl(t._fallback,n,i),o=[...e,...r],a=new Set;a.add(i);let l=Js(a,o,n,s||n,i);return l===null||typeof s<"u"&&s!==n&&(l=Js(a,o,s,l,i),l===null)?!1:Xr(Array.from(a),[""],r,s,()=>Ug(t,n,i))}function Js(e,t,n,i,r){for(;n;)n=Gg(e,t,n,i,r);return n}function Ug(e,t,n){const i=e._getTarget();t in i||(i[t]={});const r=i[t];return q(r)&&W(n)?n:r||{}}function $g(e,t,n,i){let r;for(const s of t)if(r=_l(Wg(s,e),n),typeof r<"u")return Kr(e,r)?Jr(n,i,e,r):r}function _l(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function Zs(e){let t=e._keys;return t||(t=e._keys=qg(e._scopes)),t}function qg(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}const Yg=Number.EPSILON||1e-14,De=(e,t)=>t<e.length&&!e[t].skip&&e[t],Il=e=>e==="x"?"y":"x";function Xg(e,t,n,i){const r=e.skip?t:e,s=t,o=n.skip?t:n,a=rr(s,r),l=rr(o,s);let c=a/(a+l),d=l/(a+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const u=i*c,f=i*d;return{previous:{x:s.x-u*(o.x-r.x),y:s.y-u*(o.y-r.y)},next:{x:s.x+f*(o.x-r.x),y:s.y+f*(o.y-r.y)}}}function Kg(e,t,n){const i=e.length;let r,s,o,a,l,c=De(e,0);for(let d=0;d<i-1;++d)if(l=c,c=De(e,d+1),!(!l||!c)){if(je(t[d],0,Yg)){n[d]=n[d+1]=0;continue}r=n[d]/t[d],s=n[d+1]/t[d],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[d]=r*o*t[d],n[d+1]=s*o*t[d])}}function Jg(e,t,n="x"){const i=Il(n),r=e.length;let s,o,a,l=De(e,0);for(let c=0;c<r;++c){if(o=a,a=l,l=De(e,c+1),!a)continue;const d=a[n],u=a[i];o&&(s=(d-o[n])/3,a[`cp1${n}`]=d-s,a[`cp1${i}`]=u-s*t[c]),l&&(s=(l[n]-d)/3,a[`cp2${n}`]=d+s,a[`cp2${i}`]=u+s*t[c])}}function Zg(e,t="x"){const n=Il(t),i=e.length,r=Array(i).fill(0),s=Array(i);let o,a,l,c=De(e,0);for(o=0;o<i;++o)if(a=l,l=c,c=De(e,o+1),!!l){if(c){const d=c[t]-l[t];r[o]=d!==0?(c[n]-l[n])/d:0}s[o]=a?c?ye(r[o-1])!==ye(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}Kg(e,r,s),Jg(e,s,t)}function An(e,t,n){return Math.max(Math.min(e,n),t)}function Qg(e,t){let n,i,r,s,o,a=Nt(e[0],t);for(n=0,i=e.length;n<i;++n)o=s,s=a,a=n<i-1&&Nt(e[n+1],t),s&&(r=e[n],o&&(r.cp1x=An(r.cp1x,t.left,t.right),r.cp1y=An(r.cp1y,t.top,t.bottom)),a&&(r.cp2x=An(r.cp2x,t.left,t.right),r.cp2y=An(r.cp2y,t.top,t.bottom)))}function tm(e,t,n,i,r){let s,o,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")Zg(e,r);else{let c=i?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)a=e[s],l=Xg(c,a,e[Math.min(s+1,o-(i?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&Qg(e,n)}function Pl(){return typeof window<"u"&&typeof document<"u"}function Zr(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function oi(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const yi=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function em(e,t){return yi(e).getPropertyValue(t)}const nm=["top","right","bottom","left"];function oe(e,t,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=nm[r];i[s]=parseFloat(e[t+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const im=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function rm(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:r,offsetY:s}=i;let o=!1,a,l;if(im(r,s,e.target))a=r,l=s;else{const c=t.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function ie(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,r=yi(n),s=r.boxSizing==="border-box",o=oe(r,"padding"),a=oe(r,"border","width"),{x:l,y:c,box:d}=rm(e,n),u=o.left+(d&&a.left),f=o.top+(d&&a.top);let{width:h,height:p}=t;return s&&(h-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-u)/h*n.width/i),y:Math.round((c-f)/p*n.height/i)}}function sm(e,t,n){let i,r;if(t===void 0||n===void 0){const s=Zr(e);if(!s)t=e.clientWidth,n=e.clientHeight;else{const o=s.getBoundingClientRect(),a=yi(s),l=oe(a,"border","width"),c=oe(a,"padding");t=o.width-c.width-l.width,n=o.height-c.height-l.height,i=oi(a.maxWidth,s,"clientWidth"),r=oi(a.maxHeight,s,"clientHeight")}}return{width:t,height:n,maxWidth:i||ii,maxHeight:r||ii}}const On=e=>Math.round(e*10)/10;function om(e,t,n,i){const r=yi(e),s=oe(r,"margin"),o=oi(r.maxWidth,e,"clientWidth")||ii,a=oi(r.maxHeight,e,"clientHeight")||ii,l=sm(e,t,n);let{width:c,height:d}=l;if(r.boxSizing==="content-box"){const f=oe(r,"border","width"),h=oe(r,"padding");c-=h.width+f.width,d-=h.height+f.height}return c=Math.max(0,c-s.width),d=Math.max(0,i?c/i:d-s.height),c=On(Math.min(c,o,l.maxWidth)),d=On(Math.min(d,a,l.maxHeight)),c&&!d&&(d=On(c/2)),(t!==void 0||n!==void 0)&&i&&l.height&&d>l.height&&(d=l.height,c=On(Math.floor(d*i))),{width:c,height:d}}function Qs(e,t,n){const i=t||1,r=Math.floor(e.height*i),s=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(e.currentDevicePixelRatio=i,o.height=r,o.width=s,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const am=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return e}();function to(e,t){const n=em(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function re(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function lm(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function cm(e,t,n,i){const r={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=re(e,r,n),a=re(r,s,n),l=re(s,t,n),c=re(o,a,n),d=re(a,l,n);return re(c,d,n)}const dm=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},um=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function me(e,t,n){return e?dm(t,n):um()}function Ml(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function Al(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Ol(e){return e==="angle"?{between:gl,compare:lg,normalize:Pt}:{between:Be,compare:(t,n)=>t-n,normalize:t=>t}}function eo({start:e,end:t,count:n,loop:i,style:r}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:r}}function fm(e,t,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=Ol(i),l=t.length;let{start:c,end:d,loop:u}=e,f,h;if(u){for(c+=l,d+=l,f=0,h=l;f<h&&o(a(t[c%l][i]),r,s);++f)c--,d--;c%=l,d%=l}return d<c&&(d+=l),{start:c,end:d,loop:u,style:e.style}}function hm(e,t,n){if(!n)return[e];const{property:i,start:r,end:s}=n,o=t.length,{compare:a,between:l,normalize:c}=Ol(i),{start:d,end:u,loop:f,style:h}=fm(e,t,n),p=[];let g=!1,m=null,v,b,y;const x=()=>l(r,y,v)&&a(r,y)!==0,w=()=>a(s,v)===0||l(s,y,v),D=()=>g||x(),S=()=>!g||w();for(let C=d,I=d;C<=u;++C)b=t[C%o],!b.skip&&(v=c(b[i]),v!==y&&(g=l(v,r,s),m===null&&D()&&(m=a(v,r)===0?C:I),m!==null&&S()&&(p.push(eo({start:m,end:C,loop:f,count:o,style:h})),m=null),I=C,y=v));return m!==null&&p.push(eo({start:m,end:u,loop:f,count:o,style:h})),p}function pm(e,t){const n=[],i=e.segments;for(let r=0;r<i.length;r++){const s=hm(i[r],e.points,t);s.length&&n.push(...s)}return n}function gm(e,t,n,i){let r=0,s=t-1;if(n&&!i)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,n&&(s+=r);s>r&&e[s%t].skip;)s--;return s%=t,{start:r,end:s}}function mm(e,t,n,i){const r=e.length,s=[];let o=t,a=e[t],l;for(l=t+1;l<=n;++l){const c=e[l%r];c.skip||c.stop?a.skip||(i=!1,s.push({start:t%r,end:(l-1)%r,loop:i}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&s.push({start:t%r,end:o%r,loop:i}),s}function vm(e,t){const n=e.points,i=e.options.spanGaps,r=n.length;if(!r)return[];const s=!!e._loop,{start:o,end:a}=gm(n,r,s,i);if(i===!0)return no(e,[{start:o,end:a,loop:s}],n,t);const l=a<o?a+r:a,c=!!e._fullLoop&&o===0&&a===r-1;return no(e,mm(n,o,l,c),n,t)}function no(e,t,n,i){return!i||!i.setContext||!n?t:bm(e,t,n,i)}function bm(e,t,n,i){const r=e._chart.getContext(),s=io(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,c=[];let d=s,u=t[0].start,f=u;function h(p,g,m,v){const b=a?-1:1;if(p!==g){for(p+=l;n[p%l].skip;)p-=b;for(;n[g%l].skip;)g+=b;p%l!==g%l&&(c.push({start:p%l,end:g%l,loop:m,style:v}),d=v,u=g%l)}}for(const p of t){u=a?u:p.start;let g=n[u%l],m;for(f=u+1;f<=p.end;f++){const v=n[f%l];m=io(i.setContext(Kt(r,{type:"segment",p0:g,p1:v,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),xm(m,d)&&h(u,f-1,p.loop,d),g=v,d=m}u<f-1&&h(u,f-1,p.loop,d)}return c}function io(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function xm(e,t){if(!t)return!1;const n=[],i=function(r,s){return Ur(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(e,i)!==JSON.stringify(t,i)}/*!
 * Chart.js v4.3.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class ym{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,r){const s=n.listeners[r],o=n.duration;s.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=vl.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,t,"progress")),s.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),n+=s.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Lt=new ym;const ro="transparent",wm={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=Ys(e||ro),r=i.valid&&Ys(t||ro);return r&&r.valid?r.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class Dm{constructor(t,n,i,r){const s=n[i];r=Mn([t.to,r,s,t.from]);const o=Mn([t.from,s,r]);this._active=!0,this._fn=t.fn||wm[t.type||typeof o],this._easing=Ge[t.easing]||Ge.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=Mn([t.to,n,r,t.from]),this._from=Mn([t.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<i),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=s;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class El{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!W(t))return;const n=Object.keys(Y.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const s=t[r];if(!W(s))return;const o={};for(const a of n)o[a]=s[a];(q(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,o)})})}_animateOptions(t,n){const i=n.options,r=Cm(t,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&Sm(t.options.$animations,i).then(()=>{t.options=i},()=>{}),s}_createAnimations(t,n){const i=this._properties,r=[],s=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(t,n));continue}const d=n[c];let u=s[c];const f=i.get(c);if(u)if(f&&u.active()){u.update(f,d,a);continue}else u.cancel();if(!f||!f.duration){t[c]=d;continue}s[c]=u=new Dm(f,t,c,d),r.push(u)}return r}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return Lt.add(this._chart,i),!0}}function Sm(e,t){const n=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const s=e[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function Cm(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function so(e,t){const n=e&&e.options||{},i=n.reverse,r=n.min===void 0?t:0,s=n.max===void 0?t:0;return{start:i?s:r,end:i?r:s}}function _m(e,t,n){if(n===!1)return!1;const i=so(e,n),r=so(t,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function Im(e){let t,n,i,r;return W(e)?(t=e.top,n=e.right,i=e.bottom,r=e.left):t=n=i=r=e,{top:t,right:n,bottom:i,left:r,disabled:e===!1}}function Tl(e,t){const n=[],i=e._getSortedDatasetMetas(t);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function oo(e,t,n,i={}){const r=e.keys,s=i.mode==="single";let o,a,l,c;if(t!==null){for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(i.all)continue;break}c=e.values[l],tt(c)&&(s||t===0||ye(t)===ye(c))&&(t+=c)}return t}}function Pm(e){const t=Object.keys(e),n=new Array(t.length);let i,r,s;for(i=0,r=t.length;i<r;++i)s=t[i],n[i]={x:s,y:e[s]};return n}function ao(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function Mm(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function Am(e){const{min:t,max:n,minDefined:i,maxDefined:r}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function Om(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function lo(e,t,n,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const s=e[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function co(e,t){const{chart:n,_cachedMeta:i}=e,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,d=Mm(s,o,i),u=t.length;let f;for(let h=0;h<u;++h){const p=t[h],{[l]:g,[c]:m}=p,v=p._stacks||(p._stacks={});f=v[c]=Om(r,d,g),f[a]=m,f._top=lo(f,o,!0,i.type),f._bottom=lo(f,o,!1,i.type);const b=f._visualValues||(f._visualValues={});b[a]=m}}function Gi(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function Em(e,t){return Kt(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Tm(e,t,n){return Kt(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Oe(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const r of t){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const Ui=e=>e==="reset"||e==="none",uo=(e,t)=>t?e:Object.assign({},e),km=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:Tl(n,!0),values:null};class $e{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=ao(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Oe(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(u,f,h,p)=>u==="x"?f:u==="r"?p:h,s=n.xAxisID=L(i.xAxisID,Gi(t,"x")),o=n.yAxisID=L(i.yAxisID,Gi(t,"y")),a=n.rAxisID=L(i.rAxisID,Gi(t,"r")),l=n.indexAxis,c=n.iAxisID=r(l,s,o,a),d=n.vAxisID=r(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Us(this._data,this),t._stacked&&Oe(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(W(n))this._data=Pm(n);else if(i!==n){if(i){Us(i,this);const r=this._cachedMeta;Oe(r),r._parsed=[]}n&&Object.isExtensible(n)&&fg(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=ao(n.vScale,n),n.stack!==i.stack&&(r=!0,Oe(n),n.stack=i.stack),this._resyncElements(t),(r||s!==n._stacked)&&co(this,n._parsed)}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,a=s.axis;let l=t===0&&n===r.length?!0:i._sorted,c=t>0&&i._parsed[t-1],d,u,f;if(this._parsing===!1)i._parsed=r,i._sorted=!0,f=r;else{q(r[t])?f=this.parseArrayData(i,r,t,n):W(r[t])?f=this.parseObjectData(i,r,t,n):f=this.parsePrimitiveData(i,r,t,n);const h=()=>u[a]===null||c&&u[a]<c[a];for(d=0;d<n;++d)i._parsed[d+t]=u=f[d],l&&(h()&&(l=!1),c=u);i._sorted=l}o&&co(this,f)}parsePrimitiveData(t,n,i,r){const{iScale:s,vScale:o}=t,a=s.axis,l=o.axis,c=s.getLabels(),d=s===o,u=new Array(r);let f,h,p;for(f=0,h=r;f<h;++f)p=f+i,u[f]={[a]:d||s.parse(c[p],p),[l]:o.parse(n[p],p)};return u}parseArrayData(t,n,i,r){const{xScale:s,yScale:o}=t,a=new Array(r);let l,c,d,u;for(l=0,c=r;l<c;++l)d=l+i,u=n[d],a[l]={x:s.parse(u[0],d),y:o.parse(u[1],d)};return a}parseObjectData(t,n,i,r){const{xScale:s,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let d,u,f,h;for(d=0,u=r;d<u;++d)f=d+i,h=n[f],c[d]={x:s.parse(ei(h,a),f),y:o.parse(ei(h,l),f)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const r=this.chart,s=this._cachedMeta,o=n[t.axis],a={keys:Tl(r,!0),values:n._stacks[t.axis]._visualValues};return oo(a,o,s.index,{mode:i})}updateRangeFromParsed(t,n,i,r){const s=i[n.axis];let o=s===null?NaN:s;const a=r&&i._stacks[n.axis];r&&a&&(r.values=a,o=oo(r,s,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&t===i.iScale,o=r.length,a=this._getOtherScale(t),l=km(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:u}=Am(a);let f,h;function p(){h=r[f];const g=h[a.axis];return!tt(h[t.axis])||d>g||u<g}for(f=0;f<o&&!(!p()&&(this.updateRangeFromParsed(c,t,h,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!p()){this.updateRangeFromParsed(c,t,h,l);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=n.length;r<s;++r)o=n[r][t.axis],tt(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(t);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=Im(L(this.options.clip,_m(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,c=this.options.drawActiveElementsOnTop;let d;for(i.dataset&&i.dataset.draw(t,s,a,l),d=a;d<a+l;++d){const u=r[d];u.hidden||(u.active&&c?o.push(u):u.draw(t,s))}for(d=0;d<o.length;++d)o[d].draw(t,s)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const r=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];s=o.$context||(o.$context=Tm(this.getContext(),t,o)),s.parsed=this.getParsed(t),s.raw=r.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=Em(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const r=n==="active",s=this._cachedDataOpts,o=t+"-"+n,a=s[o],l=this.enableOptionSharing&&ni(i);if(a)return uo(a,l);const c=this.chart.config,d=c.datasetElementScopeKeys(this._type,t),u=r?[`${t}Hover`,"hover",t,""]:[t,""],f=c.getOptionScopes(this.getDataset(),d),h=Object.keys(Y.elements[t]),p=()=>this.getContext(i,r,n),g=c.resolveNamedOptions(f,h,p,u);return g.$shared&&(g.$shared=l,s[o]=Object.freeze(uo(g,l))),g}_resolveAnimations(t,n,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(r.options.animation!==!1){const d=this.chart.config,u=d.datasetAnimationScopeKeys(this._type,n),f=d.getOptionScopes(this.getDataset(),u);l=d.createResolver(f,this.getContext(t,i,n))}const c=new El(r,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Ui(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:o}}updateElement(t,n,i,r){Ui(r)?Object.assign(t,i):this._resolveAnimations(n,r).update(t,i)}updateSharedOptions(t,n,i){t&&!Ui(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,r){t.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(t,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const r=i.length,s=n.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,t):s<r&&this._removeElements(s,r-s)}_insertElements(t,n,i=!0){const r=this._cachedMeta,s=r.data,o=t+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=t;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(t,n),i&&this.updateElements(s,t,n,"reset")}updateElements(t,n,i,r){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,n);i._stacked&&Oe(i,r)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,r]=t;this[n](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}T($e,"defaults",{}),T($e,"datasetElementType",null),T($e,"dataElementType",null);class Hn extends $e{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=mg(n,r,o);this._drawStart=a,this._drawCount=l,vg(n)&&(a=0,l=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},t),this.updateElements(r,a,l,t)}updateElements(t,n,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:d,includeOptions:u}=this._getSharedOptions(n,r),f=o.axis,h=a.axis,{spanGaps:p,segment:g}=this.options,m=tn(p)?p:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||r==="none",b=n+i,y=t.length;let x=n>0&&this.getParsed(n-1);for(let w=0;w<y;++w){const D=t[w],S=v?D:{};if(w<n||w>=b){S.skip=!0;continue}const C=this.getParsed(w),I=$(C[h]),O=S[f]=o.getPixelForValue(C[f],w),M=S[h]=s||I?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,C,l):C[h],w);S.skip=isNaN(O)||isNaN(M)||I,S.stop=w>0&&Math.abs(C[f]-x[f])>m,g&&(S.parsed=C,S.raw=c.data[w]),u&&(S.options=d||this.resolveDataElementOptions(w,D.active?"active":r)),v||this.updateElement(D,w,S,r),x=C}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}T(Hn,"id","line"),T(Hn,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),T(Hn,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function te(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Qr{constructor(t){T(this,"options");this.options=t||{}}static override(t){Object.assign(Qr.prototype,t)}init(){}formats(){return te()}parse(){return te()}format(){return te()}add(){return te()}diff(){return te()}startOf(){return te()}endOf(){return te()}}var Rm={_date:Qr};function Lm(e,t,n,i){const{controller:r,data:s,_sorted:o}=e,a=r._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&o&&s.length){const l=a._reversePixels?dg:se;if(i){if(r._sharedOptions){const c=s[0],d=typeof c.getRange=="function"&&c.getRange(t);if(d){const u=l(s,t,n-d),f=l(s,t,n+d);return{lo:u.lo,hi:f.hi}}}}else return l(s,t,n)}return{lo:0,hi:s.length-1}}function mn(e,t,n,i,r){const s=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=s.length;a<l;++a){const{index:c,data:d}=s[a],{lo:u,hi:f}=Lm(s[a],t,o,r);for(let h=u;h<=f;++h){const p=d[h];p.skip||i(p,c,h)}}}function Bm(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,r){const s=t?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function $i(e,t,n,i,r){const s=[];return!r&&!e.isPointInArea(t)||mn(e,n,t,function(a,l,c){!r&&!Nt(a,e.chartArea,0)||a.inRange(t.x,t.y,i)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function Fm(e,t,n,i){let r=[];function s(o,a,l){const{startAngle:c,endAngle:d}=o.getProps(["startAngle","endAngle"],i),{angle:u}=ag(o,{x:t.x,y:t.y});gl(u,c,d)&&r.push({element:o,datasetIndex:a,index:l})}return mn(e,n,t,s),r}function Nm(e,t,n,i,r,s){let o=[];const a=Bm(n);let l=Number.POSITIVE_INFINITY;function c(d,u,f){const h=d.inRange(t.x,t.y,r);if(i&&!h)return;const p=d.getCenterPoint(r);if(!(!!s||e.isPointInArea(p))&&!h)return;const m=a(t,p);m<l?(o=[{element:d,datasetIndex:u,index:f}],l=m):m===l&&o.push({element:d,datasetIndex:u,index:f})}return mn(e,n,t,c),o}function qi(e,t,n,i,r,s){return!s&&!e.isPointInArea(t)?[]:n==="r"&&!i?Fm(e,t,n,r):Nm(e,t,n,i,r,s)}function fo(e,t,n,i,r){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return mn(e,n,t,(l,c,d)=>{l[o](t[n],r)&&(s.push({element:l,datasetIndex:c,index:d}),a=a||l.inRange(t.x,t.y,r))}),i&&!a?[]:s}var Wm={evaluateInteractionItems:mn,modes:{index(e,t,n,i){const r=ie(t,e),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?$i(e,r,s,i,o):qi(e,r,s,!1,i,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const d=a[0].index,u=c.data[d];u&&!u.skip&&l.push({element:u,datasetIndex:c.index,index:d})}),l):[]},dataset(e,t,n,i){const r=ie(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?$i(e,r,s,i,o):qi(e,r,s,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let d=0;d<c.length;++d)a.push({element:c[d],datasetIndex:l,index:d})}return a},point(e,t,n,i){const r=ie(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return $i(e,r,s,i,o)},nearest(e,t,n,i){const r=ie(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return qi(e,r,s,n.intersect,i,o)},x(e,t,n,i){const r=ie(t,e);return fo(e,r,"x",n.intersect,i)},y(e,t,n,i){const r=ie(t,e);return fo(e,r,"y",n.intersect,i)}}};const kl=["left","top","right","bottom"];function Ee(e,t){return e.filter(n=>n.pos===t)}function ho(e,t){return e.filter(n=>kl.indexOf(n.pos)===-1&&n.box.axis===t)}function Te(e,t){return e.sort((n,i)=>{const r=t?i:n,s=t?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function Hm(e){const t=[];let n,i,r,s,o,a;for(n=0,i=(e||[]).length;n<i;++n)r=e[n],{position:s,options:{stack:o,stackWeight:a=1}}=r,t.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return t}function zm(e){const t={};for(const n of e){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!kl.includes(r))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function Vm(e,t){const n=zm(e),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let s,o,a;for(s=0,o=e.length;s<o;++s){a=e[s];const{fullSize:l}=a.box,c=n[a.stack],d=c&&a.stackWeight/c.weight;a.horizontal?(a.width=d?d*i:l&&t.availableWidth,a.height=r):(a.width=i,a.height=d?d*r:l&&t.availableHeight)}return n}function jm(e){const t=Hm(e),n=Te(t.filter(c=>c.box.fullSize),!0),i=Te(Ee(t,"left"),!0),r=Te(Ee(t,"right")),s=Te(Ee(t,"top"),!0),o=Te(Ee(t,"bottom")),a=ho(t,"x"),l=ho(t,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:Ee(t,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function po(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function Rl(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Gm(e,t,n,i){const{pos:r,box:s}=n,o=e.maxPadding;if(!W(r)){n.size&&(e[r]-=n.size);const u=i[n.stack]||{size:0,count:1};u.size=Math.max(u.size,n.horizontal?s.height:s.width),n.size=u.size/u.count,e[r]+=n.size}s.getPadding&&Rl(o,s.getPadding());const a=Math.max(0,t.outerWidth-po(o,e,"left","right")),l=Math.max(0,t.outerHeight-po(o,e,"top","bottom")),c=a!==e.w,d=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:d}:{same:d,other:c}}function Um(e){const t=e.maxPadding;function n(i){const r=Math.max(t[i]-e[i],0);return e[i]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function $m(e,t){const n=t.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(t[o],n[o])}),s}return i(e?["left","right"]:["top","bottom"])}function Fe(e,t,n,i){const r=[];let s,o,a,l,c,d;for(s=0,o=e.length,c=0;s<o;++s){a=e[s],l=a.box,l.update(a.width||t.w,a.height||t.h,$m(a.horizontal,t));const{same:u,other:f}=Gm(t,n,a,i);c|=u&&r.length,d=d||f,l.fullSize||r.push(a)}return c&&Fe(r,t,n,i)||d}function En(e,t,n,i,r){e.top=n,e.left=t,e.right=t+i,e.bottom=n+r,e.width=i,e.height=r}function go(e,t,n,i){const r=n.padding;let{x:s,y:o}=t;for(const a of e){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/c.weight||1;if(a.horizontal){const u=t.w*d,f=c.size||l.height;ni(c.start)&&(o=c.start),l.fullSize?En(l,r.left,o,n.outerWidth-r.right-r.left,f):En(l,t.left+c.placed,o,u,f),c.start=o,c.placed+=u,o=l.bottom}else{const u=t.h*d,f=c.size||l.width;ni(c.start)&&(s=c.start),l.fullSize?En(l,s,r.top,f,n.outerHeight-r.bottom-r.top):En(l,s,t.top+c.placed,f,u),c.start=s,c.placed+=u,s=l.right}}t.x=s,t.y=o}var Dt={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const r=ot(e.options.layout.padding),s=Math.max(t-r.width,0),o=Math.max(n-r.height,0),a=jm(e.boxes),l=a.vertical,c=a.horizontal;z(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const d=l.reduce((g,m)=>m.box.options&&m.box.options.display===!1?g:g+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/d,hBoxMaxHeight:o/2}),f=Object.assign({},r);Rl(f,ot(i));const h=Object.assign({maxPadding:f,w:s,h:o,x:r.left,y:r.top},r),p=Vm(l.concat(c),u);Fe(a.fullSize,h,u,p),Fe(l,h,u,p),Fe(c,h,u,p)&&Fe(l,h,u,p),Um(h),go(a.leftAndTop,h,u,p),h.x+=h.w,h.y+=h.h,go(a.rightAndBottom,h,u,p),e.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},z(a.chartArea,g=>{const m=g.box;Object.assign(m,e.chartArea),m.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class Ll{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,r){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(t){return!0}updateConfig(t){}}class qm extends Ll{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const zn="$chartjs",Ym={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},mo=e=>e===null||e==="";function Xm(e,t){const n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e[zn]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",mo(r)){const s=to(e,"width");s!==void 0&&(e.width=s)}if(mo(i))if(e.style.height==="")e.height=e.width/(t||2);else{const s=to(e,"height");s!==void 0&&(e.height=s)}return e}const Bl=am?{passive:!0}:!1;function Km(e,t,n){e.addEventListener(t,n,Bl)}function Jm(e,t,n){e.canvas.removeEventListener(t,n,Bl)}function Zm(e,t){const n=Ym[e.type]||e.type,{x:i,y:r}=ie(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:r!==void 0?r:null}}function ai(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function Qm(e,t,n){const i=e.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||ai(a.addedNodes,i),o=o&&!ai(a.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function tv(e,t,n){const i=e.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||ai(a.removedNodes,i),o=o&&!ai(a.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const en=new Map;let vo=0;function Fl(){const e=window.devicePixelRatio;e!==vo&&(vo=e,en.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function ev(e,t){en.size||window.addEventListener("resize",Fl),en.set(e,t)}function nv(e){en.delete(e),en.size||window.removeEventListener("resize",Fl)}function iv(e,t,n){const i=e.canvas,r=i&&Zr(i);if(!r)return;const s=bl((a,l)=>{const c=r.clientWidth;n(a,l),c<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,d=l.contentRect.height;c===0&&d===0||s(c,d)});return o.observe(r),ev(e,s),o}function Yi(e,t,n){n&&n.disconnect(),t==="resize"&&nv(e)}function rv(e,t,n){const i=e.canvas,r=bl(s=>{e.ctx!==null&&n(Zm(s,e))},e);return Km(i,t,r),r}class sv extends Ll{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(Xm(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[zn])return!1;const i=n[zn].initial;["height","width"].forEach(s=>{const o=i[s];$(o)?n.removeAttribute(s):n.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[zn],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const r=t.$proxies||(t.$proxies={}),o={attach:Qm,detach:tv,resize:iv}[n]||rv;r[n]=o(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),r=i[n];if(!r)return;({attach:Yi,detach:Yi,resize:Yi}[n]||Jm)(t,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,r){return om(t,n,i,r)}isAttached(t){const n=Zr(t);return!!(n&&n.isConnected)}}function ov(e){return!Pl()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?qm:sv}var Nn;let de=(Nn=class{constructor(){T(this,"x");T(this,"y");T(this,"active",!1);T(this,"options");T(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return tn(this.x)&&tn(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const r={};return t.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}},T(Nn,"defaults",{}),T(Nn,"defaultRoutes"),Nn);function av(e,t){const n=e.options.ticks,i=lv(e),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?dv(t):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>r)return uv(t,c,s,o/r),c;const d=cv(s,t,r);if(o>0){let u,f;const h=o>1?Math.round((l-a)/(o-1)):null;for(Tn(t,c,d,$(h)?0:a-h,a),u=0,f=o-1;u<f;u++)Tn(t,c,d,s[u],s[u+1]);return Tn(t,c,d,l,$(h)?t.length:l+h),c}return Tn(t,c,d),c}function lv(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),r=e._maxLength/n;return Math.floor(Math.min(i,r))}function cv(e,t,n){const i=fv(e),r=t.length/n;if(!i)return Math.max(r,1);const s=sg(i);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>r)return l}return Math.max(r,1)}function dv(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function uv(e,t,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<e.length;o++)o===s&&(t.push(e[o]),r++,s=n[r*i])}function Tn(e,t,n,i,r){const s=L(i,0),o=Math.min(L(r,e.length),e.length);let a=0,l,c,d;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),d=s;d<0;)a++,d=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===d&&(t.push(e[c]),a++,d=Math.round(s+a*n))}function fv(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const hv=e=>e==="left"?"right":e==="right"?"left":e,bo=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,xo=(e,t)=>Math.min(t||e,e);function yo(e,t){const n=[],i=e.length/t,r=e.length;let s=0;for(;s<r;s+=i)n.push(e[Math.floor(s)]);return n}function pv(e,t,n){const i=e.ticks.length,r=Math.min(t,i-1),s=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(r),c;if(!(n&&(i===1?c=Math.max(l-s,o-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(r-1))/2,l+=r<t?c:-c,l<s-a||l>o+a)))return l}function gv(e,t){z(e,n=>{const i=n.gc,r=i.length/2;let s;if(r>t){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function ke(e){return e.drawTicks?e.tickLength:0}function wo(e,t){if(!e.display)return 0;const n=J(e.font,t),i=ot(e.padding);return(q(e.text)?e.text.length:1)*n.lineHeight+i.height}function mv(e,t){return Kt(e,{scale:t,type:"scale"})}function vv(e,t,n){return Kt(e,{tick:n,index:t,type:"tick"})}function bv(e,t,n){let i=Gr(e);return(n&&t!=="right"||!n&&t==="right")&&(i=hv(i)),i}function xv(e,t,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:d}=l;let u=0,f,h,p;const g=o-r,m=a-s;if(e.isHorizontal()){if(h=st(i,s,a),W(n)){const v=Object.keys(n)[0],b=n[v];p=d[v].getPixelForValue(b)+g-t}else n==="center"?p=(c.bottom+c.top)/2+g-t:p=bo(e,n,t);f=a-s}else{if(W(n)){const v=Object.keys(n)[0],b=n[v];h=d[v].getPixelForValue(b)-m+t}else n==="center"?h=(c.left+c.right)/2-m+t:h=bo(e,n,t);p=st(i,o,r),u=n==="left"?-ut:ut}return{titleX:h,titleY:p,maxWidth:f,rotation:u}}class ue extends de{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return t=ht(t,Number.POSITIVE_INFINITY),n=ht(n,Number.NEGATIVE_INFINITY),i=ht(i,Number.POSITIVE_INFINITY),r=ht(r,Number.NEGATIVE_INFINITY),{min:ht(t,i),max:ht(n,r),minDefined:tt(t),maxDefined:tt(n)}}getMinMax(t){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:ht(n,ht(i,n)),max:ht(i,ht(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){U(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Ng(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?yo(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=av(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){U(this.options.afterUpdate,[this])}beforeSetDimensions(){U(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){U(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),U(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){U(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i],s.label=U(n.callback,[s.value,i,t],this)}afterTickToLabelConversion(){U(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){U(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=xo(this.ticks.length,t.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation;let o=r,a,l,c;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const d=this._getLabelSizes(),u=d.widest.width,f=d.highest.height,h=wt(this.chart.width-u,0,this.maxWidth);a=t.offset?this.maxWidth/i:h/(i-1),u+6>a&&(a=h/(i-(t.offset?.5:1)),l=this.maxHeight-ke(t.grid)-n.padding-wo(t.title,this.chart.options.font),c=Math.sqrt(u*u+f*f),o=Vr(Math.min(Math.asin(wt((d.highest.height+6)/a,-1,1)),Math.asin(wt(l/c,-1,1))-Math.asin(wt(f/c,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){U(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){U(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=wo(r,n.options.font);if(a?(t.width=this.maxWidth,t.height=ke(s)+l):(t.height=this.maxHeight,t.width=ke(s)+l),i.display&&this.ticks.length){const{first:c,last:d,widest:u,highest:f}=this._getLabelSizes(),h=i.padding*2,p=Vt(this.labelRotation),g=Math.cos(p),m=Math.sin(p);if(a){const v=i.mirror?0:m*u.width+g*f.height;t.height=Math.min(this.maxHeight,t.height+v+h)}else{const v=i.mirror?0:g*u.width+m*f.height;t.width=Math.min(this.maxWidth,t.width+v+h)}this._calculatePadding(c,d,m,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,r){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,h=0;l?c?(f=r*t.width,h=i*n.height):(f=i*t.height,h=r*n.width):s==="start"?h=n.width:s==="end"?f=t.width:s!=="inner"&&(f=t.width/2,h=n.width/2),this.paddingLeft=Math.max((f-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((h-u+o)*this.width/(this.width-u),0)}else{let d=n.height/2,u=t.height/2;s==="start"?(d=0,u=t.height):s==="end"&&(d=n.height,u=0),this.paddingTop=d+o,this.paddingBottom=u+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){U(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)$(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=yo(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:r,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/xo(n,i));let c=0,d=0,u,f,h,p,g,m,v,b,y,x,w;for(u=0;u<n;u+=l){if(p=t[u].label,g=this._resolveTickFontOptions(u),r.font=m=g.string,v=s[m]=s[m]||{data:{},gc:[]},b=g.lineHeight,y=x=0,!$(p)&&!q(p))y=ri(r,v.data,v.gc,y,p),x=b;else if(q(p))for(f=0,h=p.length;f<h;++f)w=p[f],!$(w)&&!q(w)&&(y=ri(r,v.data,v.gc,y,w),x+=b);o.push(y),a.push(x),c=Math.max(y,c),d=Math.max(x,d)}gv(s,n);const D=o.indexOf(c),S=a.indexOf(d),C=I=>({width:o[I]||0,height:a[I]||0});return{first:C(0),last:C(n-1),widest:C(D),highest:C(S),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return cg(this._alignToPixels?Qt(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=vv(this.getContext(),t,i))}return this.$context||(this.$context=mv(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Vt(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:a}=r,l=s.offset,c=this.isHorizontal(),u=this.ticks.length+(l?1:0),f=ke(s),h=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,m=g/2,v=function(H){return Qt(i,H,g)};let b,y,x,w,D,S,C,I,O,M,R,V;if(o==="top")b=v(this.bottom),S=this.bottom-f,I=b-m,M=v(t.top)+m,V=t.bottom;else if(o==="bottom")b=v(this.top),M=t.top,V=v(t.bottom)-m,S=b+m,I=this.top+f;else if(o==="left")b=v(this.right),D=this.right-f,C=b-m,O=v(t.left)+m,R=t.right;else if(o==="right")b=v(this.left),O=t.left,R=v(t.right)-m,D=b+m,C=this.left+f;else if(n==="x"){if(o==="center")b=v((t.top+t.bottom)/2+.5);else if(W(o)){const H=Object.keys(o)[0],K=o[H];b=v(this.chart.scales[H].getPixelForValue(K))}M=t.top,V=t.bottom,S=b+m,I=S+f}else if(n==="y"){if(o==="center")b=v((t.left+t.right)/2);else if(W(o)){const H=Object.keys(o)[0],K=o[H];b=v(this.chart.scales[H].getPixelForValue(K))}D=b-m,C=D-f,O=t.left,R=t.right}const N=L(r.ticks.maxTicksLimit,u),B=Math.max(1,Math.ceil(u/N));for(y=0;y<u;y+=B){const H=this.getContext(y),K=s.setContext(H),ft=a.setContext(H),_t=K.lineWidth,Q=K.color,vt=ft.dash||[],X=ft.dashOffset,It=K.tickWidth,Ot=K.tickColor,lt=K.tickBorderDash||[],Et=K.tickBorderDashOffset;x=pv(this,y,l),x!==void 0&&(w=Qt(i,x,_t),c?D=C=O=R=w:S=I=M=V=w,h.push({tx1:D,ty1:S,tx2:C,ty2:I,x1:O,y1:M,x2:R,y2:V,width:_t,color:Q,borderDash:vt,borderDashOffset:X,tickWidth:It,tickColor:Ot,tickBorderDash:lt,tickBorderDashOffset:Et}))}return this._ticksLength=u,this._borderValue=b,h}_computeLabelItems(t){const n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:d,mirror:u}=s,f=ke(i.grid),h=f+d,p=u?-d:h,g=-Vt(this.labelRotation),m=[];let v,b,y,x,w,D,S,C,I,O,M,R,V="middle";if(r==="top")D=this.bottom-p,S=this._getXAxisLabelAlignment();else if(r==="bottom")D=this.top+p,S=this._getXAxisLabelAlignment();else if(r==="left"){const B=this._getYAxisLabelAlignment(f);S=B.textAlign,w=B.x}else if(r==="right"){const B=this._getYAxisLabelAlignment(f);S=B.textAlign,w=B.x}else if(n==="x"){if(r==="center")D=(t.top+t.bottom)/2+h;else if(W(r)){const B=Object.keys(r)[0],H=r[B];D=this.chart.scales[B].getPixelForValue(H)+h}S=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")w=(t.left+t.right)/2-h;else if(W(r)){const B=Object.keys(r)[0],H=r[B];w=this.chart.scales[B].getPixelForValue(H)}S=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?V="top":l==="end"&&(V="bottom"));const N=this._getLabelSizes();for(v=0,b=a.length;v<b;++v){y=a[v],x=y.label;const B=s.setContext(this.getContext(v));C=this.getPixelForTick(v)+s.labelOffset,I=this._resolveTickFontOptions(v),O=I.lineHeight,M=q(x)?x.length:1;const H=M/2,K=B.color,ft=B.textStrokeColor,_t=B.textStrokeWidth;let Q=S;o?(w=C,S==="inner"&&(v===b-1?Q=this.options.reverse?"left":"right":v===0?Q=this.options.reverse?"right":"left":Q="center"),r==="top"?c==="near"||g!==0?R=-M*O+O/2:c==="center"?R=-N.highest.height/2-H*O+O:R=-N.highest.height+O/2:c==="near"||g!==0?R=O/2:c==="center"?R=N.highest.height/2-H*O:R=N.highest.height-M*O,u&&(R*=-1),g!==0&&!B.showLabelBackdrop&&(w+=O/2*Math.sin(g))):(D=C,R=(1-M)*O/2);let vt;if(B.showLabelBackdrop){const X=ot(B.backdropPadding),It=N.heights[v],Ot=N.widths[v];let lt=R-X.top,Et=0-X.left;switch(V){case"middle":lt-=It/2;break;case"bottom":lt-=It;break}switch(S){case"center":Et-=Ot/2;break;case"right":Et-=Ot;break}vt={left:Et,top:lt,width:Ot+X.width,height:It+X.height,color:B.backdropColor}}m.push({label:x,font:I,textOffset:R,options:{rotation:g,color:K,strokeColor:ft,strokeWidth:_t,textAlign:Q,textBaseline:V,translation:[w,D],backdrop:vt}})}return m}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Vt(this.labelRotation))return t==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=t+s,l=o.widest.width;let c,d;return n==="left"?r?(d=this.right+s,i==="near"?c="left":i==="center"?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-a,i==="near"?c="right":i==="center"?(c="center",d-=l/2):(c="left",d=this.left)):n==="right"?r?(d=this.left+s,i==="near"?c="right":i==="center"?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+a,i==="near"?c="left":i==="center"?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,r,s,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===t);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const a=(l,c,d)=>{!d.width||!d.color||(i.save(),i.lineWidth=d.width,i.strokeStyle=d.color,i.setLineDash(d.borderDash||[]),i.lineDashOffset=d.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){const l=r[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,d,u,f;this.isHorizontal()?(c=Qt(t,this.left,o)-o/2,d=Qt(t,this.right,a)+a/2,u=f=l):(u=Qt(t,this.top,o)-o/2,f=Qt(t,this.bottom,a)+a/2,c=d=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,u),n.lineTo(d,f),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&qr(i,r);const s=this.getLabelItems(t);for(const o of s){const a=o.options,l=o.font,c=o.label,d=o.textOffset;ce(i,c,0,d,l,a)}r&&Yr(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=J(i.font),o=ot(i.padding),a=i.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||W(n)?(l+=o.bottom,q(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:d,maxWidth:u,rotation:f}=xv(this,l,n,a);ce(t,i.text,0,0,s,{color:i.color,maxWidth:u,rotation:f,textAlign:bv(a,n,r),textBaseline:"middle",translation:[c,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=L(t.grid&&t.grid.z,-1),r=L(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==ue.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[i]===this.id&&(!t||a.type===t)&&r.push(a)}return r}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return J(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class kn{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;Dv(n)&&(i=this.register(n));const r=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in r||(r[s]=t,yv(t,o,i),this.override&&Y.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,r=this.scope;i in n&&delete n[i],r&&i in Y[r]&&(delete Y[r][i],this.override&&delete le[i])}}function yv(e,t,n){const i=Qe(Object.create(null),[n?Y.get(n):{},Y.get(t),e.defaults]);Y.set(t,i),e.defaultRoutes&&wv(t,e.defaultRoutes),e.descriptors&&Y.describe(t,e.descriptors)}function wv(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),r=i.pop(),s=[e].concat(i).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");Y.route(s,r,l,a)})}function Dv(e){return"id"in e&&"defaults"in e}class Sv{constructor(){this.controllers=new kn($e,"datasets",!0),this.elements=new kn(de,"elements"),this.plugins=new kn(Object,"plugins"),this.scales=new kn(ue,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(t,s,r):z(r,o=>{const a=i||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,i){const r=zr(t);U(i["before"+r],[],i),n[t](i),U(i["after"+r],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const r=n.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var kt=new Sv;class Cv{constructor(){this._init=[]}notify(t,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(s,t,n,i);return n==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,i,r){r=r||{};for(const s of t){const o=s.plugin,a=o[i],l=[n,r,s.options];if(U(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){$(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,r=L(i.options&&i.options.plugins,{}),s=_v(i);return r===!1&&!n?[]:Pv(t,s,r,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,i),t,"stop"),this._notify(r(i,n),t,"start")}}function _v(e){const t={},n=[],i=Object.keys(kt.plugins.items);for(let s=0;s<i.length;s++)n.push(kt.getPlugin(i[s]));const r=e.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function Iv(e,t){return!t&&e===!1?null:e===!0?{}:e}function Pv(e,{plugins:t,localIds:n},i,r){const s=[],o=e.getContext();for(const a of t){const l=a.id,c=Iv(i[l],r);c!==null&&s.push({plugin:a,options:Mv(e.config,{plugin:a,local:n[l]},c,o)})}return s}function Mv(e,{plugin:t,local:n},i,r){const s=e.pluginScopeKeys(t),o=e.getOptionScopes(i,s);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ar(e,t){const n=Y.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function Av(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function Ov(e,t){return e===t?"_index_":"_value_"}function Do(e){if(e==="x"||e==="y"||e==="r")return e}function Ev(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function lr(e,...t){if(Do(e))return e;for(const n of t){const i=n.axis||Ev(n.position)||e.length>1&&Do(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function So(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function Tv(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return So(e,"x",n[0])||So(e,"y",n[0])}return{}}function kv(e,t){const n=le[e.type]||{scales:{}},i=t.scales||{},r=ar(e.type,t),s=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!W(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=lr(o,a,Tv(o,e),Y.scales[a.type]),c=Ov(l,r),d=n.scales||{};s[o]=Ve(Object.create(null),[{axis:l},a,d[l],d[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||ar(a,t),d=(le[a]||{}).scales||{};Object.keys(d).forEach(u=>{const f=Av(u,l),h=o[f+"AxisID"]||f;s[h]=s[h]||Object.create(null),Ve(s[h],[{axis:f},i[h],d[u]])})}),Object.keys(s).forEach(o=>{const a=s[o];Ve(a,[Y.scales[a.type],Y.scale])}),s}function Nl(e){const t=e.options||(e.options={});t.plugins=L(t.plugins,{}),t.scales=kv(e,t)}function Wl(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function Rv(e){return e=e||{},e.data=Wl(e.data),Nl(e),e}const Co=new Map,Hl=new Set;function Rn(e,t){let n=Co.get(e);return n||(n=t(),Co.set(e,n),Hl.add(n)),n}const Re=(e,t,n)=>{const i=ei(t,n);i!==void 0&&e.add(i)};class Lv{constructor(t){this._config=Rv(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Wl(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Nl(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Rn(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Rn(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Rn(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return Rn(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let r=i.get(t);return(!r||n)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,n,i){const{options:r,type:s}=this,o=this._cachedScopes(t,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(d=>{t&&(l.add(t),d.forEach(u=>Re(l,t,u))),d.forEach(u=>Re(l,r,u)),d.forEach(u=>Re(l,le[s]||{},u)),d.forEach(u=>Re(l,Y,u)),d.forEach(u=>Re(l,sr,u))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Hl.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,le[n]||{},Y.datasets[n]||{},{type:n},Y,sr]}resolveNamedOptions(t,n,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=_o(this._resolverCache,t,r);let l=o;if(Fv(o,n)){s.$shared=!1,i=Yt(i)?i():i;const c=this.createResolver(t,i,a);l=we(o,i,c)}for(const c of n)s[c]=l[c];return s}createResolver(t,n,i=[""],r){const{resolver:s}=_o(this._resolverCache,t,i);return W(n)?we(s,n,void 0,r):s}}function _o(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const r=n.join();let s=i.get(r);return s||(s={resolver:Xr(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}const Bv=e=>W(e)&&Object.getOwnPropertyNames(e).reduce((t,n)=>t||Yt(e[n]),!1);function Fv(e,t){const{isScriptable:n,isIndexable:i}=Dl(e);for(const r of t){const s=n(r),o=i(r),a=(o||s)&&e[r];if(s&&(Yt(a)||Bv(a))||o&&q(a))return!0}return!1}var Nv="4.3.0";const Wv=["top","bottom","left","right","chartArea"];function Io(e,t){return e==="top"||e==="bottom"||Wv.indexOf(e)===-1&&t==="x"}function Po(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function Mo(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),U(n&&n.onComplete,[e],t)}function Hv(e){const t=e.chart,n=t.options.animation;U(n&&n.onProgress,[e],t)}function zl(e){return Pl()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Vn={},Ao=e=>{const t=zl(e);return Object.values(Vn).filter(n=>n.canvas===t).pop()};function zv(e,t,n){const i=Object.keys(e);for(const r of i){const s=+r;if(s>=t){const o=e[r];delete e[r],(n>0||s>t)&&(e[s+n]=o)}}}function Vv(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}function jv(e){const{xScale:t,yScale:n}=e;if(t&&n)return{left:t.left,right:t.right,top:n.top,bottom:n.bottom}}var Wt;let wi=(Wt=class{static register(...t){kt.add(...t),Oo()}static unregister(...t){kt.remove(...t),Oo()}constructor(t,n){const i=this.config=new Lv(n),r=zl(t),s=Ao(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||ov(r)),this.platform.updateConfig(i);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,d=l&&l.width;if(this.id=Kp(),this.ctx=a,this.canvas=l,this.width=d,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Cv,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=pg(u=>this.update(u),o.resizeDelay||0),this._dataChanges=[],Vn[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Lt.listen(this,"complete",Mo),Lt.listen(this,"progress",Hv),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return $(t)?n&&s?s:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return kt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Qs(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ks(this.canvas,this.ctx),this}stop(){return Lt.stop(this),this}resize(t,n){Lt.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,t,n,s),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Qs(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),U(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};z(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,r=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=lr(o,a),c=l==="r",d=l==="x";return{options:a,dposition:c?"chartArea":d?"bottom":"left",dtype:c?"radialLinear":d?"category":"linear"}}))),z(s,o=>{const a=o.options,l=a.id,c=lr(l,a),d=L(a.type,o.dtype);(a.position===void 0||Io(a.position,c)!==Io(o.dposition))&&(a.position=o.dposition),r[l]=!0;let u=null;if(l in i&&i[l].type===d)u=i[l];else{const f=kt.getScale(d);u=new f({id:l,type:d,ctx:this.ctx,chart:this}),i[u.id]=u}u.init(a,t)}),z(r,(o,a)=>{o||delete i[a]}),z(i,o=>{Dt.configure(this,o,o.options),Dt.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(Po("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let o=this.getDatasetMeta(i);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=s.indexAxis||ar(a,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=kt.getController(a),{datasetElementType:c,dataElementType:d}=Y.datasets[a];Object.assign(l,{dataElementType:kt.getElement(d),datasetElementType:c&&kt.getElement(c)}),o.controller=new l(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){z(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,d=this.data.datasets.length;c<d;c++){const{controller:u}=this.getDatasetMeta(c),f=!r&&s.indexOf(u)===-1;u.buildOrUpdateElements(f),o=Math.max(+u.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||z(s,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Po("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){z(this.scales,t=>{Dt.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!zs(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const o=i==="_removeElements"?-s:s;zv(t,r,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(t.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!zs(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Dt.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],z(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Yt(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Lt.has(this)?this.attached&&!Lt.running(this)&&Lt.start(this):(this.draw(),Mo({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resize(i,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const o=n[r];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i=t._clip,r=!i.disabled,s=jv(t)||this.chartArea,o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&qr(n,{left:i.left===!1?0:s.left-i.left,right:i.right===!1?this.width:s.right+i.right,top:i.top===!1?0:s.top-i.top,bottom:i.bottom===!1?this.height:s.bottom+i.bottom}),t.controller.draw(),r&&Yr(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return Nt(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,r){const s=Wm.modes[n];return typeof s=="function"?s(this,t,i,r):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Kt(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,r);ni(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(s,{visible:i}),this.update(a=>a.datasetIndex===t?r:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Lt.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Ks(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Vn[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(s,o)=>{n.addEventListener(this,s,o),t[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};z(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),t[l]=c},r=(l,c)=>{t[l]&&(n.removeEventListener(this,l,c),delete t[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){z(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},z(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const r=i?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!Qn(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const r=this.options.hover,s=(l,c)=>l.filter(d=>!c.some(u=>d.datasetIndex===u.datasetIndex&&d.index===u.index)),o=s(n,t),a=i?t:s(t,n);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},r=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:r=[],options:s}=this,o=n,a=this._getActiveElements(t,r,i,o),l=ng(t),c=Vv(t,this._lastEvent,i,l);i&&(this._lastEvent=null,U(s.onHover,[t,a,this],this),l&&U(s.onClick,[t,a,this],this));const d=!Qn(a,r);return(d||n)&&(this._active=a,this._updateHoverStyles(a,r,n)),this._lastEvent=c,d}_getActiveElements(t,n,i,r){if(t.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,r)}},T(Wt,"defaults",Y),T(Wt,"instances",Vn),T(Wt,"overrides",le),T(Wt,"registry",kt),T(Wt,"version",Nv),T(Wt,"getChart",Ao),Wt);function Oo(){return z(wi.instances,e=>e._plugins.invalidate())}function Vl(e,t,n=t){e.lineCap=L(n.borderCapStyle,t.borderCapStyle),e.setLineDash(L(n.borderDash,t.borderDash)),e.lineDashOffset=L(n.borderDashOffset,t.borderDashOffset),e.lineJoin=L(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=L(n.borderWidth,t.borderWidth),e.strokeStyle=L(n.borderColor,t.borderColor)}function Gv(e,t,n){e.lineTo(n.x,n.y)}function Uv(e){return e.stepped?Mg:e.tension||e.cubicInterpolationMode==="monotone"?Ag:Gv}function jl(e,t,n={}){const i=e.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=t,l=Math.max(r,o),c=Math.min(s,a),d=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:t.loop,ilen:c<l&&!d?i+c-l:c-l}}function $v(e,t,n,i){const{points:r,options:s}=t,{count:o,start:a,loop:l,ilen:c}=jl(r,n,i),d=Uv(s);let{move:u=!0,reverse:f}=i||{},h,p,g;for(h=0;h<=c;++h)p=r[(a+(f?c-h:h))%o],!p.skip&&(u?(e.moveTo(p.x,p.y),u=!1):d(e,g,p,f,s.stepped),g=p);return l&&(p=r[(a+(f?c:0))%o],d(e,g,p,f,s.stepped)),!!l}function qv(e,t,n,i){const r=t.points,{count:s,start:o,ilen:a}=jl(r,n,i),{move:l=!0,reverse:c}=i||{};let d=0,u=0,f,h,p,g,m,v;const b=x=>(o+(c?a-x:x))%s,y=()=>{g!==m&&(e.lineTo(d,m),e.lineTo(d,g),e.lineTo(d,v))};for(l&&(h=r[b(0)],e.moveTo(h.x,h.y)),f=0;f<=a;++f){if(h=r[b(f)],h.skip)continue;const x=h.x,w=h.y,D=x|0;D===p?(w<g?g=w:w>m&&(m=w),d=(u*d+x)/++u):(y(),e.lineTo(x,w),p=D,u=0,g=m=w),v=w}y()}function cr(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?qv:$v}function Yv(e){return e.stepped?lm:e.tension||e.cubicInterpolationMode==="monotone"?cm:re}function Xv(e,t,n,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,n,i)&&r.closePath()),Vl(e,t.options),e.stroke(r)}function Kv(e,t,n,i){const{segments:r,options:s}=t,o=cr(t);for(const a of r)Vl(e,s,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const Jv=typeof Path2D=="function";function Zv(e,t,n,i){Jv&&!t.options.segment?Xv(e,t,n,i):Kv(e,t,n,i)}class Ne extends de{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;tm(this._points,i,t,r,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=vm(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,r=t[n],s=this.points,o=pm(this,{property:n,start:r,end:r});if(!o.length)return;const a=[],l=Yv(i);let c,d;for(c=0,d=o.length;c<d;++c){const{start:u,end:f}=o[c],h=s[u],p=s[f];if(h===p){a.push(h);continue}const g=Math.abs((r-h[n])/(p[n]-h[n])),m=l(h,p,g,i.stepped);m[n]=t[n],a.push(m)}return a.length===1?a[0]:a}pathSegment(t,n,i){return cr(this)(t,this,n,i)}path(t,n,i){const r=this.segments,s=cr(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of r)o&=s(t,this,a,{start:n,end:n+i-1});return!!o}draw(t,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),Zv(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}T(Ne,"id","line"),T(Ne,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),T(Ne,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),T(Ne,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function Eo(e,t,n,i){const r=e.options,{[n]:s}=e.getProps([n],i);return Math.abs(t-s)<r.radius+r.hitRadius}class jn extends de{constructor(n){super();T(this,"parsed");T(this,"skip");T(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,i){return Eo(this,n,"x",i)}inYRange(n,i){return Eo(this,n,"y",i)}getCenterPoint(n){const{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){const r=this.options;this.skip||r.radius<.1||!Nt(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,or(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}T(jn,"id","point"),T(jn,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),T(jn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const To=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},Qv=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class ko extends de{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=U(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=J(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=To(i,s);let c,d;n.font=r.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(o,s,a,l)+10):(d=this.maxHeight,c=this._fitCols(o,r,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],d=r+a;let u=t;s.textAlign="left",s.textBaseline="middle";let f=-1,h=-d;return this.legendItems.forEach((p,g)=>{const m=i+n/2+s.measureText(p.text).width;(g===0||c[c.length-1]+m+2*a>o)&&(u+=d,c[c.length-(g>0?0:1)]=0,h+=d,f++),l[g]={left:0,top:h,row:f,width:m,height:r},c[c.length-1]+=m+a}),u}_fitCols(t,n,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],d=o-t;let u=a,f=0,h=0,p=0,g=0;return this.legendItems.forEach((m,v)=>{const{itemWidth:b,itemHeight:y}=tb(i,n,s,m,r);v>0&&h+y+2*a>d&&(u+=f+a,c.push({width:f,height:h}),p+=f+a,g++,f=h=0),l[v]={left:p,top:h,col:g,width:b,height:y},f=Math.max(f,b),h+=y+a}),u+=f,c.push({width:f,height:h}),u}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=me(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=st(i,this.left+r,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=st(i,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+t+r,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+r}else{let a=0,l=st(i,this.top+t+r,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=st(i,this.top+t+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;qr(t,this),this._draw(),Yr(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=t,a=Y.color,l=me(t.rtl,this.left,this.width),c=J(o.font),{padding:d}=o,u=c.size,f=u/2;let h;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:p,boxHeight:g,itemHeight:m}=To(o,u),v=function(D,S,C){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;r.save();const I=L(C.lineWidth,1);if(r.fillStyle=L(C.fillStyle,a),r.lineCap=L(C.lineCap,"butt"),r.lineDashOffset=L(C.lineDashOffset,0),r.lineJoin=L(C.lineJoin,"miter"),r.lineWidth=I,r.strokeStyle=L(C.strokeStyle,a),r.setLineDash(L(C.lineDash,[])),o.usePointStyle){const O={radius:g*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:I},M=l.xPlus(D,p/2),R=S+f;yl(r,O,M,R,o.pointStyleWidth&&p)}else{const O=S+Math.max((u-g)/2,0),M=l.leftForLtr(D,p),R=ge(C.borderRadius);r.beginPath(),Object.values(R).some(V=>V!==0)?si(r,{x:M,y:O,w:p,h:g,radius:R}):r.rect(M,O,p,g),r.fill(),I!==0&&r.stroke()}r.restore()},b=function(D,S,C){ce(r,C.text,D,S+m/2,c,{strikethrough:C.hidden,textAlign:l.textAlign(C.textAlign)})},y=this.isHorizontal(),x=this._computeTitleHeight();y?h={x:st(s,this.left+d,this.right-i[0]),y:this.top+d+x,line:0}:h={x:this.left+d,y:st(s,this.top+x+d,this.bottom-n[0].height),line:0},Ml(this.ctx,t.textDirection);const w=m+d;this.legendItems.forEach((D,S)=>{r.strokeStyle=D.fontColor,r.fillStyle=D.fontColor;const C=r.measureText(D.text).width,I=l.textAlign(D.textAlign||(D.textAlign=o.textAlign)),O=p+f+C;let M=h.x,R=h.y;l.setWidth(this.width),y?S>0&&M+O+d>this.right&&(R=h.y+=w,h.line++,M=h.x=st(s,this.left+d,this.right-i[h.line])):S>0&&R+w>this.bottom&&(M=h.x=M+n[h.line].width+d,h.line++,R=h.y=st(s,this.top+x+d,this.bottom-n[h.line].height));const V=l.x(M);if(v(V,R,D),M=gg(I,M+p+f,y?M+O:this.right,t.rtl),b(l.x(M),R,D),y)h.x+=O+d;else if(typeof D.text!="string"){const N=c.lineHeight;h.y+=Gl(D,N)}else h.y+=w}),Al(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=J(n.font),r=ot(n.padding);if(!n.display)return;const s=me(t.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=r.top+l;let d,u=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+c,u=st(t.align,u,this.right-f);else{const p=this.columnSizes.reduce((g,m)=>Math.max(g,m.height),0);d=c+st(t.align,this.top,this.bottom-p-t.labels.padding-this._computeTitleHeight())}const h=st(a,u,u+f);o.textAlign=s.textAlign(Gr(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,ce(o,n.text,h,d,i)}_computeTitleHeight(){const t=this.options.title,n=J(t.font),i=ot(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,r,s;if(Be(t,this.left,this.right)&&Be(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Be(t,r.left,r.left+r.width)&&Be(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!ib(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,s=Qv(r,i);r&&!s&&U(n.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!s&&U(n.onHover,[t,i,this],this)}else i&&U(n.onClick,[t,i,this],this)}}function tb(e,t,n,i,r){const s=eb(i,e,t,n),o=nb(r,i,t.lineHeight);return{itemWidth:s,itemHeight:o}}function eb(e,t,n,i){let r=e.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),t+n.size/2+i.measureText(r).width}function nb(e,t,n){let i=e;return typeof t.text!="string"&&(i=Gl(t,n)),i}function Gl(e,t){const n=e.text?e.text.length+.5:0;return t*n}function ib(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var rb={id:"legend",_element:ko,start(e,t,n){const i=e.legend=new ko({ctx:e.ctx,options:n,chart:e});Dt.configure(e,i,n),Dt.addBox(e,i)},stop(e){Dt.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;Dt.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),d=ot(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Ul extends de{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const r=q(i.text)?i.text.length:1;this._padding=ot(i.padding);const s=r*J(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:r,right:s,options:o}=this,a=o.align;let l=0,c,d,u;return this.isHorizontal()?(d=st(a,i,s),u=n+t,c=s-i):(o.position==="left"?(d=i+t,u=st(a,r,n),l=Z*-.5):(d=s-t,u=st(a,n,r),l=Z*.5),c=r-n),{titleX:d,titleY:u,maxWidth:c,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=J(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);ce(t,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:Gr(n.align),textBaseline:"middle",translation:[o,a]})}}function sb(e,t){const n=new Ul({ctx:e.ctx,options:t,chart:e});Dt.configure(e,n,t),Dt.addBox(e,n),e.titleBlock=n}var ob={id:"title",_element:Ul,start(e,t,n){sb(e,n)},stop(e){const t=e.titleBlock;Dt.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;Dt.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const We={average(e){if(!e.length)return!1;let t,n,i=0,r=0,s=0;for(t=0,n=e.length;t<n;++t){const o=e[t].element;if(o&&o.hasValue()){const a=o.tooltipPosition();i+=a.x,r+=a.y,++s}}return{x:i/s,y:r/s}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=e.length;s<o;++s){const l=e[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),d=rr(t,c);d<r&&(r=d,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function Tt(e,t){return t&&(q(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Bt(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function ab(e,t){const{element:n,datasetIndex:i,index:r}=t,s=e.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:e,label:o,parsed:s.getParsed(r),raw:e.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function Ro(e,t){const n=e.chart.ctx,{body:i,footer:r,title:s}=e,{boxWidth:o,boxHeight:a}=t,l=J(t.bodyFont),c=J(t.titleFont),d=J(t.footerFont),u=s.length,f=r.length,h=i.length,p=ot(t.padding);let g=p.height,m=0,v=i.reduce((x,w)=>x+w.before.length+w.lines.length+w.after.length,0);if(v+=e.beforeBody.length+e.afterBody.length,u&&(g+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),v){const x=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=h*x+(v-h)*l.lineHeight+(v-1)*t.bodySpacing}f&&(g+=t.footerMarginTop+f*d.lineHeight+(f-1)*t.footerSpacing);let b=0;const y=function(x){m=Math.max(m,n.measureText(x).width+b)};return n.save(),n.font=c.string,z(e.title,y),n.font=l.string,z(e.beforeBody.concat(e.afterBody),y),b=t.displayColors?o+2+t.boxPadding:0,z(i,x=>{z(x.before,y),z(x.lines,y),z(x.after,y)}),b=0,n.font=d.string,z(e.footer,y),n.restore(),m+=p.width,{width:m,height:g}}function lb(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function cb(e,t,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(e==="left"&&r+s+o>t.width||e==="right"&&r-s-o<0)return!0}function db(e,t,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return i==="center"?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),cb(c,e,t,n)&&(c="center"),c}function Lo(e,t,n){const i=n.yAlign||t.yAlign||lb(e,n);return{xAlign:n.xAlign||t.xAlign||db(e,t,n,i),yAlign:i}}function ub(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function fb(e,t,n){let{y:i,height:r}=e;return t==="top"?i+=n:t==="bottom"?i-=r+n:i-=r/2,i}function Bo(e,t,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,c=r+s,{topLeft:d,topRight:u,bottomLeft:f,bottomRight:h}=ge(o);let p=ub(t,a);const g=fb(t,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(d,f)+r:a==="right"&&(p+=Math.max(u,h)+r),{x:wt(p,0,i.width-t.width),y:wt(g,0,i.height-t.height)}}function Ln(e,t,n){const i=ot(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function Fo(e){return Tt([],Bt(e))}function hb(e,t,n){return Kt(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function No(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const $l={beforeTitle:Rt,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:Rt,beforeBody:Rt,beforeLabel:Rt,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return $(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Rt,afterBody:Rt,beforeFooter:Rt,footer:Rt,afterFooter:Rt};function ct(e,t,n,i){const r=e[t].call(n,i);return typeof r>"u"?$l[t].call(n,i):r}class dr extends de{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new El(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=hb(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,r=ct(i,"beforeTitle",this,t),s=ct(i,"title",this,t),o=ct(i,"afterTitle",this,t);let a=[];return a=Tt(a,Bt(r)),a=Tt(a,Bt(s)),a=Tt(a,Bt(o)),a}getBeforeBody(t,n){return Fo(ct(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,r=[];return z(t,s=>{const o={before:[],lines:[],after:[]},a=No(i,s);Tt(o.before,Bt(ct(a,"beforeLabel",this,s))),Tt(o.lines,ct(a,"label",this,s)),Tt(o.after,Bt(ct(a,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(t,n){return Fo(ct(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,r=ct(i,"beforeFooter",this,t),s=ct(i,"footer",this,t),o=ct(i,"afterFooter",this,t);let a=[];return a=Tt(a,Bt(r)),a=Tt(a,Bt(s)),a=Tt(a,Bt(o)),a}_createItems(t){const n=this._active,i=this.chart.data,r=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(ab(this.chart,n[l]));return t.filter&&(a=a.filter((d,u,f)=>t.filter(d,u,f,i))),t.itemSort&&(a=a.sort((d,u)=>t.itemSort(d,u,i))),z(a,d=>{const u=No(t.callbacks,d);r.push(ct(u,"labelColor",this,d)),s.push(ct(u,"labelPointStyle",this,d)),o.push(ct(u,"labelTextColor",this,d))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const a=We[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=Ro(this,i),c=Object.assign({},a,l),d=Lo(this.chart,i,c),u=Bo(i,c,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:u.x,y:u.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,r){const s=this.getCaretPosition(t,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(t,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:d,bottomRight:u}=ge(a),{x:f,y:h}=t,{width:p,height:g}=n;let m,v,b,y,x,w;return s==="center"?(x=h+g/2,r==="left"?(m=f,v=m-o,y=x+o,w=x-o):(m=f+p,v=m+o,y=x-o,w=x+o),b=m):(r==="left"?v=f+Math.max(l,d)+o:r==="right"?v=f+p-Math.max(c,u)-o:v=this.caretX,s==="top"?(y=h,x=y-o,m=v-o,b=v+o):(y=h+g,x=y+o,m=v+o,b=v-o),w=y),{x1:m,x2:v,x3:b,y1:y,y2:x,y3:w}}drawTitle(t,n,i){const r=this.title,s=r.length;let o,a,l;if(s){const c=me(i.rtl,this.x,this.width);for(t.x=Ln(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=J(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(r[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===s&&(t.y+=i.titleMarginBottom-a)}}_drawColorBox(t,n,i,r,s){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=s,d=J(s.bodyFont),u=Ln(this,"left",s),f=r.x(u),h=l<d.lineHeight?(d.lineHeight-l)/2:0,p=n.y+h;if(s.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},m=r.leftForLtr(f,c)+c/2,v=p+l/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,or(t,g,m,v),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,or(t,g,m,v)}else{t.lineWidth=W(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const g=r.leftForLtr(f,c),m=r.leftForLtr(r.xPlus(f,1),c-2),v=ge(o.borderRadius);Object.values(v).some(b=>b!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,si(t,{x:g,y:p,w:c,h:l,radius:v}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),si(t,{x:m,y:p+1,w:c-2,h:l-2,radius:v}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(g,p,c,l),t.strokeRect(g,p,c,l),t.fillStyle=o.backgroundColor,t.fillRect(m,p+1,c-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:d}=i,u=J(i.bodyFont);let f=u.lineHeight,h=0;const p=me(i.rtl,this.x,this.width),g=function(C){n.fillText(C,p.x(t.x+h),t.y+f/2),t.y+=f+s},m=p.textAlign(o);let v,b,y,x,w,D,S;for(n.textAlign=o,n.textBaseline="middle",n.font=u.string,t.x=Ln(this,m,i),n.fillStyle=i.bodyColor,z(this.beforeBody,g),h=a&&m!=="right"?o==="center"?c/2+d:c+2+d:0,x=0,D=r.length;x<D;++x){for(v=r[x],b=this.labelTextColors[x],n.fillStyle=b,z(v.before,g),y=v.lines,a&&y.length&&(this._drawColorBox(n,t,x,p,i),f=Math.max(u.lineHeight,l)),w=0,S=y.length;w<S;++w)g(y[w]),f=u.lineHeight;z(v.after,g)}h=0,f=u.lineHeight,z(this.afterBody,g),t.y-=s}drawFooter(t,n,i){const r=this.footer,s=r.length;let o,a;if(s){const l=me(i.rtl,this.x,this.width);for(t.x=Ln(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=J(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(r[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,n,i,r){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:d}=i,{topLeft:u,topRight:f,bottomLeft:h,bottomRight:p}=ge(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(a+u,l),o==="top"&&this.drawCaret(t,n,i,r),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&s==="right"&&this.drawCaret(t,n,i,r),n.lineTo(a+c,l+d-p),n.quadraticCurveTo(a+c,l+d,a+c-p,l+d),o==="bottom"&&this.drawCaret(t,n,i,r),n.lineTo(a+h,l+d),n.quadraticCurveTo(a,l+d,a,l+d-h),o==="center"&&s==="left"&&this.drawCaret(t,n,i,r),n.lineTo(a,l+u),n.quadraticCurveTo(a,l,a+u,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=We[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Ro(this,t),l=Object.assign({},o,this._size),c=Lo(n,t,l),d=Bo(t,l,c,n);(r._to!==d.x||s._to!==d.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=ot(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=i,this.drawBackground(s,t,r,n),Ml(t,n.textDirection),s.y+=o.top,this.drawTitle(s,t,n),this.drawBody(s,t,n),this.drawFooter(s,t,n),Al(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,r=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!Qn(i,r),o=this._positionChanged(r,n);(s||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(t,s,n,i),a=this._positionChanged(o,t),l=n||!Qn(o,s)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,i,r){const s=this.options;if(t.type==="mouseout")return[];if(!r)return n;const o=this.chart.getElementsAtEventForMode(t,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:i,caretY:r,options:s}=this,o=We[s.position].call(this,t,n);return o!==!1&&(i!==o.x||r!==o.y)}}T(dr,"positioners",We);var pb={id:"tooltip",_element:dr,positioners:We,afterInit(e,t,n){n&&(e.tooltip=new dr({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:$l},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const gb=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function mb(e,t,n,i){const r=e.indexOf(t);if(r===-1)return gb(e,t,n,i);const s=e.lastIndexOf(t);return r!==s?n:r}const vb=(e,t)=>e===null?null:wt(Math.round(e),0,t);function Wo(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class ur extends ue{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,n){if($(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:mb(i,t,L(n,t),this._addedLabels),vb(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=t===0&&n===s.length-1?s:s.slice(t,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=n;o++)r.push({value:o});return r}getLabelForValue(t){return Wo.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}T(ur,"id","category"),T(ur,"defaults",{ticks:{callback:Wo}});function bb(e,t){const n=[],{bounds:r,step:s,min:o,max:a,precision:l,count:c,maxTicks:d,maxDigits:u,includeBounds:f}=e,h=s||1,p=d-1,{min:g,max:m}=t,v=!$(o),b=!$(a),y=!$(c),x=(m-g)/(u+1);let w=js((m-g)/p/h)*h,D,S,C,I;if(w<1e-14&&!v&&!b)return[{value:g},{value:m}];I=Math.ceil(m/w)-Math.floor(g/w),I>p&&(w=js(I*w/p/h)*h),$(l)||(D=Math.pow(10,l),w=Math.ceil(w*D)/D),r==="ticks"?(S=Math.floor(g/w)*w,C=Math.ceil(m/w)*w):(S=g,C=m),v&&b&&s&&og((a-o)/s,w/1e3)?(I=Math.round(Math.min((a-o)/w,d)),w=(a-o)/I,S=o,C=a):y?(S=v?o:S,C=b?a:C,I=c-1,w=(C-S)/I):(I=(C-S)/w,je(I,Math.round(I),w/1e3)?I=Math.round(I):I=Math.ceil(I));const O=Math.max(Gs(w),Gs(S));D=Math.pow(10,$(l)?O:l),S=Math.round(S*D)/D,C=Math.round(C*D)/D;let M=0;for(v&&(f&&S!==o?(n.push({value:o}),S<o&&M++,je(Math.round((S+M*w)*D)/D,o,Ho(o,x,e))&&M++):S<o&&M++);M<I;++M){const R=Math.round((S+M*w)*D)/D;if(b&&R>a)break;n.push({value:R})}return b&&f&&C!==a?n.length&&je(n[n.length-1].value,a,Ho(a,x,e))?n[n.length-1].value=a:n.push({value:a}):(!b||C===a)&&n.push({value:C}),n}function Ho(e,t,{horizontal:n,minRotation:i}){const r=Vt(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*t*(""+e).length;return Math.min(t/s,o)}class li extends ue{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return $(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=l=>r=n?r:l,a=l=>s=i?s:l;if(t){const l=ye(r),c=ye(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);a(s+l),t||o(r-l)}this.min=r,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=bb(r,s);return t.bounds==="ticks"&&pl(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-n)/Math.max(t.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return $r(t,this.chart.options.locale,this.options.ticks.format)}}class fr extends li{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=tt(t)?t:0,this.max=tt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=Vt(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}T(fr,"id","linear"),T(fr,"defaults",{ticks:{callback:xi.formatters.numeric}});const nn=e=>Math.floor(zt(e)),ee=(e,t)=>Math.pow(10,nn(e)+t);function zo(e){return e/Math.pow(10,nn(e))===1}function Vo(e,t,n){const i=Math.pow(10,n),r=Math.floor(e/i);return Math.ceil(t/i)-r}function xb(e,t){const n=t-e;let i=nn(n);for(;Vo(e,t,i)>10;)i++;for(;Vo(e,t,i)<10;)i--;return Math.min(i,nn(e))}function yb(e,{min:t,max:n}){t=ht(e.min,t);const i=[],r=nn(t);let s=xb(t,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=r>s?Math.pow(10,r):0,c=Math.round((t-l)*o)/o,d=Math.floor((t-l)/a/10)*a*10;let u=Math.floor((c-d)/Math.pow(10,s)),f=ht(e.min,Math.round((l+d+u*Math.pow(10,s))*o)/o);for(;f<n;)i.push({value:f,major:zo(f),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(s++,u=2,o=s>=0?1:o),f=Math.round((l+d+u*Math.pow(10,s))*o)/o;const h=ht(e.max,f);return i.push({value:h,major:zo(h),significand:u}),i}class jo extends ue{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const i=li.prototype.parse.apply(this,[t,n]);if(i===0){this._zero=!0;return}return tt(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=tt(t)?Math.max(0,t):null,this.max=tt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!tt(this._userMin)&&(this.min=t===ee(this.min,0)?ee(this.min,-1):ee(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let i=this.min,r=this.max;const s=a=>i=t?i:a,o=a=>r=n?r:a;i===r&&(i<=0?(s(1),o(10)):(s(ee(i,-1)),o(ee(r,1)))),i<=0&&s(ee(r,-1)),r<=0&&o(ee(i,1)),this.min=i,this.max=r}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},i=yb(n,this);return t.bounds==="ticks"&&pl(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":$r(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=zt(t),this._valueRange=zt(this.max)-zt(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(zt(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}T(jo,"id","logarithmic"),T(jo,"defaults",{ticks:{callback:xi.formatters.logarithmic,major:{enabled:!0}}});function hr(e){const t=e.ticks;if(t.display&&e.display){const n=ot(t.backdropPadding);return L(t.font&&t.font.size,Y.font.size)+n.height}return 0}function wb(e,t,n){return n=q(n)?n:[n],{w:Pg(e,t.string,n),h:n.length*t.lineHeight}}function Go(e,t,n,i,r){return e===i||e===r?{start:t-n/2,end:t+n/2}:e<i||e>r?{start:t-n,end:t}:{start:t,end:t+n}}function Db(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],r=[],s=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?Z/s:0;for(let l=0;l<s;l++){const c=o.setContext(e.getPointLabelContext(l));r[l]=c.padding;const d=e.getPointPosition(l,e.drawingArea+r[l],a),u=J(c.font),f=wb(e.ctx,u,e._pointLabels[l]);i[l]=f;const h=Pt(e.getIndexAngle(l)+a),p=Math.round(Vr(h)),g=Go(p,d.x,f.w,0,180),m=Go(p,d.y,f.h,90,270);Sb(n,t,h,g,m)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=Ib(e,i,r)}function Sb(e,t,n,i,r){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<t.l?(a=(t.l-i.start)/s,e.l=Math.min(e.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/s,e.r=Math.max(e.r,t.r+a)),r.start<t.t?(l=(t.t-r.start)/o,e.t=Math.min(e.t,t.t-l)):r.end>t.b&&(l=(r.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function Cb(e,t,n){const i=e.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=n,l=e.getPointPosition(t,i+r+o,s),c=Math.round(Vr(Pt(l.angle+ut))),d=Ab(l.y,a.h,c),u=Pb(c),f=Mb(l.x,a.w,u);return{visible:!0,x:l.x,y:d,textAlign:u,left:f,top:d,right:f+a.w,bottom:d+a.h}}function _b(e,t){if(!t)return!0;const{left:n,top:i,right:r,bottom:s}=e;return!(Nt({x:n,y:i},t)||Nt({x:n,y:s},t)||Nt({x:r,y:i},t)||Nt({x:r,y:s},t))}function Ib(e,t,n){const i=[],r=e._pointLabels.length,s=e.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:hr(s)/2,additionalAngle:o?Z/r:0};let c;for(let d=0;d<r;d++){l.padding=n[d],l.size=t[d];const u=Cb(e,d,l);i.push(u),a==="auto"&&(u.visible=_b(u,c),u.visible&&(c=u))}return i}function Pb(e){return e===0||e===180?"center":e<180?"left":"right"}function Mb(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function Ab(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function Ob(e,t,n){const{left:i,top:r,right:s,bottom:o}=n,{backdropColor:a}=t;if(!$(a)){const l=ge(t.borderRadius),c=ot(t.backdropPadding);e.fillStyle=a;const d=i-c.left,u=r-c.top,f=s-i+c.width,h=o-r+c.height;Object.values(l).some(p=>p!==0)?(e.beginPath(),si(e,{x:d,y:u,w:f,h,radius:l}),e.fill()):e.fillRect(d,u,f,h)}}function Eb(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let r=t-1;r>=0;r--){const s=e._pointLabelItems[r];if(!s.visible)continue;const o=i.setContext(e.getPointLabelContext(r));Ob(n,o,s);const a=J(o.font),{x:l,y:c,textAlign:d}=s;ce(n,e._pointLabels[r],l,c+a.lineHeight/2,a,{color:o.color,textAlign:d,textBaseline:"middle"})}}function ql(e,t,n,i){const{ctx:r}=e;if(n)r.arc(e.xCenter,e.yCenter,t,0,Ct);else{let s=e.getPointPosition(0,t);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=e.getPointPosition(o,t),r.lineTo(s.x,s.y)}}function Tb(e,t,n,i,r){const s=e.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!i||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),ql(e,n,o,i),s.closePath(),s.stroke(),s.restore())}function kb(e,t,n){return Kt(e,{label:n,index:t,type:"pointLabel"})}class Bn extends li{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=ot(hr(this.options)/2),n=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=tt(t)&&!isNaN(t)?t:0,this.max=tt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/hr(this.options))}generateTickLabels(t){li.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,i)=>{const r=U(this.options.pointLabels.callback,[n,i],this);return r||r===0?r:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?Db(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,i,r){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,i,r))}getIndexAngle(t){const n=Ct/(this._pointLabels.length||1),i=this.options.startAngle||0;return Pt(t*n+Vt(i))}getDistanceFromCenterForValue(t){if($(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if($(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const i=n[t];return kb(this.getContext(),t,i)}}getPointPosition(t,n,i=0){const r=this.getIndexAngle(t)-ut+i;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:i,right:r,bottom:s}=this._pointLabelItems[t];return{left:n,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),ql(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:i,grid:r,border:s}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&Eb(this,o),r.display&&this.ticks.forEach((d,u)=>{if(u!==0){l=this.getDistanceFromCenterForValue(d.value);const f=this.getContext(u),h=r.setContext(f),p=s.setContext(f);Tb(this,h,l,o,p)}}),i.display){for(t.save(),a=o-1;a>=0;a--){const d=i.setContext(this.getPointLabelContext(a)),{color:u,lineWidth:f}=d;!f||!u||(t.lineWidth=f,t.strokeStyle=u,t.setLineDash(d.borderDash),t.lineDashOffset=d.borderDashOffset,l=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!n.reverse)return;const c=i.setContext(this.getContext(l)),d=J(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=d.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const u=ot(c.backdropPadding);t.fillRect(-o/2-u.left,-s-d.size/2-u.top,o+u.width,d.size+u.height)}ce(t,a.label,0,-s,d,{color:c.color})}),t.restore()}drawTitle(){}}T(Bn,"id","radialLinear"),T(Bn,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:xi.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),T(Bn,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),T(Bn,"descriptors",{angleLines:{_fallback:"grid"}});const Di={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},dt=Object.keys(Di);function Rb(e,t){return e-t}function Uo(e,t){if($(t))return null;const n=e._adapter,{parser:i,round:r,isoWeekday:s}=e._parseOpts;let o=t;return typeof i=="function"&&(o=i(o)),tt(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(tn(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function $o(e,t,n,i){const r=dt.length;for(let s=dt.indexOf(e);s<r-1;++s){const o=Di[dt[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=i)return dt[s]}return dt[r-1]}function Lb(e,t,n,i,r){for(let s=dt.length-1;s>=dt.indexOf(n);s--){const o=dt[s];if(Di[o].common&&e._adapter.diff(r,i,o)>=t-1)return o}return dt[n?dt.indexOf(n):0]}function Bb(e){for(let t=dt.indexOf(e)+1,n=dt.length;t<n;++t)if(Di[dt[t]].common)return dt[t]}function qo(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:r}=jr(n,t),s=n[i]>=t?n[i]:n[r];e[s]=!0}}function Fb(e,t,n,i){const r=e._adapter,s=+r.startOf(t[0].value,i),o=t[t.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(t[l].major=!0);return t}function Yo(e,t,n){const i=[],r={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],r[a]=o,i.push({value:a,major:!1});return s===0||!n?i:Fb(e,i,r,n)}class ci extends ue{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),r=this._adapter=new Rm._date(t.adapters.date);r.init(n),Ve(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:Uo(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=tt(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=tt(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,a=ug(r,s,o);return this._unit=n.unit||(i.autoSkip?$o(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):Lb(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Bb(this._unit),this.initOffsets(r),t.reverse&&a.reverse(),Yo(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,r,s;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?n=1-r:n=(this.getDecimalForValue(t[1])-r)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?i=s:i=(s-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=wt(n,0,o),i=wt(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||$o(s.minUnit,n,i,this._getLabelCapacity(n)),a=L(r.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=tn(l)||l===!0,d={};let u=n,f,h;if(c&&(u=+t.startOf(u,"isoWeek",l)),u=+t.startOf(u,c?"day":o),t.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const p=r.ticks.source==="data"&&this.getDataTimestamps();for(f=u,h=0;f<i;f=+t.add(f,a,o),h++)qo(d,f,p);return(f===i||r.bounds==="ticks"||h===1)&&qo(d,f,p),Object.keys(d).sort((g,m)=>g-m).map(g=>+g)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const r=this.options.time.displayFormats,s=this._unit,o=n||r[s];return this._adapter.format(t,o)}_tickFormatFunction(t,n,i,r){const s=this.options,o=s.ticks.callback;if(o)return U(o,[t,n,i],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,d=l&&a[l],u=c&&a[c],f=i[n],h=c&&u&&f&&f.major;return this._adapter.format(t,r||(h?u:d))}generateTickLabels(t){let n,i,r;for(n=0,i=t.length;n<i;++n)r=t[n],r.label=this._tickFormatFunction(r.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,r=Vt(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:i*s+a*o,h:i*o+a*s}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(t,0,Yo(this,[t],this._majorUnit),r),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)t=t.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)t.push(Uo(this,r[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return hg(t.sort(Rb))}}T(ci,"id","time"),T(ci,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Fn(e,t,n){let i=0,r=e.length-1,s,o,a,l;n?(t>=e[i].pos&&t<=e[r].pos&&({lo:i,hi:r}=se(e,"pos",t)),{pos:s,time:a}=e[i],{pos:o,time:l}=e[r]):(t>=e[i].time&&t<=e[r].time&&({lo:i,hi:r}=se(e,"time",t)),{time:s,pos:a}=e[i],{time:o,pos:l}=e[r]);const c=o-s;return c?a+(l-a)*(t-s)/c:a}class Xo extends ci{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Fn(n,this.min),this._tableRange=Fn(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,r=[],s=[];let o,a,l,c,d;for(o=0,a=t.length;o<a;++o)c=t[o],c>=n&&c<=i&&r.push(c);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)d=r[o+1],l=r[o-1],c=r[o],Math.round((d+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Fn(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return Fn(this._table,i*this._tableRange+this._minPos,!0)}}T(Xo,"id","timeseries"),T(Xo,"defaults",ci.defaults);const Yl="label";function Ko(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Nb(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function Xl(e,t){e.labels=t}function Kl(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Yl;const i=[];e.datasets=t.map(r=>{const s=e.datasets.find(o=>o[n]===r[n]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function Wb(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yl;const n={labels:[],datasets:[]};return Xl(n,e.labels),Kl(n,e.datasets,t),n}function Hb(e,t){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:d,updateMode:u,...f}=e,h=P.useRef(null),p=P.useRef(),g=()=>{h.current&&(p.current=new wi(h.current,{type:o,data:Wb(a,s),options:l&&{...l},plugins:c}),Ko(t,p.current))},m=()=>{Ko(t,null),p.current&&(p.current.destroy(),p.current=null)};return P.useEffect(()=>{!r&&p.current&&l&&Nb(p.current,l)},[r,l]),P.useEffect(()=>{!r&&p.current&&Xl(p.current.config.data,a.labels)},[r,a.labels]),P.useEffect(()=>{!r&&p.current&&a.datasets&&Kl(p.current.config.data,a.datasets,s)},[r,a.datasets]),P.useEffect(()=>{p.current&&(r?(m(),setTimeout(g)):p.current.update(u))},[r,l,a.labels,a.datasets,u]),P.useEffect(()=>{p.current&&(m(),setTimeout(g))},[o]),P.useEffect(()=>(g(),()=>m()),[]),j.createElement("canvas",Object.assign({ref:h,role:"img",height:n,width:i},f),d)}const zb=P.forwardRef(Hb);function Vb(e,t){return wi.register(t),P.forwardRef((n,i)=>j.createElement(zb,Object.assign({},n,{ref:i,type:e})))}const jb=Vb("line",Hn);wi.register(ur,fr,jn,Ne,ob,pb,rb);const Gb=6e4,Ub=()=>{const{data:e,isSuccess:t}=oc(void 0,{pollingInterval:Gb}),[n,i]=P.useState(null);return P.useEffect(()=>{e&&i({labels:e.map(({timestep:r})=>r),datasets:[{data:e.map(({currentValue:r})=>r),borderColor:"black"}]})},[e]),k.jsxs("div",{className:"graph-wrapper",children:[k.jsx("div",{className:"graph-header",children:"Потребление"}),k.jsx("div",{className:"graph-content",children:n&&k.jsx(jb,{options:$b,data:n,redraw:t})})]})},$b={tooltips:{enabled:!1},plugins:{legend:{display:!1}},scales:{x:{grid:{drawOnChartArea:!1,display:!1},border:{width:2,color:"black"},ticks:{display:!1}},y:{grid:{drawOnChartArea:!1,display:!1},border:{width:2,color:"black"},ticks:{display:!1}}}};const qb=6e4,Yb=()=>{const{data:e}=ac(void 0,{pollingInterval:qb}),[t,n]=P.useState(null);return k.jsx("div",{className:"table-wrapper",children:k.jsxs("div",{className:"table",children:[k.jsx("div",{className:"table-header",children:Xb.map((i,r)=>k.jsxs("div",{className:"table-header-cell",onMouseEnter:()=>n(r),onMouseLeave:()=>n(null),children:[i,r===t&&k.jsx("div",{className:"tooltip",children:i})]},i))}),k.jsx("div",{className:"table-body",children:e==null?void 0:e.map(({currentValue:i,prevValue:r,change:s,timestep:o})=>k.jsxs("div",{className:"table-rows",children:[k.jsx("div",{className:"table-body-cell",children:o}),k.jsx("div",{className:"table-body-cell",children:i}),k.jsx("div",{className:"table-body-cell",children:r}),k.jsx("div",{className:"table-body-cell",children:s}),k.jsxs("div",{className:"table-body-cell",children:[(s*100).toFixed(1)," %"]})]},o))})]})})},Xb=["Время показателя","Текущее значение","Предыдущее значение","Изменение в долях","Изменение в %"];let Xi=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");const Kb=({isOpen:e,children:t})=>{if(e)return k.jsx("div",{className:"dropdown-wrapper",children:t})},Jb=()=>k.jsx("svg",{width:"29",height:"29",viewBox:"0 0 29 29",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:k.jsx("path",{d:"M25.579 15.921C25.6387 15.457 25.6834 14.993 25.6834 14.5C25.6834 14.007 25.6387 13.543 25.579 13.079L28.7244 10.6865C29.0076 10.469 29.0821 10.0775 28.9032 9.7585L25.9219 4.7415C25.7877 4.5095 25.5343 4.379 25.266 4.379C25.1765 4.379 25.0871 4.3935 25.0126 4.4225L21.3008 5.8725C20.5256 5.2925 19.6908 4.814 18.7815 4.4515L18.2151 0.609C18.1704 0.261 17.8573 0 17.4846 0H11.5219C11.1493 0 10.8362 0.261 10.7915 0.609L10.225 4.4515C9.31574 4.814 8.48096 5.307 7.7058 5.8725L3.99402 4.4225C3.90458 4.3935 3.81514 4.379 3.7257 4.379C3.47228 4.379 3.21887 4.5095 3.08471 4.7415L0.103351 9.7585C-0.090437 10.0775 -0.000996223 10.469 0.282232 10.6865L3.42756 13.079C3.36793 13.543 3.32321 14.0215 3.32321 14.5C3.32321 14.9785 3.36793 15.457 3.42756 15.921L0.282232 18.3135C-0.000996223 18.531 -0.0755303 18.9225 0.103351 19.2415L3.08471 24.2585C3.21887 24.4905 3.47228 24.621 3.7406 24.621C3.83004 24.621 3.91948 24.6065 3.99402 24.5775L7.7058 23.1275C8.48096 23.7075 9.31574 24.186 10.225 24.5485L10.7915 28.391C10.8362 28.739 11.1493 29 11.5219 29H17.4846C17.8573 29 18.1704 28.739 18.2151 28.391L18.7815 24.5485C19.6908 24.186 20.5256 23.693 21.3008 23.1275L25.0126 24.5775C25.102 24.6065 25.1914 24.621 25.2809 24.621C25.5343 24.621 25.7877 24.4905 25.9219 24.2585L28.9032 19.2415C29.0821 18.9225 29.0076 18.531 28.7244 18.3135L25.579 15.921ZM22.6275 13.4415C22.6871 13.891 22.702 14.1955 22.702 14.5C22.702 14.8045 22.6722 15.1235 22.6275 15.5585L22.4188 17.197L23.7455 18.212L25.3554 19.43L24.3119 21.1845L22.4188 20.445L20.8685 19.836L19.5269 20.822C18.8859 21.286 18.2747 21.634 17.6635 21.8805L16.0834 22.504L15.8449 24.1425L15.5468 26.1H13.4598L12.9381 22.504L11.358 21.8805C10.717 21.6195 10.1207 21.286 9.52443 20.851L8.16791 19.836L6.5878 20.4595L4.69464 21.199L3.65116 19.4445L5.26109 18.2265L6.5878 17.2115L6.3791 15.573C6.33438 15.1235 6.30457 14.79 6.30457 14.5C6.30457 14.21 6.33438 13.8765 6.3791 13.4415L6.5878 11.803L5.26109 10.788L3.65116 9.57L4.69464 7.8155L6.5878 8.555L8.1381 9.164L9.47971 8.178C10.1207 7.714 10.7319 7.366 11.3431 7.1195L12.9232 6.496L13.1617 4.8575L13.4598 2.9H15.5319L16.0536 6.496L17.6337 7.1195C18.2747 7.3805 18.871 7.714 19.4672 8.149L20.8238 9.164L22.4039 8.5405L24.297 7.801L25.3405 9.5555L23.7455 10.788L22.4188 11.803L22.6275 13.4415ZM14.5033 8.7C11.2089 8.7 8.54058 11.2955 8.54058 14.5C8.54058 17.7045 11.2089 20.3 14.5033 20.3C17.7977 20.3 20.466 17.7045 20.466 14.5C20.466 11.2955 17.7977 8.7 14.5033 8.7ZM14.5033 17.4C12.8635 17.4 11.5219 16.095 11.5219 14.5C11.5219 12.905 12.8635 11.6 14.5033 11.6C16.143 11.6 17.4846 12.905 17.4846 14.5C17.4846 16.095 16.143 17.4 14.5033 17.4Z",fill:"black"})}),Zb="/first-bit/assets/Group 1668-f6a93934.png",Qb="/first-bit/assets/Group 1669-9d3d784d.png",tx="/first-bit/assets/Group 1670-55c02b27.png";const ex=({draggableId:e,content:t,index:n,preview:i,isWidgets:r})=>k.jsx(Dp,{draggableId:e,index:n,children:s=>k.jsx("div",{ref:s.innerRef,...s.draggableProps,...s.dragHandleProps,className:"draggable-content",style:{...s.draggableProps.style},children:r?i:t})});const Jo=({columnId:e,widgets:t,isWidgets:n})=>k.jsx(cl,{droppableId:e,children:i=>k.jsxs("div",{className:"droppable-content",...i.droppableProps,ref:i.innerRef,children:[t.map((r,s)=>k.jsx(ex,{draggableId:r.id,content:r.content,preview:r.preview,isWidgets:n,index:s},r.id)),i.placeholder]})},e);const nx=()=>{const[e,t]=P.useState(ix),[n,i]=P.useState(!1),r=()=>{i(!n)};function s(o,a){if(!o.destination)return;const{source:l,destination:c}=o;if(l.droppableId!==c.droppableId){const d=a[l.droppableId],u=a[c.droppableId],f=[...d.items],h=[...u.items],[p]=f.splice(l.index,1);if(h.splice(c.index,0,p),c.droppableId==="DROPDOWN"){const g=[...d.items],m=[...u.items],[v]=g.splice(l.index,1);m.splice(c.index,0,v)}else if(h.length>1){const g=h.findIndex(v=>v.id!==p.id),[m]=h.splice(g,1);f.push(m)}t({...a,[l.droppableId]:{...d,items:f},[c.droppableId]:{...u,items:h}})}else{const d=a[l.droppableId],u=[...d.items],[f]=u.splice(l.index,1);u.splice(c.index,0,f),t({...a,[l.droppableId]:{...d,items:u}})}}return k.jsx("div",{className:"drag-container",children:k.jsxs(Wh,{onDragEnd:o=>s(o,e),children:[Object.entries(e).map(([o,a])=>o==="DROPDOWN"?k.jsx(Kb,{isOpen:n,children:k.jsx(Jo,{isWidgets:o==="DROPDOWN",widgets:a.items,columnId:o})},o):k.jsx("div",{children:k.jsx(Jo,{widgets:a.items,columnId:o})},o)),k.jsx("div",{className:"dropdown-menu",onClick:r,children:k.jsx(Jb,{})})]})})},ix={LEFT_TOP:{items:[]},LEFT_BOT:{items:[]},RIGHT_TOP:{items:[]},RIGHT_BOT:{items:[]},DROPDOWN:{items:[{id:Xi(),content:k.jsx(uc,{}),preview:k.jsx("img",{style:{width:"252px",height:"252px"},src:Zb,alt:"control-value-cap"})},{id:Xi(),content:k.jsx(Ub,{}),preview:k.jsx("img",{style:{width:"252px",height:"126px"},src:Qb,alt:"graph-cap"})},{id:Xi(),content:k.jsx(Yb,{}),preview:k.jsx("img",{style:{width:"252px",height:"126px"},src:tx,alt:"table-cap"})}]}},lx=()=>k.jsx(nx,{});export{lx as default};
